;==================================piccolo daimao by FRS GAMES=============================================
[Data]
life = 1000
attack = 80
defence = 90
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 0
IntPersistIndex = 60
FloatPersistIndex = 40
[Size]
xscale = 1
yscale = 1
ground.back = 15
ground.front = 16
air.back = 12
air.front = 12
height = 60
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = -5, -90
mid.pos = -5, -60
shadowoffset = 0
draw.offset = 0,0
[Velocity]
walk.fwd  = 2.4
walk.back = -2.2
run.fwd  = 7.6, 0
run.back = -7.5,0
jump.neu = 0,-8.4
jump.back = -2.55
jump.fwd = 2.5
runjump.back = -2.55,-8.1
runjump.fwd = 4,-8.1
airjump.neu = 0,-8.1
airjump.back = -2.55
airjump.fwd = 2.5
[Movement]
airjump.num = 1
airjump.height = 35
yaccel = .44
stand.friction = .85
crouch.friction = .82
[Statedef 3400]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3400
ctrl = 0
[State 0, Explod]
type = Explod
trigger1 = time = 40
anim = 2903
pos = -5,-35
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 410
sprpriority = 600
ontop = 1
scale = 1.2,1.3
shadow = 0,0,0
ownpal = 1
removeongethit = 1
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = stateno = 3200
flag = nomusic
flag2 = nobardisplay
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S99,36
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 200
value = S99,35
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S99,34
volume = 255
channel = -1
[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 380
freq = 60
ampl = -4
phase = 90
[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 736
pos = 0,-3
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 380
scale = 1,1
sprpriority = 10
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 537
pos = -3,40
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 380
scale = 1,1
sprpriority = -1
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 20093
pos = -3,-60
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 380
scale = 1,1
sprpriority = 30
removeongethit = 1
[State 2002, BGPalFX]
type = BGPalFX
trigger1 = Time >40
time = 1
add = var(10),var(10),var(10)
color = 0
[State 2002, varrandom]
type = varrandom
trigger1 = time >= 0
v = 10
range = 0,255
[State 0]
type = Projectile
trigger1 = AnimElem = 3
projanim = 3401
projhits = 200
projmisstime = 1
projremovetime = 190
offset = 0,-0
attr = S, HP
damage   = 4,1
animtype = hard
guardflag = MAFD
getpower = 0,0
givepower = 0,0
hitflag = MAFDP
guard.sparkno = s1515151
pausetime = 1,1
guard.pause = 1,60
hitsound   = S2204,122111
sparkno = S151622111
sparkxy = 0,0
guardsound = S210222,1
ground.type = high
ground.slidetime = 5
guard.slide = 3
ground.hittime  = 11
ground.velocity = 0,0
fall = 1
fall.recover = 0
airguard.velocity = -3
air.velocity = 0, 0
[State 0]
type = Projectile
trigger1 = time = 420
projanim = 3401
projhits = 200
projmisstime = 1
projremovetime = 3
offset = 0,-0
attr = S, HP
damage   = 4,1
animtype = hard
getpower = 0,0
givepower = 0,0
hitflag = MAFDP
guard.sparkno = s1515151
pausetime = 1,1
guard.pause = 1,60
hitsound   = S2204,122111
sparkno = S151622111
sparkxy = 0,0
guardsound = S210222,1
ground.type = high
ground.slidetime = 5
guard.slide = 3
ground.hittime  = 11
ground.velocity = 0,0
fall = 1
fall.recover = 0
airguard.velocity = -3
air.velocity = 0, 0
[State 0, SuperPause]
type = SuperPause
trigger1 = time = 430
time = 150
anim = -1
pos = -1
darken = 0
[State 0, Explod]
type = Explod
trigger1 = time = 430
anim = 737
pos = -20,10
postype = left
facing = 1
vfacing = 1
supermove =-1
pausemove=-1
bindtime = -1
removetime = 150
scale = 0.6,0.5
sprpriority = 500
removeongethit = 1
ontop = 1
[State 0, Explod]
type = Explod
trigger1 = time = 430
anim = 738
pos =200,160
postype = left
facing = 1
vfacing = 1
supermove =-1
pausemove=-1
bindtime = -1
scale = 1.1,1.1
sprpriority = 501
removeongethit = 1
ontop = 1
[State 0, Explod]
type = Explod
trigger1 = time = 430
anim = 290010
pos =200,110
postype = left
facing = 1
vfacing = 1
supermove =-1
pausemove=-1
bindtime = -1
removetime = 120
scale = 0.8,0.8
sprpriority = 501
removeongethit = 1
ontop = 1
[State 0, EnvShake]
type = EnvShake
trigger1 = time = 430
time = 150
freq = 60
ampl = -4
phase = 90
[State 0, PowerAdd]
type = PowerAdd
trigger1 = time >40
value = -7
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 430
value = S99,37
volume = 255
channel = -1
[State 0]
type = ChangeState
trigger1 = animTime = 0
value = 3500
ctrl = 1
[Statedef 3500]
type = S
movetype= A
physics= S
velset= 0,0
ctrl= 0
anim = 5300


[State 0, LifeAdd]
type = LifeAdd
trigger1 = time >0
value = -1


[State 0]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

[Statedef 3300]
type = S
movetype= A
physics= S
velset= 0,0
ctrl= 0
anim = 3300
[State 0, PowerAdd]
type = PowerAdd
trigger1 = time >10
value = -20
[State 0, LifeAdd]
type = LifeAdd
trigger1 = time >10
trigger1 = time <350
value = 3
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S99,33
volume = 255
channel = -1
[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 7402
pos = 0,10
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 200
scale = 1,1
sprpriority = 20
ownpal = 0
removeongethit = 1
[State 0]
type  = Helper
trigger1 = (TimeMod = 30,0)
helpertype = normal
name = "efeito para empura"
id  = 9892
pos = 0,0
postype  = p1
facing = 1
stateno = 9892
keyctrl	 = 0
ownpal= 1
supermovetime= 0
pausemovetime= 0
size.xscale  = 1
size.yscale = 1
[State 0]
type= ChangeState
trigger1= animTime= 0
value= 0
ctrl= 1
[Statedef 3200]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3200
ctrl = 0
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = stateno = 3200
flag = nomusic
[State 0]
type = NotHitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 420
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S99,31
volume = 255
channel = -1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 31
time = 3
add = 256,256,256
[state 0]
type = allpalfx
trigger1 =  time = 800
time = 60
add = 0,0,0
sinadd = 255,255,255,90
supermove= 9999
supermovetime= 9999
pausemovetime= 9999
[State 0, EnvShake]
type = EnvShake
trigger1 =  time = 800
time = 80
freq = 60
ampl = -8
phase = 90
[State 0, Explod]
type = Explod
triggerall = p2stateno != [120,150]
trigger1 = time = 820
anim = 2900
pos = 0,0
postype = p2
facing = 1
vfacing = 1
bindtime = -1
scale = 3,3
sprpriority = 10
removeongethit = 1
[State 0, PowerAdd]
type = PowerAdd
trigger1 =   time = 850
value = -3000
[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 480
anim = 414522
movetime = 480
darken = 1
[State 0, Explod]
type = Explod
trigger1 = animelem = 31
anim = 20094
pos = 19,-45
postype = p1
facing = 1
supermove = -1
pausemove= -1
vfacing = 1
bindtime = -1
removetime = 150
scale = 1,1
sprpriority = -1
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = animelem = 31
anim = 20093
pos = 17,-45
postype = p1
facing = 1
supermove = -1
pausemove= -1
vfacing = 1
bindtime = -1
removetime = 150
scale = 1,1
sprpriority = 12
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = animelem = 44
anim = 20094
pos = 24,-63
postype = p1
facing = 1
supermove = -1
pausemove= -1
vfacing = 1
bindtime = -1
removetime = 30
scale = 1,1
sprpriority = -1
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = animelem = 44
anim = 20093
pos = 22,-63
postype = p1
facing = 1
supermove = -1
pausemove= -1
vfacing = 1
bindtime = -1
removetime = 30
scale = 1,1
sprpriority = 12
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = animelem = 45
anim = 20094
pos = 48,-63
postype = p1
facing = 1
supermove = -1
pausemove= -1
vfacing = 1
bindtime = -1
removetime = 330
scale = 1,1
sprpriority = -1
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = animelem = 45
anim = 20093
pos = 52,-63
postype = p1
facing = 1
supermove = -1
pausemove= -1
vfacing = 1
bindtime = -1
removetime = 330
scale = 1,1
sprpriority = 12
removeongethit = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 44
value = S99,25
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 31
value = S99,5
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 35
value = S99,23
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 40
value = S99,23
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 43
value = S99,32
volume = 255
channel = -1
[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 45
time = 270
freq = 60
ampl = -4
phase = 90
[State 0, EnvShake]
type = EnvShake
trigger1 = time = 750
time = 50
freq = 60
ampl = -6
phase = 90
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 810
value = S99,18
volume = 255
channel = -1
[State 0]
type = Projectile
projscale = 1.2,0.5
trigger1 = AnimElem = 45
projanim = 3201
projhits = 200
projmisstime = 1
projremovetime = 130
offset = 55,-59
attr = S, HP
damage   = 3,1
animtype = hard
guardflag = MAFD
getpower = 0,0
givepower = 0,0
hitflag = MAFDP
pausetime = 1,1
guard.pause = 1,60
hitsound   = S2204,122111
sparkno = S151622111
sparkxy = 0,0
guardsound = S210222,1
ground.type = high
ground.slidetime = 5
guard.slide = 3
ground.hittime  = 11
ground.velocity = 0,0
fall = 1
fall.recover = 0
airguard.velocity = -3
air.velocity = -6, 0
[State 0]
type = Projectile
projscale = 1.7,1.6
trigger1 = time = 760
projanim = 3201
projhits = 100
projmisstime = 1
projremovetime = 20
offset = 55,-59
attr = S, HP
damage   = 6,4
animtype = hard
guardflag = MAFD
hitflag = MAFDP
pausetime = 1,1
guard.pausetime = 1,60
hitsound   = S2204,122111
sparkno = S151622111
sparkxy = 0,0
guardsound = S210222,1
ground.type = trip
ground.slidetime = 5
guard.slide = 3
ground.hittime  = 11
ground.velocity = 0,0
fall = 1
fall.recover = 0
air.velocity = -25,-6
p2stateno = 1025
[State 0]
type = ChangeState
trigger1 = Time = 860 && BackEdgeBodyDist <= 0
value = 100
ctrl = 1
[State 0]
type = ChangeState
trigger1 = Time = 860 && FrontEdgeBodyDist > 0
value = 0
ctrl = 1
[Statedef 3100]
type    = S
movetype= A
physics = S
juggle  = 4
anim = 2300
ctrl = 0
sprpriority = 2
velset = 0,0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S100,0
volume = 0
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S99,24
volume = 255
channel = 5
[State 0]
type = VelSet
trigger1 = AnimElem = 1, > 1
x = 8
[State 0]
type = VelAdd
trigger1 = Time > 22
x = -6
[State 0]
type = Width
trigger1 = 1
player = 1,1
[State 0]
type = MakeDust
trigger1 = 1
pos = -30,0
spacing = 3
[State 0]
type = HitDef
trigger1 = Time = 0
attr = S, SA
damage = 10, 0
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 200
guard.pausetime= 0,0
sparkno = s2009
guard.sparkno = -1
sparkxy = -10, -53
hitsound = s99, 16
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
envshake.time = 3
envshake.freq = 60
envshake.ampl = 3
p1stateno = 3101
[State 0]
type = ChangeState
trigger1 = AnimTime = 0 || MoveGuarded
value = 0
ctrl = 1
[Statedef 3101]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -2500
ctrl = 0
velset = 0,0
anim = 3101
[State 0, StopSnd]
type = StopSnd
trigger1 =  stateno = 3101
channel = 5
[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 1
x = p2bodydist x - 30
y = p2bodydist y - 0
[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 90
freq = 60
ampl = -3
phase = 90
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 20093
pos = -10,-42
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 100
sprpriority = 30
ontop = 0
scale = 0.3,0.3
shadow = 0,0,0
ownpal = 0
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 20094
pos = -10,-42
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 100
sprpriority = 30
ontop = 0
scale = 0.3,0.3
shadow = 0,0,0
ownpal = 0
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 20094
pos = -10,-42
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 30
ontop = 0
scale = 0.8,0.8
shadow = 0,0,0
ownpal = 0
removeongethit = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2,3
value = 99,27
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 99,25
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 99,26
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = 99,28
volume = 255
channel = -1
[State 0]
type = HitDef
trigger1 = animelem = 2
attr = S, SA
damage = 250, 0
fall.animtype = Up
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = s200955
sparkxy = -12, -55
hitsound = s99, 16
guardsound = 6, 0
ground.type = trip
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0,0
air.type = High
air.velocity = -0,0
air.hittime = 12
envshake.time = 20
envshake.freq = 60
envshake.ampl = 6
fall = 1
fall.recover = 0
kill = 0
p2stateno = 3102
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 25
value = 99,27
volume = 255
channel = 10
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 27,50
value = 99,16
volume = 255
channel = 10
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 26,50
value = 99,30
volume = 255
channel = -1
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  stateno = 3101
flag = nobardisplay
flag2 = nomusic
[State 0, Explod]
type = Explod
trigger1 = Animelem = 26,50
anim = 20094
pos = 5,-90
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = -1
ontop = 0
scale = 0.8,0.8
shadow = 0,0,0
ownpal = 0
removeongethit = 1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 20
trigger2 = time = 30
trigger3 = time = 40
trigger4 = time = 50
trigger5 = time = 60
trigger6 = time = 70
trigger7 = time = 80
trigger8 = time = 90
time = 3
add = 256,256,256
[State 0, Explod]
type = Explod
trigger1 = Animelem = 26,50
anim = 2902
pos = 3,-100
postype = p1
ID = 5
facing = 1
vfacing = 1
bindtime = -1
removetime = 70
sprpriority = 30
ontop = 0
scale = 0.5,0.5
shadow = 0,0,0
ownpal = 0
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = Animelem = 1
anim = 2902
pos = 3,-100
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 100
sprpriority = 30
ontop = 0
scale = 0.3,0.3
shadow = 0,0,0
ownpal = 0
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = Animelem = 1
anim = 2903
pos = -5,-20
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 550
sprpriority = 30
ontop = 1
scale = 1.2,1.2
shadow = 0,0,0
ownpal = 0
removeongethit = 1
[State 0]
type = ChangeState
triggerall = command = "y"
trigger1 = Animelem = 27, > 1 && Animelem = 27, <= 20
ignorehitpause
value = 3107
ctrl = 0
[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
[Statedef 3107]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
anim = 3107
ctrl = 0
sprpriority = 2
velset = 0,0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = 99,29
volume = 255
channel = -1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno = 3107
id = 5
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = 99,6
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = 99,22
volume = 255
channel = -1
[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 10
time = 30
freq = 60
ampl = -8
phase = 90
[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 10
time = 10
add = 256,256,256
[State 0]
type = Explod
trigger1 = Animelem = 10
anim = 2900
pos = 0,0
postype = p2
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 30
ontop = 0
scale = 1.5,1.5
shadow = 0,0,0
ownpal = 0
removeongethit = 1
[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
[Statedef 3102]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
anim = 5030 + ifelse(var(5)=1,10000,0) + ifelse(var(5)=2,20000,0)
ctrl = 0
sprpriority = 2
velset = -50,0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno = 3102
id = -1


[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -150
[State 0]
type = ChangeState
trigger1 = BackEdgeBodyDist < 5
value = 3103
ctrl = 1
[Statedef 3103]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
anim = 5050 + ifelse(var(5)=1,10000,0) + ifelse(var(5)=2,20000,0)
ctrl = 0
sprpriority = 2
velset = 0,0
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = stateno = 3103
flag = invisible
[State 0 ]
type = NotHitBy
trigger1 = stateno = 3103
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 450
[State 0]
type = ChangeState
trigger1 = time =450
value = 3104
ctrl = 1
[Statedef 3104]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
sprpriority = 2
velset = -40,3
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x + 100
y = p2bodydist y  -20
[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 50501 + ifelse(var(5)=1,10000,0) + ifelse(var(5)=2,20000,0)
[State 0, StopSnd]
type = StopSnd
trigger1 =  stateno = 3104
channel = -10

[State 0]
type = HitDef
trigger1 = animelem = 1
attr = S, SA
damage = 150, 0
fall.animtype = Up
animtype = Medium
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = 2
sparkxy = -12, -55
hitsound = 5, 2
guardsound = 6, 0
ground.type = trip
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0,0
air.type = High
air.velocity = -0,0
air.hittime = 12
envshake.time = 20
envshake.freq = 60
envshake.ampl = 6
fall = 1
fall.recover = 0
kill = 0
[State 0]
type = ChangeState
trigger1 = time =25
value = 3105
ctrl = 1
[Statedef 3105]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
anim = 5080
ctrl = 0
sprpriority = 2
velset = 0,0
[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0
[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -150
[State 0, SelfState]
type = SelfState
trigger1 = time = 10
value = 5100
[Statedef 3000]
type    = S
movetype= A
physics = S
juggle  = 4
anim = 2300
ctrl = 0
sprpriority = 2
velset = 0,0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S100,0
volume = 0
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S99,24
volume = 255
channel = -1
[State 0]
type = VelSet
trigger1 = AnimElem = 1, > 1
x = 8
[State 0]
type = VelAdd
trigger1 = Time > 22
x = -6
[State 0]
type = Width
trigger1 = 1
player = 1,1
[State 0]
type = MakeDust
trigger1 = 1
pos = -30,0
spacing = 3
[State 0]
type = HitDef
trigger1 = Time = 0
attr = S, SA
damage = 10, 0
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 200
guard.pausetime= 0,0
sparkno = s2009
guard.sparkno = -1
sparkxy = -10, -53
hitsound = s99, 16
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
envshake.time = 3
envshake.freq = 60
envshake.ampl = 3
p1stateno = 3001
[State 0]
type = ChangeState
trigger1 = AnimTime = 0 || MoveGuarded
value = 0
ctrl = 1
[Statedef 3001]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0
anim = 3001
[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 70
value = -1500
[State 0]
type = VelSet
trigger1 = AnimElem = 1, < 10
x = 8
[State 0]
type = VelSet
trigger1 = AnimElem = 2
x = 0
[State 0, Turn]
type = Turn
trigger1 = AnimElem = 2
[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 2
x = p2bodydist x - 40
y = p2bodydist y - 0
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2099
pos = 0,-45
postype = p2
facing = 1
vfacing = 1
bindtime = -1
scale = 0.6,0.6
sprpriority = 30
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = time = 60
anim = 2900
pos = 0,-50
postype = p2
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 30
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = time = 50
anim = 2901
pos = 5,-92
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 30
sprpriority = 30
ontop = 0
scale = 0.1,0.1
shadow = 0,0,0
ownpal = 0
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = time = 50
anim = 2901
pos = -1,-92
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 30
sprpriority = 30
ontop = 0
scale = 0.1,0.1
shadow = 0,0,0
ownpal = 0
removeongethit = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = 99,22
volume = 255
channel = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = 99,7
volume = 255
channel = -1
[State 0]
type = HitDef
trigger1 = time = 70
attr = S, SA
damage = 300, 0
fall.animtype = Up
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = s200955
sparkxy = -12, -55
hitsound = s99, 911
guardsound = 6, 0
ground.type = trip
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0,0
air.type = High
air.velocity = -0,0
air.hittime = 12
envshake.time = 20
envshake.freq = 60
envshake.ampl = 4
fall = 1
fall.recover = 0
[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 70
time = 3
add = 256,256,256
[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;==========================
[Statedef 15143]
type    = S
movetype= A
physics = S
velset = 0,0,0
juggle = 4
ctrl = 0
poweradd= -200
anim = 15143

[State 0]
type = PlaySnd
trigger1 = time = 0
value = 99,21
volume = 255
channel = -1

[State 0]
type = PlaySnd
trigger1 = time = 0
value = 99,23
volume = 255
channel = -1

[State 0]
type= PalFX
trigger1= (!Time)
time= 5
add= 0,0,0
mul= 256,256,256
sinadd= -100,-100,-100, 10
invertall= 0
color= 256

[State 0]
type= BGPalFX
trigger1= ProjContact = 1
time= 5
add= 75,75,75
mul= 256,256,256
sinadd	= 80,80,80,4
invertall= 0
color	= 256
ignorehitpause= 1
[State 0]
type = Explod
trigger1 = animelem = 2
anim = 20093
postype = p1
pos = 34, -60
sprpriority = 3
bindtime = -1
removeongethit = 1
scale = 0.6,0.3

[State 0]
type = Explod
trigger1 = animelem = 1
anim = 2929
postype = p1
pos = 34, -60
sprpriority = -1
bindtime = -1
removeongethit = 1
scale = 0.6,0.6

[State 0]
type = Explod
trigger1 = animelem = 1
anim = 20093
postype = p1
pos = 34, -60
sprpriority = 3
bindtime = -1
removeongethit = 1
scale = 0.3,0.3
[State 0]
type = Explod
trigger1 = animelem = 1,15
anim = 1616
postype = p1
pos = 34, -60
sprpriority = 3
bindtime = -1
removeongethit = 1
scale = 0.3,0.3
[State 1514]
type = Projectile
trigger1 = time = 40
trigger2 = time = 45
trigger3 = time = 50
projanim = 1515
projhitanim = 1616
projshadow = 0,0,0
projpriority = 4
projremovetime = 100
velocity = 8, IfElse(Random <= 499,-0.8,0.8)
accel = 1, IfElse(Random <= 799,-0.1,0.1)
offset = 44,-53
projid = 1515
attr = S, SP
damage   = 10,5
animtype = hard
guardflag = MA
hitflag = MAFPDP
pausetime = 1,3
hitsound = s99,22
guardsound = 6,0
sparkno = -1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.animtype = Low
air.velocity = -1,-1
air.juggle = 2
projscale = 0.6, 0.6
palfx.time= 12
palfx.mul= 256,256,256
palfx.add= 100,100,100
palfx.sinadd= 175,25,5,4
envshake.time = 12
envshake.freq = 120
envshake.ampl = -4
afterimage.time = 20
afterimage.length = 25
afterimage.palcontrast = 100,100,100
afterimage.paladd =  0,0,0
afterimage.palmul = .50, .50, .50
afterimage.framegap = 2
afterimage.trans = add


[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 2800]
type    = A
movetype= A
physics = A
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1850
[State 1601, 1]
type = VelSet
trigger1 = AnimElem = 1, [0, 11]
x = 7
[State 1601, 1]
type = VelSet
trigger1 = AnimElem = 2,
x = 7
[State 1601, 1]
type = VelAdd
trigger1 = AnimElem = 1, [0, 11]
y = 2
x = 7
[State 1601, 1]
type = VelMul
trigger1 = AnimTime >= -9
x = .85
[State 1601, 1]
type = VelMul
trigger1 = Vel X < 0
x = .85
[State 1601, 1]
type = HitDef
trigger1 = Time = 0
animtype = light
attr = A, NA
damage    = 20,30
guardflag = MA
pausetime = 6,12
sparkno = S200900
guard.sparkno = -1
sparkxy = -1
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 23
ground.velocity = 0
p1stateno = 1851
[State 1601, 2]
type = ChangeState
trigger1 = MoveHit = 1
trigger1 = AnimTime = 0
value = 1851
[State 1601, 3]
type = ChangeState
trigger1 = MoveHit = 1
trigger1 = AnimTime = 0
value = 1852
[Statedef 1851]
type    = A
movetype= A
physics = A
juggle  = 0
velset = 0,0
ctrl = 0
poweradd = -100
anim = 1851
[State 1211, 1]
type = velset
trigger1 = time >= 0
trigger1 = time <= 48
x = 0
y = 0
[State 1601, 1]
type = HitDef
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
attr = S, NA
animtype = light
damage = 17,5
guardflag = M
pausetime = 5,12
sparkno = S2009
sparkxy = -25,-10
hitsound = s210,1
guardsound = 6,0
ground.type = high
ground.slidetime = 20
ground.hittime = 23
ground.velocity = 0
air.velocity = 0
envshake.time = 3
envshake.freq = 140
envshake.ampl = 4
[State 1601, 2]
type = HitDef
trigger1 = animelem = 6
attr = S, NA
animtype = Back
damage = 17,5
guardflag = M
pausetime = 11,12
sparkno = S2009
sparkxy = -25,-10
hitsound = s210,1
guardsound = 6,0
ground.type = low
ground.slidetime = 20
ground.hittime = 23
ground.velocity = -3,-6
air.velocity = -3,-6
fall = 1
fall.recover = 0
envshake.time = 15
envshake.freq = 140
envshake.ampl = 5
[State 1601, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 1852
ctrl = 1
[Statedef 1852]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1852
[State 1601, 0]
type = VelSet
trigger1 = AnimElem = 1, [1, 8]
y = -3
x = -2
[State 1451, 4]
type = VelAdd
trigger1 = Time > 0
y = .30
[State 1451, 6]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
[Statedef 2700]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 2700                   ;Change animation (Def: no change)
poweradd = -150                  ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)
[State 0, Explod]
type = Explod
trigger1 =animelem = 2
anim = 20094
pos = 50,-60
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 30
ownpal = 1
removeongethit = 1

[State 200, 1]
type = HitDef
trigger1 = 1
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 2, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1, 1                 ;Time attacker pauses, time opponent shakes
sparkno = s200941                      ;Spark anim no (Def: set above)
sparkxy = -30, -55             ;X-offset for the "hit spark" rel. to p2,
hitsound = s230, 2                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 0            ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -25,0            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time =12
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
[State 0, BGPalFX]
type = BGPalFX
trigger1 =   animelem = 2
time = 5
add = 256,256,256
[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 99, 4
volume = 255
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 2600]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = -100
ctrl = 0
velset = 0,0
anim = 2600
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S99,13
volume = 255
channel = -1
[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 6
x = 0
y = -30
[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 6
x = 30
y = 4
[State 0, VelSet]
type = VelSet
trigger1 = time <  10
x =0
y = -2
[State 0]
type = AfterImage
trigger1= (!time)
time = 28
timegap	= 1
framegap = 2
length 	= 9
paladd 	= 0, 0, 0
palmul 	= 1, 1, 1
palcontrast = 110,110,110
trans 	= add
[State 0]
type = HitDef
trigger1 = AnimElem = 7
attr = S, SA
damage = 80, 20
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = s2009
sparkxy = -22, -45
hitsound = s99, 16
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -8,2
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -8,2
air.hittime = 12
envshake.time = 15
envshake.freq = 60
envshake.ampl = 5
fall = 1
fall.recover = 0
kill = 0
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[Statedef 2500]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 120
anim = 2300
ctrl = 0
sprpriority = 2
velset = 0,0
[State 0]
type = VelSet
trigger1 = AnimElem = 1, > 1
x = 12
[State 0]
type = VelAdd
trigger1 = Time > 22
x = -6
[State 0]
type = Width
trigger1 = 1
player = 1,1
[State 0]
type = MakeDust
trigger1 = 1
pos = -30,0
spacing = 3
[State 0]
type = HitDef
trigger1 = Time = 0
attr = S, SA
damage = 10, 0
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = s2009
guard.sparkno = -1
sparkxy = -15, -53
hitsound = s99, 9
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
envshake.time = 3
envshake.freq = 60
envshake.ampl = 3
p1stateno = 2501
[State 0]
type = ChangeState
trigger1 = AnimTime = 0 || MoveGuarded
value = 0
ctrl = 1
[Statedef 2501]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = -200
ctrl = 0
velset = 0,0
anim = 2400
[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
damage = 20, 0
fall.animtype = Up
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = s2009
sparkxy = -12, -55
hitsound = s99, 9
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0,-12
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -0,-12
air.hittime = 12
envshake.time = 3
envshake.freq = 60
envshake.ampl = 3
fall = 1
fall.recover = 0
kill = 0
p2stateno = 2502
[State 0, PosAdd]
type = PosAdd
trigger1 =time = 20
x =  p2bodydist x+25
y = p2bodydist x +10
[State 0, PlaySnd]
type = PlaySnd
trigger1 =time = 20
trigger2 =animelem = 24
value = 99,6
volume = 255
channel = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 =time = 30
value = 99,24
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 =time = 20
value = 99,18
volume = 255
channel = -1
[State 0, Explod]
type = Explod
trigger1 =time > 20
trigger1 =animelem = 5
trigger2 =animelem = 9
trigger3 =animelem = 15
trigger4 =animelem = 19
trigger5 =animelem = 23
anim = 2009
pos = 14,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
sprpriority = 30
ownpal = 1
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 =time > 20
trigger1 =animelem = 7
trigger2 =animelem = 11
trigger3 =animelem = 13
trigger4 =animelem = 17
trigger5 =animelem = 21
anim = 2009
pos = -14,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
sprpriority = 30
ownpal = 1
removeongethit = 1
[State 0, PosAdd]
type = PosAdd
trigger1 =animelem = 24
x =  p2bodydist x-70
[State 0, PosSet]
type = PosSet
trigger1 =animelem = 24
y = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 =time > 20
trigger1 =animelem = 5
trigger2 =animelem = 7
trigger3 =animelem = 9
trigger4 =animelem = 11
trigger5 =animelem = 13
trigger6 =animelem = 15
trigger7 =animelem = 17
trigger8 =animelem = 19
trigger9 =animelem = 21
trigger10 =animelem = 23
value = 99,11
volume = 255
channel = 1
[State 0, EnvShake]
type = EnvShake
trigger1 =time > 20
trigger1 =animelem = 5
trigger2 =animelem = 7
trigger3 =animelem = 9
trigger4 =animelem = 11
trigger5 =animelem = 13
trigger6 =animelem = 15
trigger7 =animelem = 17
trigger8 =animelem = 19
trigger9 =animelem = 21
trigger10 =animelem = 23
time = 4
freq = 60
ampl = -4
phase = 90
[State 0, HitAdd]
type = HitAdd
trigger1 =time > 20
trigger1 =animelem = 5
value = 1
[State 0, HitAdd]
type = HitAdd
trigger1 =time > 20
trigger1 =animelem = 5
value = 3
[State 0, HitAdd]
type = HitAdd
trigger1 =time > 20
trigger1 =animelem = 7
value = 4
[State 0, HitAdd]
type = HitAdd
trigger1 =time > 20
trigger1 =animelem = 9
value = 5
[State 0, HitAdd]
type = HitAdd
trigger1 =time > 20
trigger1 =animelem = 11
value = 6
[State 0, HitAdd]
type = HitAdd
trigger1 =time > 20
trigger1 =animelem = 13
value = 7
[State 0, HitAdd]
type = HitAdd
trigger1 =time > 20
trigger1 =animelem = 15
value = 8
[State 0, HitAdd]
type = HitAdd
trigger1 =time > 20
trigger1 =animelem = 17
value = 9
[State 0, HitAdd]
type = HitAdd
trigger1 =time > 20
trigger1 =animelem = 19
value = 10
[State 0, HitAdd]
type = HitAdd
trigger1 =time > 20
trigger1 =animelem = 21
value = 11
[State 0, HitAdd]
type = HitAdd
trigger1 =time > 20
trigger1 =animelem = 23
value = 12
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =time = 20
value = 2500
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
[Statedef 2502]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 5110
[State 0, LifeAdd]
type = LifeAdd
trigger1 =   time > 25
trigger1 =   time < 100
value = -1
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = -25
y = 0
[State 0, SelfState]
type = SelfState
trigger1 = time = 120
value =  5120
[Statedef 2400]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = -150
ctrl = 0
velset = 0,0
anim = 24001
[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 210,0
volume = 255
channel = 1
[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
damage = 80, 20
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 20
sparkno = s200961
guard.sparkno = -1
sparkxy = -15, -30
hitsound = s99, 19
guardsound = 6, 0
ground.type = trip
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,2
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
envshake.time = 15
envshake.freq = 60
envshake.ampl = 5
palfx.time = 20
palfx.add = 176,0,0
palfx.sinadd = -20,-20,-89,8
palfx.color = 20
[State 0, Explod]
type = Explod
trigger1 =animelem = 2
anim = 2097
pos = 40,-50
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1.3,1.3
sprpriority = 30
ownpal = 1
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 20971
pos = 15,-40
postype = p2
facing = -1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
sprpriority = 30
ownpal = 1
removeongethit = 1
[State 0]
type = ChangeState
trigger1 = AnimTime = 0 ;|| MoveGuarded
value = 0
ctrl = 1
[Statedef 2300]
type    = S
movetype= A
physics = S
juggle  = 4
anim = 2300
ctrl = 0
sprpriority = 2
velset = 0,0
[State 0]
type = VelSet
trigger1 = AnimElem = 1, > 1
x = 8
[State 0]
type = VelAdd
trigger1 = Time > 22
x = -6
[State 0]
type = Width
trigger1 = 1
player = 1,1
[State 0]
type = MakeDust
trigger1 = 1
pos = -30,0
spacing = 3
[State 0]
type = HitDef
trigger1 = Time = 0
attr = S, SA
damage = 10, 0
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = s2009
guard.sparkno = -1
sparkxy = -15, -53
hitsound = s99, 9
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
envshake.time = 3
envshake.freq = 60
envshake.ampl = 3
p1stateno = 2301
[State 0]
type = ChangeState
trigger1 = AnimTime = 0 || MoveGuarded
value = 0
ctrl = 1
[Statedef 2301]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = -250
ctrl = 0
velset = 0,0
anim = 2301

[State 0]
type = posadd
trigger1 = AnimElem = 5
x = p2dist x - 20
y = -185
[State 0]
type = VelAdd
trigger1 = AnimElem = 9
y = 1
[State 0]
type = VelSet
trigger1 = AnimElem = 21
y = 0
x = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 23
value = 99,6
volume = 255
channel = 1
[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
damage = 20, 0
fall.animtype = Up
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = s2009
sparkxy = -12, -55
hitsound = s99, 9
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0,-12
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -0,-12
air.hittime = 12
envshake.time = 3
envshake.freq = 60
envshake.ampl = 3
fall = 1
fall.recover = 0
kill = 0
[State 0]
type = HitDef
trigger1 = AnimElem = 9 || AnimElem = 12 || AnimElem = 15 || AnimElem = 18
attr = S, SA
damage = 20, 0
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = s2009
guard.sparkno = -1
sparkxy = -15, -63
hitsound = s99, 9
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 16
ground.velocity = 0,0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = 0,0
air.hittime = 12
envshake.time = 3
envshake.freq = 60
envshake.ampl = 3
[State 0]
type = HitDef
trigger1 = AnimElem = 21
attr = S, SA
damage = 25, 0
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = s2009
guard.sparkno = -1
sparkxy = -15, -43
hitsound = s99, 9
guardsound = 6, 0
ground.type = Light
ground.slidetime = 0
ground.hittime  = 12
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = Light
air.velocity = -14,5
air.hittime = 12
envshake.time = 3
envshake.freq = 60
envshake.ampl = 3
[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 99,17
volume = 255
channel = -1
[State 0]
type = VelAdd
trigger1 = AnimElem = 23
x = 15
y = 0
[State 0]
type = posset
trigger1 = AnimElem = 25
x = 40
y = 0
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 2302
ctrl = 1
[State 0]
type = ChangeState
triggerall = command = "y"
trigger1 = Animelem = 22, > 1
ignorehitpause
value = 2303
ctrl = 0
[Statedef 2302]
type = S
movetype= A
physics= S
velset= 0,0
anim = 2302
ctrl= 0
[State 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 99,6
volume = 255
channel = 1
[State 0]
type = PosSet
trigger1 =  time = 0
y = 0
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
[Statedef 2303]
type = S
movetype= A
physics= S
velset= 0,0
anim = 2303
ctrl= 0
[State 0]
type = SuperPause
trigger1 = time = 0
time =  9
anim = -1
movetime = 9
darken = 0
[State 0]
type = PosAdd
trigger1 =  time = 0
x = p2bodydist x +50
y =  p2bodydist y -40
[State 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 99,6
volume = 255
channel = 1
[State 0]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
damage = 25, 0
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 1, 1
sparkno = s2009
guard.sparkno = -1
sparkxy = -45, -23
hitsound = s99, 16
guardsound = 6, 0
ground.type = Light
ground.slidetime = 0
ground.hittime  = 12
ground.velocity = -1
air.type = Light
air.velocity = 0,5
air.hittime = 0
envshake.time = 20
envshake.freq = 60
envshake.ampl = 5
[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
time = 3
add = 256,256,256
[State 0]
type = Explod
trigger1 = movehit = 1
anim =20096
facing = 1
postype = p2
pos = 0,-40
bindtime = -1
sprpriority = 20
ownpal = 1
removeongethit = 1
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;=====================================
[Statedef 2200]
type = S
movetype= A
physics= S
velset= 0,0
anim = 2200
ctrl= 0
[State 0]
type = Explod
trigger1 = (time%4)=0
anim =101
facing = -1
pos = -25,-10
bindtime = 99
random = 0,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = (time%4)=0
anim =101
facing = -1
pos = -45,-20
bindtime = 99
random = 0,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = (time%6)=0
anim =101
facing = -1
pos = -40,-30
bindtime = 99
random = 5,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = (time%3)=0
anim =101
facing = -1
pos = -35,-40
bindtime = 99
random = 10,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = (time%5)=0
anim =101
facing = -1
pos = -30,-48
bindtime = 99
random = 10,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = (time%3)=0
anim =101
facing = -1
pos = -25,-45
bindtime = 99
random = 0,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1
[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)
[State 0]
type = AfterImage
trigger1= (!time)
time = 18
timegap	= 1
framegap = 2
length 	= 9
paladd 	= 0, 0, 0
palmul 	= 1, 1, 1
palcontrast = 110,110,110
trans 	= add
[State 0, MakeDust]
type = MakeDust
triggerall = pos y = 0
trigger1 = 1
pos = -30,0
spacing = 1
[State 0]
type= PlaySnd
trigger1= AnimElem= 1
value= s100, 0
volume = 255
[State 0]
type= VelSet
trigger1= AnimElem= 1
x= 25
[State 0]
type= HitDef
trigger1 = AnimElem = 1
attr= S, NA
animtype= Medium
damage = 10,5
guardflag= MA
pausetime= 0,100
sparkxy= 0,-57
sparkno= -1
hitsound= -1
guardsound= 6,0
ground.type= High
ground.slidetime= 12
ground.hittime= 60
ground.velocity= 3
air.velocity= 3
p1stateno = 2201
[State 0]
type= ChangeState
trigger1= Time= 25
value= 0
ctrl= 1

;=============================================
[Statedef 2201]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd = -250
anim = 2201
[State 0]
type = Width
trigger1 = 1
edge = 40,
[State 0, EnvColor]
type = EnvColor
trigger1 = movehit = 1
time = 1
[State 0]
type = velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
x = 4
[State 0]
type = playsnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
value = 210,0
volume = 255
channel = 5
[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = hard
damage    = 10, 7
guardflag = MA
pausetime = 1,6
sparkno = s2009
guard.sparkno = 2
sparkxy = -20,-70
hitsound   = S99,11
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90
[State 0]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = light
damage    = 10, 7
guardflag = MA
pausetime = 1,5
sparkno = s20099
guard.sparkno = 2
sparkxy = -20,-40
hitsound   = S240,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90
[State 0]
type = afterimage
trigger1 = time = 0
time = 20
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
[State 215,3]
type = ChangeState
triggerall = command = "y"
trigger1 = Animelem = 3, > 3 && movecontact
ignorehitpause
value = 2202
ctrl = 0



;---------------------------------------------------------------------------
[Statedef 2202]
type 	= S
movetype= A
physics	= N
anim= 2202
velset	= 0,0
ctrl= 0
poweradd= -100
juggle	= 5
facep2	= 1
hitdefpersist= 0
movehitpersist= 0
hitcountpersist	= 0
sprpriority= 2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S99,15
volume = 255
channel = -1


[State 0]
type	= VelSet
trigger1= (AnimElem = 14)
x = 2
y = 0
[State 0]
type = PosAdd
trigger1 = (AnimElem = 2)
x = 6
y = 0
[State 0]
type	= PosAdd
trigger1 = (AnimElem = 4) || (AnimElem = 7) || (AnimElem = 10) || (AnimElem = 12) || (AnimElem = 16)|| (AnimElem = 20)|| (AnimElem = 24)|| (AnimElem = 25)
x = 4
y = 0
[State 0]
type	= PlaySnd
trigger1= (AnimElem = 2) || (AnimElem = 7) || (AnimElem = 10) || (AnimElem = 14) || (AnimElem = 19)|| (AnimElem = 22) || (AnimElem = 26)
value= S210,0
[State 0]
type	= HitDef
trigger1= (AnimElem = 2) || (AnimElem = 7)|| (AnimElem = 10)|| (AnimElem = 14)
attr	= S, SA
hitflag	= MAF
guardflag= M
animtype= Hard
air.animtype= Back
priority= 5, Hit
damage	= 15,5
pausetime= 1,10
guard.pausetime	= 10,10
sparkno	= S2009
guard.sparkno= -1
sparkxy	= -20,-45
hitsound= S99,11
guardsound= S0,9
ground.type= High
air.type= Trip
ground.slidetime= 25
ground.hittime	= 25
air.hittime= 25
yaccel	= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity= -3,-4.7
airguard.velocity= -3,-4.7
ground.cornerpush.veloff = -3
air.fall= 1
getpower= 20
givepower= 20
envshake.time =5
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
palfx.time = 20
palfx.add = 10,10,100
palfx.sinadd = -20,-20,-89,8
palfx.color = 20
[State 0]
type	= HitDef
trigger1= (AnimElem = 19)|| (AnimElem = 22)
attr	= S, SA
hitflag	= MAF
guardflag= M
animtype= Medium
air.animtype= Back
priority= 5, Hit
damage	= 20,5
pausetime= 1,10
guard.pausetime	= 10,10
sparkno	= S2009
guard.sparkno	= -1
sparkxy	= -20,-55
hitsound= S99,11
guardsound= S0,9
ground.type= Low
air.type= Low
ground.slidetime= 25
ground.hittime	= 25
air.hittime= 25
yaccel	= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity= -3,-4.7
airguard.velocity= -3,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -3
getpower= 20
givepower= 20
envshake.time =5
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
palfx.time = 20
palfx.add = 10,10,100
palfx.sinadd = -20,-20,-89,8
palfx.color = 20
[State 0]
type	= HitDef
trigger1= (AnimElem = 26)
attr= S, SA
hitflag	= MAF
guardflag= M
animtype= DiagUp
air.animtype= Back
priority= 5, Hit
damage	= 50,12
pausetime= 1,12
guard.pausetime	= 12,12
sparkno	= S2009
guard.sparkno	= -1
sparkxy	= -5,-70
hitsound= S99,12
guardsound= S0,9
ground.type= Trip
air.type= Trip
ground.slidetime= 15
ground.hittime	= 15
air.hittime= 15
yaccel	= 0.45
ground.velocity	= -2.1,-8.9
guard.velocity	= -2.1
air.velocity= -2.1,-8.2
airguard.velocity= -2.1,-8.2
ground.cornerpush.veloff = -2.1
fall= 1
fall.recover= 1
getpower= 50
givepower= 50
envshake.time =15
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
palfx.time = 50
palfx.add = 10,10,100
palfx.sinadd = -20,-20,-89,8
palfx.color = 20

[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
time = 3
add = 256,256,256


[State 0, Explod]
type = Explod
trigger1 = animelem = 2
trigger2 = animelem = 7
trigger3 = animelem = 10
trigger4 = animelem = 14
trigger5 = animelem = 19
trigger6 = animelem = 22
trigger7 = animelem = 26
anim = 20093
pos = 0,-50
postype = p2
facing = 1
vfacing = 1
bindtime = -1
;removetime = -2
scale = 1,1
sprpriority = 20
ownpal = 1
removeongethit = 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 7
trigger3 = animelem = 10
trigger4 = animelem = 14
trigger5 = animelem = 19
trigger6 = animelem = 22
trigger7 = animelem = 26
value = S99,5
volume = 255
channel = -1


[State 0]
type= ChangeState
trigger1= (!AnimTime)
value= 0
ctrl = 1


;---------------------------------------------------------------------------
; Stand Light Punch
; CNS difficulty: easy
[Statedef 2100]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 25,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 2100                       ;Change animation (Def: no change)
poweradd = -100                 ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, MakeDust]
type = MakeDust
triggerall = pos y = 0
trigger1 =1
pos = -30,0
spacing = 3



[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 8                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -15, -55             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s99, 14                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -4            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time =5
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90


[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
value = 41, 0
volume = 255

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



[Statedef 2000]
type = S
movetype = A
physics = N
anim = 2989
velset = 0,0
poweradd = -50
juggle = 14
ctrl = 0

[State 0]
type = AfterImage
trigger1 = Animelem = 1
time = 18
length = 9
timegap = 1
framegap = 1
paladd = 0,0,0
PalBright  =  50,  50,  50
PalContrast = 128,128,128
PalAdd =   0,  0,  0
PalMul=  1,1,1
Trans = Add1

[State 2100, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 99,10
channel = 0
volume = 255


[State 2100, Hit]
type = HitDef
triggerall = (p2stateno != [5020,5040])
trigger1 = Animelem = 4, = 1
attr = S, SA
hitflag = MAF
animtype = hard
damage = 20,10
guardflag = M
pausetime = 10,12
sparkno = 2
sparkxy = -10,-50
hitsound = S99,11
guardsound = 6,0
ground.type = High
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -10.5
air.velocity = -3.5,-6
guard.velocity = -10.5
ground.cornerpush.veloff = -18.5
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -18.5
getpower = 104,104
givepower = 21,21
guard.pausetime = 10,10
guard.slidetime = 18
guard.hittime = 36
guard.ctrltime = 36
fall = 0
air.fall = 1
yaccel = .5

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim =  20096
pos = 0,-40
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 20
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1


[State 2100, Velset1]
type = velset
trigger1 = Animelem = 1, = 1
x = 6

[State 2100, Velset2]
type = velset
trigger1 = Animelem = 1, = 2
trigger2 = Animelem = 1, = 3
x = 5

[State 2100, Velset3]
type = velset
trigger1 = Animelem = 1, = 4
trigger2 = Animelem = 1, = 6
x = 4

[State 2100, Velset4]
type = velset
trigger1 = Animelem = 1, = 5
x = 18

[State 2100, Velset5]
type = velset
trigger1 = Animelem = 1, = 7
trigger2 = Animelem = 1, = 8
trigger3 = Animelem = 1, = 9
trigger4 = Animelem = 1, = 10
x = 3

[State 2100, Velset6]
type = velset
trigger1 = Animelem = 5, = 1
x = 0

[State 2100, VarsetI]
type = Varset
trigger1 = Animelem = 1
ignorehitpause = 1
var(1) = 0

[State 2100, VarsetII]
type = Varset
trigger1 = Animelemtime(2) > 0 && Animelemtime(6) <= 10
trigger1 = command = "daimao combo"
ignorehitpause = 1
var(1) = 1

[State 2100, 2nd Attack]
type = ChangeState
trigger1 = var(1) = 1
trigger1 = Animelem = 5, > 1 && Animelem = 6, <= 11
trigger1 = ifelse(movecontact, hitpausetime <= 3, 1)
ignorehitpause
value = 2120
ctrl = 0

[State 2100, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



[Statedef 2120]
type = S
movetype = A
physics = N
anim = 2988
velset = 0,0
poweradd = -50
juggle = 14
ctrl = 0

[State 2120, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 99,10
channel = 0
volume = 255


[State 0]
type = AfterImage
trigger1 = Animelem = 1
time = 16
length = 9
timegap = 1
framegap = 1
paladd = 0,0,0
PalBright  =  50,  50,  50
PalContrast = 128,128,128
PalAdd =   0,  0,  0
PalMul=  1,1,1
Trans = Add1

[State 2120, NOJUGGLE]
type = varset
trigger1 = movehit
ignorehitpause = 1
persistent = 0
var(13) = 62


[State 2120, Hit]
type = HitDef
triggerall = (p2stateno != [5020,5040])
triggerall = ifelse(p2movetype = H, (p2stateno != [1004,1009]),1)
trigger1 = Animelem = 3, = 1
attr = S, SA
hitflag = MAF
animtype = hard
damage = 25,10
guardflag = M
pausetime = 12,12
sparkno = 2
sparkxy = -10,-63
hitsound = S99,11
guardsound = 6,0
ground.type = Low
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -4,-8
air.velocity = -4,-8
guard.velocity = -12
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 104,104
givepower = 21,21
guard.pausetime = 10,10
guard.slidetime = 18
guard.hittime = 36
guard.ctrltime = 36
fall = 1
fall.recovertime = 65
fall.yvelocity = -3.4
p2stateno = 10049
yaccel = .58
envshake.time =8
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90


[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim =  20096
pos = 0,-40
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 20
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 2120, Velset1]
type = velset
trigger1 = Animelem = 2, = 0
trigger2 = Animelem = 2, = 1
trigger3 = Animelem = 2, = 2
x = 5

[State 2120, Velset2]
type = velset
trigger1 = Animelem = 2, = 3
trigger2 = Animelem = 2, = 4
trigger3 = Animelem = 2, = 5
x = 4

[State 2120, Velset3]
type = velset
trigger1 = Animelem = 2, = 6
trigger2 = Animelem = 2, = 7
trigger3 = Animelem = 2, = 8
x = 3

[State 2120, Velset6]
type = velset
trigger1 = Animelem = 5, = 1
x = 0

[State 2120, posadd1]
type = posadd
trigger1 = Animelem = 8
x = 1

[State 2120, posadd2]
type = posadd
trigger1 = Animtime = 0
x = 13

[State 2120, VarsetI]
type = Varset
trigger1 = Animelem = 1
ignorehitpause = 1
var(1) = 0

[State 2120, VarsetII]
type = Varset
trigger1 = Animelemtime(2) > 0 && Animelemtime(6) <= 10 && movehit
trigger1 = command = "daimao combo"
ignorehitpause = 1
var(1) = 1

[State 2120, 2nd Attack]
type = ChangeState
trigger1 = var(1) = 1
trigger1 = Animelem = 3, > 1 && Animelem = 5, <= 10
trigger1 = ifelse(movecontact, hitpausetime <= 3, 1)
value = 2140
ctrl = 0

[State 2120, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 2140]
type = S
movetype = A
physics = N
anim = 2987
velset = 0,0
poweradd = -50
ctrl = 0


[State 2150, FX]
type = PlaySnd
trigger1 = AnimElem = 1
value = 99,6
volume = 100

[State 2150, FX]
type = PlaySnd
trigger1 = AnimElem = 1
value = 99,20
volume = 255




[State 2140, Jump]
type = ChangeState
trigger1 = AnimTime = 0
value = 2150
ctrl = 0




[Statedef 2150]
type = A
movetype = A
physics = N
anim = 2986
velset = 10.92,-4.35
poweradd = 0
juggle = 1
ctrl = 0

[State 2150, FX]
type = PlaySnd
trigger1 = AnimElem = 1
value = 99,10

[State 0]
type = AfterImage
trigger1 = Animelem = 1
time = 18
length = 9
timegap = 1
framegap = 1
paladd = 0,0,0
PalBright  =  50,  50,  50
PalContrast = 128,128,128
PalAdd =   0,  0,  0
PalMul=  1,1,1
Trans = Add1

[State 2150, Hit]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2statetype = A
trigger1 = AnimElem = 2, = 1
attr = A, SA
damage = 50,10
hitflag = MAFD
guardflag = H
animtype = Hard
ground.animtype = low
pausetime = 1,3
sparkno = 2
sparkxy = -15,-90
hitsound = S99,12
guardsound = 6,0
ground.velocity = -8,1
air.velocity = -8,1
guard.velocity = -11
fall = 1
fall.recovertime = 35
guard.velocity = -12
guard.slidetime = 17
guard.hittime = 17
getpower = 104,104
givepower = 21,21
fall.yvelocity = -5
guard.pausetime = 10,10
guard.slidetime = 22
guard.hittime = 44
guard.ctrltime = 44
yaccel = .55
fall.envshake.time = 15
fall.envshake.ampl = -6
fall.envshake.freq = 90
envshake.time =8
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
;p2stateno = 1025

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim =  20096
pos = 0,-40
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 20
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 8000, animao de hitspark]
type = VarRandom
trigger1 = 1
V = 50
range = 8000, 8010
ignorehitpause = 1


[State 2150, Hit2]
type = HitDef
trigger1 = (p2stateno != [5020,5040])
trigger1 = p2statetype != A
trigger1 = AnimElem = 2, = 1
attr = A, SA
damage = 50,10
hitflag = MAFD
guardflag = H
animtype = Hard
ground.animtype = low
pausetime = 2,4
sparkno = S-1
guard.sparkno = S8075
sparkxy = -15,-90
hitsound = S12, ifelse (Random <= 500, 6, 8)
guardsound = S99,12
ground.velocity = -0,9
air.velocity = -0,9
guard.velocity = -11
fall = 1
fall.recovertime = 35
guard.velocity = -12
guard.slidetime = 17
guard.hittime = 17
getpower = 104,104
givepower = 21,21
fall.yvelocity = -3.4
guard.pausetime = 10,10
guard.slidetime = 22
guard.hittime = 44
guard.ctrltime = 44
yaccel = .55
p2getp1stateno = 1
p2stateno = 1103
fall.envshake.time = 15
fall.envshake.ampl = -6
fall.envshake.freq = 90
envshake.time =8
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90






[State 2150, gravity]
type = veladd
trigger1 = 1
y = .5846

[State 2150, Jump]
type = ChangeState
trigger1 = vel y > 0 && pos y >= -5
value = 2170
ctrl = 0


[Statedef 2170]
type = S
physics = S
anim = 2985
velset = 0,0



[State 2170, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 2170, 2]
type = PlaySnd
trigger1 = Time = 0
value = 9000,0

[State 2170, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1









































[Statedef 730]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = changeanim
trigger1 = time = 0
value = 730
[State 0]
type = playsnd
trigger1 = time =10
value = s730,1
channel =31
volume = 255
[State 0]
type = playsnd
trigger1 = time = 0
value = s730,3
channel =-1
volume = 255
[State 0]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
anim = 20092
pos = 40,5
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 6
scale = 0.5,0.5
removeongethit = 1
ownpal = 1
[State 0]
type = Explod
trigger1 = timemod = 24,0
anim = 7850
pos = 18,-45
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = IfElse(Random > 500,10,-1)
removeongethit = 1
ownpal = 1
scale = 0.7,0.9
[State 0]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
anim = 20092
pos = -40,5
postype = p1
facing = -1
vfacing = 1
bindtime = -1
sprpriority = 6
scale = 0.5,0.5
removeongethit = 1
ownpal = 1


[State 0]
type = changestate
trigger1 = animtime = 0
value = 731
[Statedef 731]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type	= Helper
trigger1= (Time > 20) && ((GameTime%10) = 0) && (Random < 249) && (NumHelper(8200) < 5)
helpertype= Normal
name= "pedras"
id= 1230
pos= 0,0
postype= p1
facing	 = 0
stateno	 = 1230
keyctrl	 = 0
ownpal	 = 1
supermovetime= 9999
pausemovetime= 9999
size.xscale= (IfElse(Random <= 799,0.75,3))
size.yscale= (IfElse(Random <= 799,0.75,3))
[State 0]
type= Helper
trigger1= (Time > 20) && ((GameTime%20) = 0) && (Random > 749) && (NumHelper(8210) < 5)
helpertype= Normal
name	= "pedras1"
id = 1231
pos = 0,0
postype	= p1
facing	= 0
stateno	= 1231
keyctrl	= 0
ownpal	 = 1
supermovetime= 9999
pausemovetime= 9999
size.xscale= (IfElse(Random <= 499,0.75,0.50))
size.yscale= (IfElse(Random <= 499,0.75,0.50))
[State 0]
type= Helper
trigger1= (Time > 20) && ((GameTime%30) = 0) && (Random = [249,749]) && (NumHelper(8220) < 5)
helpertype= Normal
name= "pedras2"
id= 1232
pos= 0,0
postype	= p1
facing	 = 0
stateno = 1232
keyctrl	= 0
ownpal = 1
supermovetime= 9999
pausemovetime= 9999
size.xscale = (IfElse(Random <= 499,0.50,0.75))
size.yscale= (IfElse(Random <= 499,0.50,0.75))
[State 0]
type  = Helper
trigger1 = (TimeMod = 30,0)
helpertype = normal
name = "efeito para empura"
id  = 9892
pos = 0,0
postype  = p1
facing = 1
stateno = 9892
keyctrl	 = 0
ownpal= 1
supermovetime= 0
pausemovetime= 0
size.xscale  = 1
size.yscale = 1
[State 0]
type = Explod
triggerall = pos y = 0
trigger1 = timemod = 30,0
anim = 7800
pos = 23,0
ID = 7030
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = -1
scale = 0.3,0.3
removeongethit = 1
ownpal = 1
[State 0]
type = Explod
triggerall = pos y = 0
trigger1 = timemod = 30,0
anim = 7800
pos = -27,3
postype = p1
ID = 7030
facing = 1
vfacing = 1
bindtime = -1
sprpriority = -1
scale = 0.3,0.3
removeongethit = 1
ownpal = 1
[State 0]
type = Explod
trigger1 = timemod = 15,0
anim = 20093
pos = 18,-45
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 2
removeongethit = 1
ownpal = 1
scale = 0.5,0.5

[State 0]
type = Explod
trigger1 = timemod = 15,0
anim = 20093
pos = -7,-45
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 2
removeongethit = 1
ownpal = 1
scale = 0.5,0.5


[State 0]
type = Explod
trigger1 = timemod = 24,0
anim = 7850
pos = 18,-45
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = IfElse(Random > 500,10,-1)
removeongethit = 1
ownpal = 1
scale = 0.7,0.9

[State 0]
type = Explod
trigger1 = timemod = 19,0
anim = 7851
pos = 0,-45
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = IfElse(Random > 500,10,-1)
removeongethit = 1
ownpal = 1
scale = 0.7,0.9

[State 0]
type = Explod
trigger1 = timemod = 24,0
anim = 7850
pos = 25,-45
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = IfElse(Random > 500,10,-1)
removeongethit = 1
ownpal = 1
scale = 0.7,0.9

[State 0]
type = Explod
trigger1 = timemod = 19,0
anim = 7851
pos = -8,-45
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = IfElse(Random > 500,10,-1)
removeongethit = 1
ownpal = 1
scale = 0.7,0.9


[State 0]
type = Explod
trigger1 = timemod = 19,0
anim = 7853
pos = 0,-40
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = IfElse(Random > 500,10,-1)
removeongethit = 1
ownpal = 1
scale = 0.7,0.9
ownpal = 1



[State 0]
type = Explod
trigger1 = timemod = 19,0
anim = 7852
pos = 0,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = IfElse(Random > 500,10,-1)
removeongethit = 1
ownpal = 1
scale = 0.7,0.9
ownpal = 1

[State 0]
type = Explod
trigger1 = timemod = 24,0
anim = 7854
pos = 10,-25
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = IfElse(Random > 500,10,-1)
removeongethit = 1
ownpal = 1
scale = 0.7,0.9
ownpal = 1

[State 0]
type = Explod
trigger1 = timemod = 19,0
anim = 7855
pos = 10,-45
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = IfElse(Random > 500,10,-1)
removeongethit = 1
ownpal = 1
scale = 0.7,0.9
ownpal = 1



[State 0]
type = changeanim
trigger1 = time = 0
value = 731
[State 0]
type = BgPalfx
trigger1=time = 0
time = 1
add = 256,256,256
[State 0]
type = palfx
trigger1 = time >350
trigger1 = time <500
trigger1 = timemod = 2, 1
time = 1
add = 244,96,64
sinadd = 220,72,40,1
[State 0]
type = palfx
trigger1 = time >500
trigger1 = timemod = 2, 1
time = 1
add = 171,16,1
sinadd = 171,16,1,2
[State 0]
type = poweradd
trigger1 = time > 0
value = 5
[State 0]
type = changestate
trigger1 = command != "carregar ki"
trigger1 = command != "carregar ki2"
trigger2 = power = 3000
value = 735
[State 0]
type = envshake
trigger1 = timemod = 6, 1
time = 5
freq = 100
ampl = -3
phase = 90
[State 0]
type = playsnd
trigger1 = timemod = 60,0
value = 730,0
volume = 255
channel = 2
[State 0]
type = playsnd
trigger1 = timemod = 120,0
value = 730,2
volume = 255
channel = 5

[Statedef 735]
type = S
physics = S
velset = 0,0,0
ctrl = 0
[State 0]
type = ChangeAnim
trigger1 = time = 0
value = 735
[State -2]
type=RemoveExplod
trigger1=time=1
ID=7030

[State -2]
type=RemoveExplod
trigger1=time=1
ID=7030
[State 0]
type = Explod
trigger1 = timemod = 12,0
anim = 9802
pos = 12,-50
postype = p1
facing = 1
vfacing = 1
bindtime = -1
;scale = 0.8,0.9
sprpriority = 10
removeongethit = 1
[State -2]
type=RemoveExplod
trigger1=time=1
ID=730
[State -2]
type=RemoveExplod
trigger1=time=1
ID=7030
[State 0]
type = playsnd
trigger1 = time = 0
value = s730,6
channel = 35
volume = 255
[State 0]
type = stopsnd
trigger1 = time = 0
channel = 31
[State 0]
type = stopsnd
trigger1 = time = 0
channel = 2

[State 0]
type = stopsnd
trigger1 = time = 0
channel = -5

[State 0]
type = changestate
trigger1 = time = 6
value = 0
ctrl = 1



[Statedef 9892]
type  = S
movetype   = I
physics  = S
anim  = 9892
ctrl   = 0
poweradd  = 0
juggle  = 0
facep2  = 1
hitdefpersist  = 0
movehitpersist  = 0
hitcountpersist = 0
sprpriority     = 0
[State 0 ]
type = VelSet
trigger1 = (!Time)
x  = 15
y  = 0
[State 0]
type   = PlayerPush
trigger1   = (1)
value  = 1

[State 0]
type = Projectile
trigger1 = time = 0
projanim = 9892
projhits = 1
projhitanim = 72401212
projmisstime = 1
projremovetime = 3
offset = 23,-56
attr = S, HP
damage   = 5,5
animtype = medium
hitflag = MAFDP
pausetime = 1,1
guard.pause = 1,60
hitsound   = S100,7
sparkno = S15161
sparkxy = 0,-20
guardsound = 6,0
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = 0,0
fall = 1
fall.yvelocity = -20
airguard.velocity = -3
air.velocity = -6, 0
envshake.time =15
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90


[State 0]
type  = NotHitBy
trigger1 = (1)
time  = 1
value = SCA
[State 0]
type = DestroySelf
trigger1= (Time = 20)

[Statedef 1230]
type = S
movetype= I
physics	= N
anim= 1230
ctrl= 0
poweradd= 0
juggle= 0
facep2	= 0
pausemove = 1
hitdefpersist= 0
movehitpersist= 0
hitcountpersist= 0
sprpriority= 0
[State 0]
type= SprPriority
trigger1= (!Time)
value= (IfElse(Random <= 499,3,-3))
[State 0]
type = VelAdd
trigger1  = (vel y < 0)
x = ifelse(parentdist x<=0,-3,3)
y = ifelse(random>500,-0.05,ifelse(random>500,-0.04,ifelse(random>500,-0.03,-0.02)))
[State 0]
type= VarRandom
trigger1= (!Time)
v= 0
range= -200,200
[State 0]
type= VarSet
trigger1= (!Time)
var(1) = (Parent, StateNo)
[State 0]
type= PosSet
trigger1= (!Time)
x= var(0)
y= 0
[State 0]
type= VelSet
trigger1= (Time = 1)
x  = (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y= (IfElse(Random <= 499,-.5,-1))
[State 0]
type= VelAdd
trigger1= (Parent, StateNo != Var(1))
y= .5
[State 0]
type= PlaySnd
trigger1= (!Time) && (Const(Size.XScale) <= 1)
value= S0,3
[State 0]
type= PlaySnd
trigger1= (!Time) && (Const(Size.XScale) > 1)
value= S0,1
[State 0]
type= PlaySnd
trigger1= (Pos Y >= 1)
value= S0,2
[State 0]
type= AfterImage
trigger1 = (!Time)
time = 15
timegap	 = 1
framegap = 2
length  = 10
paladd = 0, 0, 0
palmul 	= .50, .50, .50
palcontrast = 110,110,110
trans = add
[State 0]
type= DestroySelf
trigger1= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)
[Statedef 1231]
type = S
movetype= I
physics	 = N
anim= 1231
ctrl= 0
poweradd= 0
juggle = 0
facep2= 0
pausemove = 1
hitdefpersist= 0
movehitpersist= 0
hitcountpersist= 0
sprpriority= 0
[State 0]
type= SprPriority
trigger1= (!Time)
value= (IfElse(Random <= 499,3,-3))
[State Spinning the Rocks]
type = VelAdd
trigger1  = (vel y < 0)
x = ifelse(parentdist x<=0,-3,3)
y = ifelse(random>500,-0.05,ifelse(random>500,-0.04,ifelse(random>500,-0.03,-0.02)))
[State 0]
type= VarRandom
trigger1= (!Time)
v = 0
range= -200,200
[State 0]
type= VarSet
trigger1= (!Time)
var(1)= (Parent, StateNo)
[State 0]
type= PosSet
trigger1= (!Time)
x= var(0)
y= 0
[State 0]
type= VelSet
trigger1= (Time = 1)
x= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y= (IfElse(Random <= 499,-1.5,-2.5))
[State 0]
type= VelAdd
trigger1= (Parent, StateNo != Var(1))
y= .1
[State 0]
type= PlaySnd
trigger1= (!Time)
value= S2,2
[State 0]
type= PlaySnd
trigger1= (Pos Y >= 1)
value= S1,9
[State 0]
type= AfterImage
trigger1 = (!Time)
time = 15
timegap	= 1
framegap = 2
length = 10
paladd 	= 0, 0, 0
palmul 	= .50, .50, .50
palcontrast = 110,110,110
trans = add
[State 0]
type= DestroySelf
trigger1= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)
[Statedef 1232]
type = S
movetype= I
physics= N
anim= 1232
ctrl= 0
pausemove = 1
poweradd= 0
juggle = 0
facep2 = 0
hitdefpersist= 0
movehitpersist= 0
hitcountpersist	= 0
sprpriority= 0
[State 0]
type= SprPriority
trigger1= (!Time)
value= (IfElse(Random <= 499,3,-3))
[State 0]
type = VelAdd
trigger1= (vel y < 0)
x = ifelse(parentdist x<=0,-3,3)
y = ifelse(random>500,-0.05,ifelse(random>500,-0.04,ifelse(random>500,-0.03,-0.02)))
[State 0]
type= VarRandom
trigger1= (!Time)
v= 0
range= -200,200
[State 0]
type= VarSet
trigger1= (!Time)
var(1)= (Parent, StateNo)
[State 0]
type= PosSet
trigger1= (!Time)
x= var(0)
y= 0
[State 0]
type= PosSet
trigger1= (!Time)
y= 0
[State 0]
type= VelSet
trigger1= (Time = 1)
x= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y= (IfElse(Random <= 499,-2,-3))
[State 0]
type= VelAdd
trigger1= (Parent, StateNo != Var(1))
y= .1
[State 0]
type= PlaySnd
trigger1= (!Time)
value= S2,2
[State 0]
type	= PlaySnd
trigger1= (Pos Y >= 1)
value= S1,9
[State 0]
type= AfterImage
trigger1 = (!Time)
time = 15
timegap	= 1
framegap = 2
length 	= 10
paladd 	= 0, 0, 0
palmul 	= .50, .50, .50
palcontrast = 110,110,110
trans 	= add
[State 0]
type	= DestroySelf
trigger1= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)





;=================================
[Statedef 1510]
type = A
movetype = A
physics = A
velset = 0,-4
anim = 1510
ctrl = 0
[State 0]
type = PlaySnd
trigger1 = time = 0
value = S1500,0
volume = 255
channel = -1
[State 0]
type = Explod
trigger1 = Time = 0
anim = 20092
postype = p1
pos = -25, 15
bindtime = 1
removetime = -2
ownpal = 1
scale = 0.3,0.3
sprpriority = 2

[State 0]
type = Explod
trigger1 = Time = 0
anim = 20092
postype = p1
pos = 25, 15
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
ownpal = 1
scale = 0.3,0.3
sprpriority = 2

[State 0]
type = changestate
trigger1 = animtime = 0
value = 1500
ctrl = 1


;-----------
[Statedef 1500]
type = S
movetype = I
physics = N
ctrl = 0
velset = 0,0
[State 0]
type = VarSet
Trigger1 = Time = 0
var(3) = 1
[State 0]
type = ReversalDef
Trigger1 = command = "holdback"
reversal.attr = SCA, NA, SA, HA
pausetime = 0,15
hitsound = S6, 0
p1stateno = 150
[State 0]
type = VelSet
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
Trigger1 = var(2) = 0
Trigger2 = Pos Y < -405
x = 0
y = 0
[State 0]
type = ChangeAnim
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
Trigger1 = Anim != 1500
value = 1500
[State 0]
type = VarSet
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
Trigger1 = var(2) != 2
Trigger2 = var(2) = 2
Trigger2 = Vel Y >= 1.3
v = 2
value = 1
[State 0]
type = VarSet
Triggerall = var(2) = 1
Trigger1 = Vel Y <= -1.3
Trigger2 = P2BodyDist Y > 250
Trigger2 = Vel Y < 0
v = 2
value = 2
[State 0]
type = VelAdd
Trigger1 = var(2) = 1
y = -0.1
[State 0]
type = VelAdd
Trigger1 = var(2) = 2
y = 0.1
[State 0]
type = VelSet
Triggerall = var(2) != 0
Trigger1 = command = "holdfwd"
Trigger2 = command = "holdback"
Trigger3 = command = "holdup"
Trigger4 = command = "holddown"
y = 0
[State 0]
type = VarSet
Trigger1 = command = "holdfwd"
Trigger2 = command = "holdback"
Trigger3 = command = "holdup"
Trigger4 = command = "holddown"
v = 2
value = 0
[State 0]
type = PosSet
Trigger1 = Pos Y < -400
y = -400
[State 0]
type = PosAdd
Trigger1 = P2BodyDist Y > 250
Trigger1 = Vel Y < 0
y = 1
[State 0]
type = VelSet
Trigger1 = P2BodyDist Y > 250
Trigger1 = Vel Y < 0
y = 0
[State 0]
type = VelAdd
Trigger1 = command = "holddown"
y = 0.4
[State 0]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = Vel Y < 0
y = 0
[State 0]
type = VelAdd
Trigger1 = command = "holdup"
y = -0.3
[State 0]
type = VelSet
Trigger1 = command = "holdup"
Trigger1 = Vel Y > 0
y = 0
[State 0]
type = ChangeAnim
Trigger1 = Anim != 1504
Trigger1 = command = "holdup"
value = 1504
[State 0]
type = VelAdd
Trigger1 = command = "holdback"
x = -0.3
[State 0]
type = VelSet
Trigger1 = command = "holdback"
Trigger1 = Vel X > 0
x = 0
[State 0]
type = ChangeAnim
Triggerall = Anim != 1502
Trigger1 = command = "holdback"
Trigger2 = command = "holddown"
value = 1502
[State 0]
type = VelAdd
Trigger1 = command = "holdfwd"
x = 0.4
[State 0]
type = VelSet
Trigger1 = command = "holdfwd"
Trigger1 = Vel X < 0
x = 0
[State 0]
type = ChangeAnim
Trigger1 = Anim != 1501
Trigger1 = command = "holdfwd"
value = 1501
[State 0]
type = ChangeAnim
triggerall = Anim != 1503
trigger1 = command = "holddown"
value = 1503
[State 0]
type = Turn
Trigger1 = P2Dist X < 0
[State 0]
type = ChangeState
Trigger1 = Pos Y >= 0
value = 52
ctrl = 1
[State 0]
type = ChangeState
Trigger1 = command = "voar"
Trigger1 = command = "holddown"
value = 50
ctrl = 1
[State 0]
type = ChangeState
trigger1 = Win = 1
trigger2 = Lose = 1
value = 1512

;--;-------------------------------------------------------------------------
[Statedef 1512]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1512
[State 0]
type = VelAdd
trigger1 = AnimElem = 1
trigger1 = AnimElem <= 2
x = -0.3
[State 0]
type = VelSet
trigger1 = AnimElem = 3
x = 0
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State ]
type = ChangeState
trigger1 = time = 60
value = 1513
;---------------------------------------------------------------------------
[Statedef 1513]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0
[State 0]
type = PlaySnd
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
persistent = 0
value = 21,4
[State 0]
type = PosSet
trigger1 = Vel Y = 0
y = 0
[State 0]
type = ChangeAnim
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 1513
[State 0]
type = Velset
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
y = 0
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 1000
sprpriority = 2
poweradd = -100
[State 0]
type = VelSet
trigger1 = Time = [0,20]
x = 12
[State 0]
type = AfterImage
trigger1 = Animelem = 1
time = 20
length = 9
timegap = 1
framegap = 1
paladd = 0,0,0
PalBright  =  50,  50,  50
PalContrast = 128,128,128
PalAdd =   0,  0,  0
PalMul=  1,1,1
Trans = Add1
[State 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 40, 1
volume = 255
channel = 1
[State 0, PosAdd]
type = PosAdd
trigger1 = p2bodydist x <10
x = p2bodydist x + 40
y = 0
[State 0]
type = ChangeState
trigger1 = p2bodydist x <1
value = 0
ctrl = 1
[State 0]
type = ChangeState
trigger1 = Time = 20
value = 0
ctrl = 1



;---------------------------------------------------------------------------
[Statedef 123]
type = S
movetype = I
physics = S
anim = 40
velset = 0, 0
sprpriority = 1
ctrl = 0
[State 0]
type = VarSet
trigger1 = time = 0
v = 2
value = 1
[State 0]
type = VarSet
trigger1 = time = 0
v = 4
value = 1
[State 0]
type = VarSet
trigger1 = time = 0
v = 1
value = ifelse(command = "holdfwd", 1, ifelse(command = "holdback", -1, 0))
[State 0]
type = Explod
trigger1 = AnimTime = 0
anim = 20092
postype = p1
pos = -35, 15
bindtime = 1
removetime = -2
ownpal = 1
scale = 0.7,0.7
sprpriority = 2

[State 0]
type = Explod
trigger1 = AnimTime = 0
anim = 20092
postype = p1
pos = 35, 15
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
ownpal = 1
scale = 0.7,0.7
sprpriority = 2

[State 0]
type = PlaySnd
trigger1 = AnimTime = 0
value = 40, 1
volume = 255

[State 0]
type = VelSet
trigger1 = AnimTime = 0
x = 2.25 * var(1)
y = -12.5

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 124
ctrl = 1
[Statedef 124]
type = A
movetype = I
physics = A
[State 0]
type = ChangeAnim
trigger1 = time = 0
trigger1 = PrevStateNo = 123 || PrevStateNo = 125
value = 41

[State 0]
type = ChangeAnim
trigger1 = time = 0
trigger1 = PrevStateNo = 123 || PrevStateNo = 125
trigger1 = Vel X > 0
value = 50

[State 0]
type = ChangeAnim
trigger1 = time = 0
trigger1 = PrevStateNo != 123 && PrevStateNo != 125
trigger2 = Anim = 41 && AnimTime = 0
value = 44

[State 0]
type = VelAdd
trigger1 = command = "holdfwd"
x = .1

[State 0]
type = VelAdd
trigger1 = command = "holdback"
x = -.1

[State 0]
type = ChangeState
triggerall = var(2) > 0
trigger1 = command = "paracima"
value = 125

[Statedef 125]
type    = A
physics = N
ctrl = 0
velset = 0,0

[State 0]
type = VarAdd
trigger1 = time = 0
v = 2
value = -1



[State 0]
type = ChangeAnim
trigger1 = SelfAnimExist(44)
value = 44

[State 0]
type = ChangeAnim
trigger1 = !SelfAnimExist(44)
value = 41

[State 0]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 0]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 0]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 0]
type = VelSet
trigger1 = Time = 2
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x) + 1.5))
y = const(velocity.airjump.y)



[State 0]
type = ChangeState
trigger1 = Time = 2
value = 124
ctrl = 1


;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
; CNS x: {
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
; CNS x: {
[Statedef 180]
type = S
[State 0]
type = ChangeState
trigger1 = random <= 449
value = 181


[State 0]
type = ChangeState
trigger1 = random <= 449
value = 182
[State 0]
type = ChangeState
trigger1 = random <= 449
value = 183
;---------------------------------------------------------------------------
; Win pose 1 - Bow
; CNS difficulty: basic
; CNS x: {
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S99,2
volume = 255
channel = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,300]
flag = roundnotover


[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S99,24
volume = 255
channel = -1

[State 0]
type = Explod
trigger1 =  time = 145
anim =  1833
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1.1,1.1
sprpriority = -1
ownpal = 1
persistent =1



[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 19
time = 5
add = 256,256,256


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 200
value = S99,46
volume = 255
channel = -1




[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 17
value = S500,1
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 17,100
value = S500,1
volume = 255
channel = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,600]
flag = roundnotover

[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S99,47
volume = 255
channel = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,550]
flag = roundnotover

[Statedef 1911]
type = S
ctrl = 0
anim = 1911
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S99,38
volume = 255
channel = 18


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 30
value = S99,39
volume = 255
channel = 18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem =85,40
value = S99,40
volume = 255
channel = -1


[State 0]
type = AssertSpecial
trigger1 = 1
flag = Intro
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
; CNS x: {
[Statedef 191]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S99,1
volume = 255
channel = 18


[State 0]
type = AssertSpecial
trigger1 = 1
flag = Intro
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S99,42
volume = 255
channel = 18


[State 0]
type = Explod
trigger1 =  time = 0
anim =  1922
pos = 40,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = -1
ownpal = 1
persistent =1


[State 0]
type = AssertSpecial
trigger1 = 1
flag = Intro
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0



[Statedef 193]
type = S
ctrl = 0
anim = 193
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S99,44
volume = 255
channel = 18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =270
value = S99,43
volume = 255
channel = 18




[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem =5
value = S99,45
volume = 255
channel = 18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem =2
value = S500,1
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem =26,50
value = S500,1
volume = 255
channel = -1


[State 0]
type = Explod
trigger1 =  time = 0
anim =  1933
pos = 35,-1
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 670
scale = 1,1
sprpriority = -1
ownpal = 1
persistent =1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem =26,59
time = 3
add = 256,256,256



[State 0]
type = Explod
trigger1 =  time = 0
anim =  1932
pos = -30,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 670
scale = 1.2,1.2
sprpriority = -1
ownpal = 1
persistent =1


[State 0]
type = AssertSpecial
trigger1 = 1
flag = Intro
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0


;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S99,0
volume = 255
channel = 31



[State 195, 1]
type = CtrlSet
trigger1 = Time = 330
value = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




;---------------------------------------------------------------------------
; Stand Light Punch
; CNS difficulty: easy
[Statedef 200]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 200                       ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 8                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -5, -55             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s200, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = 0            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0
volume = 255

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = command = "x"
trigger1 = Animelem = 4, > 1 && Animelem = 5, <= 20  && movehit
ignorehitpause
value = 201
ctrl = 0

[Statedef 201]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 210                       ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 1
y = 0


[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 10, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1, 5                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -15, -50            ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s200, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 10             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -2            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0
volume = 255

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = command = "x"
trigger1 = Animelem = 3, > 1 && Animelem = 4, <= 20  && movehit
ignorehitpause
value = 202
ctrl = 0


[Statedef 202]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 200                    ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 1
y = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 10, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1, 5                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -15, -50            ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s200, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -2            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0
volume = 255

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = command = "x"
trigger1 = Animelem = 4, > 1 && Animelem = 5, <= 20  && movehit
ignorehitpause
value = 203
ctrl = 0

[Statedef 203]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 210                       ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 1
y = 0


[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 10, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1, 8                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -15, -50            ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s200, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -2            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0
volume = 255

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = command = "x"
trigger1 = Animelem = 3, > 1 && Animelem = 4, <= 20  && movehit
ignorehitpause
value = 204
ctrl = 0


[Statedef 204]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 201                    ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 12
y = 0


[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 10, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1, 1                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -45, -50            ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s220, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -8            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 12
envshake.time = 15
envshake.freq = -90
envshake.ampl = 4
envshake.phase = 40


[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0
volume = 255

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Standing strong punch
; CNS difficulty: easy
; Note the width controller. It makes KFM's push box larger, so he doesn't
; stand so close to the opponent. Hit Ctrl-C and look at the red bar at his
; feet.
; The sprpriority for this state is at -1, instead of the usual 2 for
; attacks. This makes KFM appear behind the opponent initially.
; The SprPriority controller in [State 210, 4] brings KFM to the front when
; his arm has swung over.
; To stop KFM from pausing in his swing frame, there is a ChangeAnim in
; [State 210, 3] that detects if the hit has come in contact with the
; opponent during that frame, and switches to the next animation element
; (notice the elem=6 parameter). If you don't see what I mean, try commenting
; out that controller, then hit someone with this attack.
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 210
sprpriority = -1


[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 3
y = 0


[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0
volume = 255

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 57
guardflag = MA
pausetime = 10,12
sparkno = s2009
sparkxy = -15,-53
hitsound   = s210,1
guardsound = s6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -8
air.velocity = -2.5,-4
envshake.time = 15
envshake.freq = -90
envshake.ampl = 3
envshake.phase = 40



[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = command = "y"
trigger1 = Animelem = 3, > 1 && Animelem = 4, <= 20  && movehit
ignorehitpause
value = 211
ctrl = 0

[Statedef 211]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 211                       ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)


[State 200, 1]
type = HitDef
trigger1 = 1
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 2, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1, 1                 ;Time attacker pauses, time opponent shakes
sparkno = s200900                      ;Spark anim no (Def: set above)
sparkxy = -30, -55             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s230, 2                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 10            ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -15,0            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time =12
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
[State 0, BGPalFX]
type = BGPalFX
trigger1 =   animelem = 2
time = 5
add = 256,256,256
[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 99, 4
volume = 255
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
[State 0]
type = ChangeState
triggerall = command = "y"
trigger1 = Animelem = 2, > 5 && Animelem = 3, <= 20 ; && movecontact
ignorehitpause
value = 212
ctrl = 0
[Statedef 212]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 212
sprpriority = -1

[State 0, PosAdd]
type = PosAdd
trigger1 =animelem = 1
x = p2bodydist x +50

[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 3
time = 5
anim =225625
pos = -1
movetime = 5
darken = 0

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 99, 6
volume = 255

[State 200, 1]
type = PlaySnd
trigger1 =animelem = 2
trigger2 =animelem = 3
trigger3 =animelem = 4
value = 99, 5
volume = 255

[State 0, Turn]
type = Turn
trigger1 =animelem = 1
[State 200, 1]
type = HitDef
trigger1 =animelem = 2
trigger2 =animelem = 3
trigger3 =animelem = 4
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 12, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 3, 15                 ;Time attacker pauses, time opponent shakes
sparkno = s200911                      ;Spark anim no (Def: set above)
sparkxy = -20, -55             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s230, 2                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip              ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 10             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = 0,0            ;Velocity at which opponent is pushed   ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)        ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time =3
envshake.freq = 60
envshake.ampl = -3
envshake.phase = 90
palfx.time = 20
palfx.add = 10,10,100
palfx.sinadd = -20,-20,-89,8
palfx.color = 20
value = 101
ctrl = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 20093
pos = 0,-50
postype = p2
facing = 1
vfacing = 1
bindtime = -1
;removetime = -2
scale = 1,1
sprpriority = 20
ownpal = 1
removeongethit = 1


[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 4
time = 5
add = 256,256,256
[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2
[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[State 0]
type = ChangeState
triggerall = command = "y"
trigger1 = Animelem = 4, > 5 && Animelem = 7, <= 20 ; && movecontact
ignorehitpause
value = 213
ctrl = 0


[Statedef 213]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 213
sprpriority = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S99,7
volume = 255
channel = -1


[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 1
time = 10
anim = -1
pos = -1
movetime = 10
darken = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = 20094
pos = -40,-90
postype = p2
supermove   = -1
pausemove = -1
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 20
ownpal = 1
removeongethit = 1

[State 240, 2]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Medium
damage    = 15
guardflag = MA
pausetime = 12,0
sparkno = s2009
sparkxy = -20,-35
hitsound   = s99,8
guardsound = s6,0
ground.type = trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,4
air.velocity = -3.2,3.2
air.velocity = -1,3.2
envshake.time = 13
envshake.freq = 120
envshake.ampl = 6
fall = 1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 2
time = 5
add = 256,256,256
[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2
[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing light kick
; CNS difficulty: easy
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 200, 0
volume = 255

[State 230, 2]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Medium
damage    = 26
guardflag = MA
pausetime = 6,12
sparkno = s2009
sparkxy = -10,-27
hitsound   = s200,1
guardsound = s6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 11
ground.velocity = 0
air.velocity = -2.5,-3.5

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = command = "a"
trigger1 = Animelem = 2, > 1 && Animelem = 3, <= 20  && movehit
ignorehitpause
value = 231
ctrl = 0

[Statedef 231]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 3,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 231                       ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 5, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 3, 3                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -20, -70            ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s99, 9                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -1            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0
volume = 255

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = command = "a"
trigger1 = Animelem = 3, > 1 && Animelem = 3, <= 20  && movehit
ignorehitpause
value = 232
ctrl = 0


[Statedef 232]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 3,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 231                       ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 5, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 3, 3                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -20, -70            ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s99, 9                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -1            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0
volume = 255

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 220, 0
volume = 255

[State 230, 2]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Medium
damage    = 26
guardflag = MA
pausetime = 6,12
sparkno = s2009
sparkxy = -20,-67
hitsound   = s220,1
guardsound = s6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 11
ground.velocity = 0
air.velocity = -2.5,-3.5

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = command = "b"
trigger1 = Animelem = 2, > 1 && Animelem = 3, <= 20  && movecontact
ignorehitpause
value = 241
ctrl = 0


[Statedef 241]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 241
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 210, 0
volume = 255

[State 240, 2]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Medium
damage    = 63
guardflag = MA
pausetime = 12,0
sparkno = s2009
sparkxy = -20,-75
hitsound   = s210,1
guardsound = s6,0
ground.type = trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,-4
air.velocity = -8.2,-8.2

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;Crouching light punch
; CNS difficulty: easy
; Description: Simple crouching attack. The HitDef's guardflag parameter
;     is set to "L", meaning that the move can only be guarded low
;     (crouching), and not by standing or jumping opponents.
;     Like for all light attacks, it's a good idea to keep the slidetime
;     and hittime parameters at a smaller number, so the opponent isn't
;     stunned for too long. For all crouching attacks you have to
;     remember to set the attr parameter to indicate that it is crouching
;     attack. In this case, "C, NA" stands for "crouching, normal attack".
;     The HitDef's priority is set at 3, instead of the default of 4,
;     so this attack has a lower priority than most others, meaning
;     KFM will get hit instead of trading hits with his opponent if
;     their attack collision boxes (Clsn1) intersect each other's Clsn2
;     boxes at the same time.
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15
ctrl = 0
anim = 400
sprpriority = 1

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0
volume = 255

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 23
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 6,8
sparkno = s2009
sparkxy = -10,-33
hitsound   = s200,1
guardsound = s6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 10
ground.velocity = -1
air.velocity = -1.5,-3

[State 400, 3]
type = CtrlSet
trigger1 = Time = 9
value = 1

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
;Crouching strong punch
; CNS difficulty: easy
; Description: This is a 2-hit move. It is done by having two HitDefs
;     triggered, one for each frame of animation that hits.
;     Notice how the first hit cannot be guarded by an opponent in the
;     air, because of the "M" in the guardflag, meaning it can only
;     be guarded "middle". The second hit has an "MA" guardflag, so
;     it can be guarded both on the ground and in the air.
; CNS x: 
; : UB
; Aj[VXHitDefo^B
; UHitDefguardflaguMvimiddleiK[hj
; ZbgAK[hB
; UguardflaguMAvimiddle+airi{K[hjA
; nAK[hB
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 410
sprpriority = 1

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0
volume = 255

;This is the first hit, triggered on the 3rd element of animation.
[State 410, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 37
animtype  = Medium
hitflag = MAF
guardflag = M
pausetime = 7,7
sparkno = s2009
sparkxy = -10,-33
hitsound   = s210,1
guardsound = s6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1
air.velocity = -3,-4

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1








;---------------------------------------------------------------------------
;Crouching light kick
; CNS difficulty: easy
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 22
ctrl = 0
anim = 430
sprpriority = 0

[State 430, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0
volume = 255

[State 430, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 5
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 6,8
sparkno = s2009
sparkxy = -15,-5
hitsound   = s200,1
guardsound = s6,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -1
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouch Strong Kick
; CNS difficulty: easy
; Description: This move uses "Trip" for the "ground.type" parameter in
;     its HitDef. It's a special type that puts the opponent in a tripped
;     animation as he falls. Also, the hitflag parameter in the HitDef
;     is set to "MAFD". The "D" indicates that a downed opponent can be
;     hit by the attack.
; CNS x: 
; :
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 440
sprpriority = 2

[State 440, 2]
type = PlaySnd
trigger1 = Time = 2
value = 220, 0
volume = 255

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 12
[State 0, MakeDust]
type = MakeDust
trigger1 = time > 4
trigger1 = time <15
pos = -10,0
spacing = 3



[State 440, 3]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 72
hitflag = MAFD
guardflag = L
pausetime = 12,5
sparkno = s2009
sparkxy = -5,-5
hitsound   = s220,1
guardsound = s6,0
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5,-2
air.velocity = -1.2,-3
guard.velocity = -5
fall = 1
envshake.time = 10
envshake.freq = 140
envshake.ampl = 4




[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Jump Light Punch
; CNS difficulty: easy
;---------------------------------------------------------------------------
;Jump Light Punch
; CNS difficulty: easy
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 600
sprpriority = 1

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0
volume = 255

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 20
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = s2009
sparkxy = -6,-55
hitsound   = s200,1
guardsound = s6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -1
air.velocity = -1,-1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Jump Strong Punch
; CNS difficulty: easy
;---------------------------------------------------------------------------
;Jump Strong Punch
; CNS difficulty: easy
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 610
sprpriority = 1

[State 610, 2]
type = PlaySnd
trigger1 = Time = 2
value = 220, 0
volume = 255

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 20010
pos = 0,0
postype = p2
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 10


[State 610, 3]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
damage = 72
guardflag = HA
priority = 4
pausetime = 10,1
sparkno = s2009
sparkxy = -15,-55
hitsound   = s220,1
guardsound = s6,0
animtype = Med
ground.type = trip
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -10,6
air.velocity = -10,6
envshake.time = 13
envshake.freq = 120
envshake.ampl = 6


[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Jump Light Kick
; CNS difficulty: easy
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 20
ctrl = 0
anim = 630
sprpriority = 0

[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0
volume = 255

[State 630, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 26
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = s2009
sparkxy = -10,-20
hitsound   = s200,1
guardsound = s6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -2
air.velocity = -2,-1


[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Jump Strong Kick
; CNS difficulty: easy
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 640
sprpriority = 2

[State 610, 2]
type = PlaySnd
trigger1 = Time = 2
value = 220, 0
volume = 255

[State 610, 3]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
damage = 72
guardflag = HA
priority = 4
pausetime = 12,3
sparkno = s2009
sparkxy = -0,-40
hitsound   = s220,1
guardsound = s6,0
ground.type = trip
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -8,1
air.velocity = -8,1
envshake.time = 13
envshake.freq = 120
envshake.ampl = 6


[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 20010
pos = 0,0
postype = p2
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 10

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Kung Fu Throw - Attempt
; CNS difficulty: medium-advanced
; Description: Throws are not difficult to make, although then can be
;     tedious at times. Throw attempt states have a HitDef of a
;     special format. The key parameters in a throw are p1stateno
;     and p2stateno. If the HitDef successfully connects, then
;     the attacker will change to the state number specified by
;     p1stateno, and the opponent will be change to the state
;     number assigned to p2stateno. The special thing about p2stateno
;     is that the opponent will be temporarily brought into the
;     attacker's state file. In this case, no matter who the
;     opponent is, he will be taken to state 820 of this file (kfm.cns)
;     and remain here until the end of the throw (look at his debug
;     information when he is being thrown; the text changes to yellow
;     to mean that he is in another player's state file).
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S800,0
volume = 255
channel = -1


[State 200, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)                  ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
pausetime = 6, 100                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -25, -55             ;X-offset for the "hit spark" rel. to p2,             ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = 0            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 12
p1stateno = 810


[State 0, TargetBind]
type = TargetBind
trigger1 = movecontact = 1
time = 1
pos = 100,0



[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 810]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 810
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 =  animelem = 1
anim =  20993
pos = 35,-57
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 40
scale = 0.2,0.2
sprpriority = 20
ownpal = 1
removeongethit = 1


[State 0, Explod]
type = Explod
trigger1 =  time = 40
anim =  20094
pos = 38,-61
postype = p1
facing = 1
vfacing = 1
bindtime = -1
;removetime = 15
scale = 0.7,0.7
sprpriority = 20
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 =  animelem = 1
anim =  20993
pos = 5,-50
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = 40
scale = 0.5,0.5
sprpriority = 20
ownpal = 1
removeongethit = 1


[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 70, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 6, 1
sparkno = s2900
sparkxy = -5, -55
guardsound = s6, 0
ground.type = trip
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -8,-3
air.type = trip
air.velocity = -8,-3
air.hittime = 12
p2stateno = 1025
[State 0, TargetVelSet]
type = TargetVelSet
triggerall = movehit != 1
trigger1 = time >0
trigger1 = time <15
x = -7
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 40
time = 25
freq = 60
ampl = -4
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S99,41
volume = 255
channel = -1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
time = 8
add = 256,256,256



[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1



[Statedef 1025]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1025, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 1025

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 1026

;------------------
; Hit by Fast Kung Fu Palm - flying through the air
; (a custom gethit state)
[Statedef 1026]
type    = A
movetype= H
physics = N

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 1027

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;------------------
; Hit by Fast Kung Fu Palm - hit wall
; (a custom gethit state)
[Statedef 1027]
type    = A
movetype= H
physics = N

[State 1027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 1027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1027

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 1028

;------------------
; Hit by Fast Kung Fu Palm - bounce off wall
; (a custom gethit state)
[Statedef 1028]
type    = A
movetype= H
physics = N

[State 1028, 1]
type = NotHitBy
trigger1 = 1
value = , NA, NP

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100









;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 1111]
type    = A
movetype= H
physics = N

[State 1111, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 672

[State 1111, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 1110, 4]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1111, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 1112 ;HIT_BOUNCE

;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; SMASH (hit ground)
[Statedef 1112]
type    = L
movetype= H
physics = N

[State 1112, posset]
type = posadd
trigger1 = Time = 0
x = -20

[State 1112, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 1112, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 1112, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
;trigger1 = GetHitVar(fall.yvel) = 0
sysvar(1) = floor(vel y)

[State 1112, 2] ;Hit ground anim (normal)
type = ChangeAnim2
trigger1 = time = 0
value = 673

[State 1112, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1112, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 1112, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 1112, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 61
pos = 0, 0
under = 1

[State 1112, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 1112, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 1112, 11]
type = PosFreeze
trigger1 = 1

[State 1112, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 1113

[State 1112, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
amxl = 128,-3,-.2,.005
time = 20

[State 1112, EnvShake]
type = EnvShake
trigger1 = AnimElem = 1
time = 12
ampl = -5
freq = 90

;--------------------------------------------------------------------------

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 1113]
type    = L
movetype= H
physics = N

[State 1113, 1] ;Coming hit ground anim (normal)
type = ChangeAnim2
trigger1 = time = 0
value = 674

[State 1113, 3]
type = HitFallVel
trigger1 = Time = 0

[State 1113, posset]
type = posadd
trigger1 = animelem = 2
y = -10
x = -5

[State 1113, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 1113, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
type = SelfState
value = 5110

;---------------------------------------------------------------------------






;====================================================
; IORI YAGAMI X's SPECIAL HIT ANIMATIONS
;====================================================


;---------------------------------------------------------------------------
; AOI HANA JUGGLE HITS
;---------------------------------------------------------------------------
; HITA_SHAKE
[Statedef 10049]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1004, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000 + var(49)*10000,5010 + var(49)*10000) + GetHitVar(animtype)

[State 1004, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5012 + var(49)*10000

[State 1004, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + var(49)*10000 + GetHitVar(animtype) ;5051 - 4 + type

[State 1004, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 1004, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 1008

[State 1004, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 1004, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 1004, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
trigger4 = anim = [5051,5059]
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 1008]
type    = A
movetype= H
physics = N
ctrl = 0

[State 1008, Anim]
type = Changeanim
trigger1 = Time = 0
trigger1 = anim = 5012 + var(49)*10000
value = 5030 + var(49)*10000

[State 1008, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 1008, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1008, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 1006 ;HITA_FALL

[State 1008, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1005 ;HITA_UP (transition)

;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 1005]
type    = A
movetype= H
physics = N

[State 1005, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 + var(49)*10000 ;Not if hit off ground anim
value = 5035 + var(49)*10000

[State 1005, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 1005, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 1006 ;HITA_FALL

;---------------------------------------------------------------------------

; HITA_FALL (knocked up, falling)
[Statedef 1006]
type    = A
movetype= H
physics = N

[State 1006, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035 + var(49)*10000
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035 + var(2)*10000
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 + var(2)*10000 ;Not if hit off ground anim
value = 5050 + var(49)*10000

[State 1006, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 1006, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 1006, 4] ;Recover near ground
type = SelfState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 1006, 0fall]
type = HitFallSet
trigger1 = Time = 0
value = 0

[State 1006, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 0)
value = 5100 ;HIT_BOUNCE

;---------------------------------------------------------------------------
; HITA_SHAKE
[Statedef 1007]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1007, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000 + var(49)*10000,5010 + var(49)*10000) + GetHitVar(animtype)

[State 1007, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030 + var(49)*10000

[State 1007, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + var(49)*10000 + GetHitVar(animtype) ;5051 - 4 + type

[State 1007, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 1007, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 1009

[State 1007, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 1007, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 1007, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
trigger4 = anim = [5051,5059]
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 1009]
type    = A
movetype= H
physics = N
ctrl = 0

[State 1006, 0fall]
type = HitFallSet
trigger1 = Time = 0
value = 0

[State 1008, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 1008, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1008, 4]
type = Changestate
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 1006 ;HITA_FALL

[State 1008, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1005 ;HITA_UP (transition)
;---------------------------------------------------------------------------









;===========================================================================
; AOI HANA PART 3 AERIAL HIT STATES
;===========================================================================
; Hit SHAKE
[Statedef 1110]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0

[State 1110, 3]
type = ChangeAnim2
trigger1 = time = 0
value = 671 + var(49)*10000

[State 1110, 4] ;Freeze anim
type = ChangeAnim2
trigger1 = Time > 0
value = anim

[State 1110, 5]
type = ChangeState
trigger1 = hitshakeover
value = 1111
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 1111]
type    = A
movetype= H
physics = N

[State 1111, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 672 + var(49)*10000

[State 1111, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 1110, 4]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1111, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 1112 ;HIT_BOUNCE

;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; SMASH (hit ground)
[Statedef 1112]
type    = L
movetype= H
physics = N

[State 1112, posset]
type = posadd
trigger1 = Time = 0
x = -20

[State 1112, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 1112, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 1112, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
;trigger1 = GetHitVar(fall.yvel) = 0
sysvar(1) = floor(vel y)

[State 1112, 2] ;Hit ground anim (normal)
type = ChangeAnim2
trigger1 = time = 0
value = 673 + var(49)*10000

[State 1112, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1112, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 1112, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 1112, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 61
pos = 0, 0
under = 1

[State 1112, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 1112, 10]
type = PlaySnd
trigger1 = Time = 1
;value = F7, 0 ;Hit ground
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 1112, 11]
type = PosFreeze
trigger1 = 1

[State 1112, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 1113

[State 1112, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
amxl = 128,-3,-.2,.005
time = 20

[State 1112, EnvShake]
type = EnvShake
trigger1 = AnimElem = 1
time = 12
ampl = -5
freq = 90

;--------------------------------------------------------------------------

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 1113]
type    = L
movetype= H
physics = N

[State 1113, 1] ;Coming hit ground anim (normal)
type = ChangeAnim2
trigger1 = time = 0
value = 674 + var(49)*10000

[State 1113, 3]
type = HitFallVel
trigger1 = Time = 0

[State 1113, posset]
type = posadd
trigger1 = animelem = 2
y = -10
x = -5

[State 1113, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 1113, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
type = SelfState
value = 5110

;---------------------------------------------------------------------------

;===========================================================================
; AOI HANA PART 3 GROUND HIT
;===========================================================================
; SLAM FACE DOWN shaking
[Statedef 1103]
type    = S
movetype= H
physics = N
velset = 0,0

[State 5000, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 5012

[State 5000, 3] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 1104

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------

;-----------------------------------
;subsob
[Statedef 1104]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1104, Envshake]
type = envshake
Trigger1 = time = 0
time = 10
ampl = -3
freq = 110

[State 1104, posadd]
type = posadd
trigger1 = Time = 0
x = -20

[State 1104,1]
type = nothitby
trigger1 = Time >= 0
value = SCA
time = 1

[State 1104, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 1104, Var]
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 1104, 2]
type = ChangeAnim
triggerall = time = 0
trigger1 = SelfAnimExist(5102)
value = 5102

[State 1104, 2]
type = ChangeAnim
triggerall = time = 0
trigger1 = SelfAnimExist(5101)
trigger1 = !SelfAnimExist(5102)
value = 5101 + var(49)*10000

[State 1104, 2]
type = ChangeAnim
triggerall = time = 0
trigger1 = !SelfAnimExist(5101)
trigger1 = !SelfAnimExist(5102)
value = 5100 + var(49)*10000
[State 1104, 4]
type = PosSet
trigger1 = Time = 0
y = 0
[State 1104, 6]
type = VelMul
trigger1 = Time = 0
x = 0.75
[State 1104, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 61
pos = 0, 0
under = sysvar(1) <= 10
[State 1104, 9]
type = HitFallDamage
trigger1 = Time = 3
[State 1104, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)
[State 1104, 12]
type = selfState
trigger1 = Time = 10
value = 5101
[State 1104, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20
[Statedef -3]
[State 0, StopSnd]
type = StopSnd
trigger1 =  stateno = 0
channel = 18
[State 0, StopSnd]
type = StopSnd
trigger1 =  stateno = [5000,5200]
channel = 31
[State -3]
type = afterimage
trigger1 = anim = 1510
time = 5
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add
[State -3]
type = afterimage
trigger1 = anim = 1500
time = 25
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add
[State -3]
type = SuperPause
trigger1 = P1name != "piccolo daimao by  Franciynaldo"
time = 999999
[State -3]
type = explod
trigger1 = life = 2000
trigger1 = roundstate != 0
trigger1 = numexplod(753) = 0
trigger1 = stateno = 180
anim = 753
id = 753
ignorehitpause = 1
bindtime = -1
postype = left
pos = 160,80
scale = 0.5,0.5
sprpriority = 20
[State -3]
type = PlaySnd
trigger1 = roundstate != 0
trigger1 = stateno = 180
trigger1 = life = 2000
value = S99,3
volume = 0
channel = -1
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = numproj = 0
triggerall = power = 3000
trigger1 = p2movetype = I
value = 3400
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = numproj = 0
triggerall = power = 3000
triggerall = life <=500
trigger1 = p2movetype = I
value = 3300
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = numproj = 1
triggerall = power = 3000
trigger1 = p2movetype = I
value =  3200
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = numproj = 0
triggerall = power >=2000
trigger1 = p2movetype = I
value = 3100
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 3101  && animelem = 27
value = 3107
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = numproj = 0
triggerall = power >=1500
trigger1 = p2movetype = I
value = 3000
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = P2BodyDist X >150
triggerall = StateType = S
trigger1 = p2movetype = I
value = 2700
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = StateType = S
trigger1 = p2movetype = I
value = 2500
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = P2BodyDist X >130
triggerall = var(6) = 1
triggerall = StateType = S
trigger1 = p2movetype = I
value = 2600
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = P2BodyDist X <30
triggerall = StateType = S
trigger1 = p2movetype = I
value = 2400
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = StateType = S
trigger1 = p2movetype = I
value = 2300
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = StateType = S
trigger1 = p2movetype = I
value = 2200
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 2201  && movehit
value = 2202
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = StateType = S
trigger1 = p2movetype = I
value = 2000
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 2200  && movehit
value = 2120
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 2120  && movehit
value = 2140
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = StateType = S
trigger1 = p2movetype = I
value = 2100
[State -3]
type = ChangeState
triggerall = Var(6)= 1
triggerall = Random <= 300
triggerall =ctrl = 1
triggerall = StateType != A
triggerall = EnemyNear, StateType != C
triggerall = EnemyNear, MoveType = A
trigger1 = ctrl = 1 && (P2Movetype = A)
value = 150
[State -3]
type = ChangeState
triggerall = RoundState = 2
triggerall = Random <= 300
triggerall = Var(6)= 1 && Life != 0 && P2Life != 0
triggerall = statetype = S
triggerall = ctrl = 1
trigger1 = p2movetype = A
value = 130
[State -3]
type = ChangeState
triggerall = Var(6)= 1 && Life != 0 && P2Life != 0  && Random < 300
triggerall = statetype != A && p2stateno != 403 || p2stateno != 503 && p2stateno != [5110,5150]
triggerall = ctrl = 1 && stateno!=900 && stateno!=501
triggerall =prevstateno!=900 && prevstateno!=501 && p2bodydist Y =0 && movetype != A
trigger1 = p2movetype != A
trigger1 =p2bodydist x > 0 && p2bodydist x < 22
value = 800
[State -3]
type = ChangeState
triggerall = Var(6)= 1
triggerall = stateno =1510
triggerall = p2bodydist Y > 40
trigger1 = p2bodydist Y > 40
value = 50
[State -3]
type = ChangeState
triggerall = Var(6)= 1
triggerall = stateno =1500
triggerall = p2bodydist Y > 40
trigger1 = p2bodydist Y > 40
value = 50
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
trigger1 = p2movetype = I
value = 15143
[State -1]
type = changestate
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)
triggerall = Ctrl
triggerall = P2BodyDist X <= 30
trigger1 = p2movetype = I
trigger1 = Random <= 50
value = 200
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 200  && movehit
value = 201
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 201  && movehit
value = 202
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 202  && movehit
value = 203
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 203  && movehit
value = 204
[State -1]
type = changestate
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)
triggerall = Ctrl
triggerall = P2BodyDist X <= 30
trigger1 = p2movetype = I
trigger1 = Random <= 50
value = 230
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 230  && movehit
value = 231
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 231  && movehit
value = 232
[State -1]
type = changestate
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)
triggerall = Ctrl
triggerall = P2BodyDist X <= 50
trigger1 = p2movetype = I
trigger1 = Random <= 50
value = 240
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 240  && movehit
value = 241
[State -1]
type = changestate
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)
triggerall = Ctrl
triggerall = P2BodyDist X <= 30
trigger1 = p2movetype = I
trigger1 = Random <= 50
value = 210
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 210  && movehit
value = 211
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 211  && movehit
value = 212
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 212  && movehit
value = 213







