[Data]
life = 800
attack = 80
defence = 80
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 0
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 1
yscale = 1
ground.back = 11
ground.front = 9
air.back = 12
air.front = 12
height = 30
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 0, -28
mid.pos = 0, -14
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 1.3
walk.back = -1.2
run.fwd  = 4.7, -3.5
run.back = -4.7,-4.0
jump.neu = 0,-7.3
jump.back = -3.2
jump.fwd = 3.1
runjump.back = -3.5,-4.4
runjump.fwd =  3.5,-4.4
airjump.neu = 0,-6.5
airjump.back = -2.7
airjump.fwd = 2.6

[Movement]
airjump.num = 1
airjump.height = 35
yaccel = .44
stand.friction = .85
crouch.friction = .82


[Statedef 180]
type = S
ctrl = 0
velset = 0,0
anim = 0

[State 180]
type = ChangeState
trigger1 = Time = 0 && Matchover
value = ifelse(random<666,181,1183)

[State 180]
type = ChangeState
trigger1 = Time = 0
value = 189

[statedef 181]
type = S
movetype = I
anim = 181

[State 181]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Yeah"
ID = 181
pos = 0,0
postype = LEFT
stateno = 188
keyctrl = 1
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Yeah"
ID = 181
pos = 0,0
postype = RIGHT
stateno = 188
keyctrl = 1
ownpal = 1
ignorehitpause = 1
persistent = 1

[state 181]
type = assertspecial
trigger1 = time <= 240
flag = roundnotover
ignorehitpause = 1
persistent = 1

;Row 1

[State 181]
type = Helper
trigger1 = time = 14
helpertype = normal
name = "Rock"
ID = 181
pos = 80
postype = left
facing = 1
stateno = 187
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 12
helpertype = normal
name = "Rock"
ID = 181
pos = 100
postype = left
facing = 1
stateno = 187
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 116
helpertype = normal
name = "Rock"
ID = 181
pos = 220
postype = left
facing = 1
stateno = 187
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 134
helpertype = normal
name = "Rock"
ID = 181
pos = 240
postype = left
facing = 1
stateno = 187
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

;Row 2

[State 181]
type = Helper
trigger1 = time = 4
helpertype = normal
name = "Rock"
ID = 181
pos = 85
postype = left
facing = 1
stateno = 186
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "Rock"
ID = 181
pos = 95
postype = left
facing = 1
stateno = 186
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 64
helpertype = normal
name = "Rock"
ID = 181
pos = 165
postype = left
facing = 1
stateno = 186
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 72
helpertype = normal
name = "Rock"
ID = 181
pos = 170
postype = left
facing = 1
stateno = 186
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 124
helpertype = normal
name = "Rock"
ID = 181
pos = 220
postype = left
facing = 1
stateno = 186
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 136
helpertype = normal
name = "Rock"
ID = 181
pos = 240
postype = left
facing = 1
stateno = 186
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

;Row 3

[State 181]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "Rock"
ID = 181
pos = 90
postype = left
facing = 1
stateno = 185
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 28
helpertype = normal
name = "Rock"
ID = 181
pos = 115
postype = left
facing = 1
stateno = 185
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 32
helpertype = normal
name = "Rock"
ID = 181
pos = 120
postype = left
facing = 1
stateno = 185
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 40
helpertype = normal
name = "Rock"
ID = 181
pos = 135
postype = left
facing = 1
stateno = 185
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 52
helpertype = normal
name = "Rock"
ID = 181
pos = 145
postype = left
facing = 1
stateno = 185
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 74
helpertype = normal
name = "Rock"
ID = 181
pos = 160
postype = left
facing = 1
stateno = 185
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 92
helpertype = normal
name = "Rock"
ID = 181
pos = 180
postype = left
facing = 1
stateno = 185
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 82
helpertype = normal
name = "Rock"
ID = 181
pos = 190
postype = left
facing = 1
stateno = 185
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 100
helpertype = normal
name = "Rock"
ID = 181
pos = 205
postype = left
facing = 1
stateno = 185
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 104
helpertype = normal
name = "Rock"
ID = 181
pos = 210
postype = left
facing = 1
stateno = 185
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 130
helpertype = normal
name = "Rock"
ID = 181
pos = 220
postype = left
facing = 1
stateno = 185
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 112
helpertype = normal
name = "Rock"
ID = 181
pos = 230
postype = left
facing = 1
stateno = 185
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 138
helpertype = normal
name = "Rock"
ID = 181
pos = 240
postype = left
facing = 1
stateno = 185
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

;Row 4

[State 181]
type = Helper
trigger1 = time = 16
helpertype = normal
name = "Rock"
ID = 181
pos = 90
postype = left
facing = 1
stateno = 184
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 26
helpertype = normal
name = "Rock"
ID = 181
pos = 110
postype = left
facing = 1
stateno = 184
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 24
helpertype = normal
name = "Rock"
ID = 181
pos = 125
postype = left
facing = 1
stateno = 184
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 42
helpertype = normal
name = "Rock"
ID = 181
pos = 135
postype = left
facing = 1
stateno = 184
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 44
helpertype = normal
name = "Rock"
ID = 181
pos = 145
postype = left
facing = 1
stateno = 184
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 62
helpertype = normal
name = "Rock"
ID = 181
pos = 165
postype = left
facing = 1
stateno = 184
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 66
helpertype = normal
name = "Rock"
ID = 181
pos = 170
postype = left
facing = 1
stateno = 184
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 80
helpertype = normal
name = "Rock"
ID = 181
pos = 180
postype = left
facing = 1
stateno = 184
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 90
helpertype = normal
name = "Rock"
ID = 181
pos = 190
postype = left
facing = 1
stateno = 184
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 102
helpertype = normal
name = "Rock"
ID = 181
pos = 200
postype = left
facing = 1
stateno = 184
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 126
helpertype = normal
name = "Rock"
ID = 181
pos = 220
postype = left
facing = 1
stateno = 184
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 114
helpertype = normal
name = "Rock"
ID = 181
pos = 225
postype = left
facing = 1
stateno = 184
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 140
helpertype = normal
name = "Rock"
ID = 181
pos = 240
postype = left
facing = 1
stateno = 184
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

;Row 5

[State 181]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "Rock"
ID = 181
pos = 90
postype = left
facing = 1
stateno = 183
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 34
helpertype = normal
name = "Rock"
ID = 181
pos = 110
postype = left
facing = 1
stateno = 183
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "Rock"
ID = 181
pos = 125
postype = left
facing = 1
stateno = 183
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 48
helpertype = normal
name = "Rock"
ID = 181
pos = 135
postype = left
facing = 1
stateno = 183
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 50
helpertype = normal
name = "Rock"
ID = 181
pos = 145
postype = left
facing = 1
stateno = 183
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 76
helpertype = normal
name = "Rock"
ID = 181
pos = 170
postype = left
facing = 1
stateno = 183
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 88
helpertype = normal
name = "Rock"
ID = 181
pos = 180
postype = left
facing = 1
stateno = 183
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 94
helpertype = normal
name = "Rock"
ID = 181
pos = 190
postype = left
facing = 1
stateno = 183
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 108
helpertype = normal
name = "Rock"
ID = 181
pos = 200
postype = left
facing = 1
stateno = 183
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 118
helpertype = normal
name = "Rock"
ID = 181
pos = 220
postype = left
facing = 1
stateno = 183
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 120
helpertype = normal
name = "Rock"
ID = 181
pos = 225
postype = left
facing = 1
stateno = 183
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

;Row 6

[State 181]
type = Helper
trigger1 = time = 2
helpertype = normal
name = "Rock"
ID = 181
pos = 90
postype = left
facing = 1
stateno = 182
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "Rock"
ID = 181
pos = 115
postype = left
facing = 1
stateno = 182
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 22
helpertype = normal
name = "Rock"
ID = 181
pos = 120
postype = left
facing = 1
stateno = 182
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 38
helpertype = normal
name = "Rock"
ID = 181
pos = 140
postype = left
facing = 1
stateno = 182
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 46
helpertype = normal
name = "Rock"
ID = 181
pos = 145
postype = left
facing = 1
stateno = 182
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 68
helpertype = normal
name = "Rock"
ID = 181
pos = 160
postype = left
facing = 1
stateno = 182
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 70
helpertype = normal
name = "Rock"
ID = 181
pos = 165
postype = left
facing = 1
stateno = 182
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 84
helpertype = normal
name = "Rock"
ID = 181
pos = 185
postype = left
facing = 1
stateno = 182
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 86
helpertype = normal
name = "Rock"
ID = 181
pos = 190
postype = left
facing = 1
stateno = 182
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 106
helpertype = normal
name = "Rock"
ID = 181
pos = 205
postype = left
facing = 1
stateno = 182
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 98
helpertype = normal
name = "Rock"
ID = 181
pos = 210
postype = left
facing = 1
stateno = 182
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 128
helpertype = normal
name = "Rock"
ID = 181
pos = 220
postype = left
facing = 1
stateno = 182
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 122
helpertype = normal
name = "Rock"
ID = 181
pos = 230
postype = left
facing = 1
stateno = 182
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 181]
type = Helper
trigger1 = time = 144
helpertype = normal
name = "Rock"
ID = 181
pos = 240
postype = left
facing = 1
stateno = 182
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[Statedef 182]
movetype= I
sprpriority = 4

[State 182]
type = PlaySnd
trigger1 = time = 10
value = 180,1
ignorehitpause = 1
persistent = 1
volume = -240

[state 182, nothitby]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1
time = 1

[State 182]
type = VelSet
trigger1 = time = 0
x = 0
y = -8.5
ignorehitpause = 1
persistent = 1

[State 182]
type = VelSet
trigger1 = time = 10
x = 0
y = 0
ignorehitpause = 1
persistent = 1

[State 182]
type = VarRandom
trigger1 = time = 0
v = 0
range = 0,2
ignorehitpause = 1
persistent = 1

[State 182]
type = ChangeAnim
trigger1 = time = 0
value = 8000 + var(0)
ignorehitpause = 1
persistent = 1

[State 182]
type = Explod
trigger1 = time = 10
anim = anim
sprpriority = 4
ownpal = 1
persistent = 1
shadow = -1

[State 182]
type = DestroySelf
trigger1 = time = 10
persistent = 1

[Statedef 183]
movetype= I
sprpriority = 4

[State 183]
type = PlaySnd
trigger1 = time = 10
value = 180,1
ignorehitpause = 1
persistent = 1
volume = -240

[state 183, nothitby]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1
time = 1

[State 183]
type = VelSet
trigger1 = time = 0
x = 0
y = -9
ignorehitpause = 1
persistent = 1

[State 183]
type = VelSet
trigger1 = time = 10
x = 0
y = 0
ignorehitpause = 1
persistent = 1

[State 183]
type = VarRandom
trigger1 = time = 0
v = 0
range = 0,2
ignorehitpause = 1
persistent = 1

[State 183]
type = ChangeAnim
trigger1 = time = 0
value = 8000 + var(0)
ignorehitpause = 1
persistent = 1

[State 183]
type = Explod
trigger1 = time = 10
anim = anim
sprpriority = 4
ownpal = 1
persistent = 1
shadow = -1

[State 183]
type = DestroySelf
trigger1 = time = 10
persistent = 1

[Statedef 184]
movetype= I
sprpriority = 4

[State 184]
type = PlaySnd
trigger1 = time = 10
value = 180,1
ignorehitpause = 1
persistent = 1
volume = -240

[state 184, nothitby]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1
time = 1

[State 184]
type = VelSet
trigger1 = time = 0
x = 0
y = -9.5
ignorehitpause = 1
persistent = 1

[State 184]
type = VelSet
trigger1 = time = 10
x = 0
y = 0
ignorehitpause = 1
persistent = 1

[State 184]
type = VarRandom
trigger1 = time = 0
v = 0
range = 0,2
ignorehitpause = 1
persistent = 1

[State 184]
type = ChangeAnim
trigger1 = time = 0
value = 8000 + var(0)
ignorehitpause = 1
persistent = 1

[State 184]
type = Explod
trigger1 = time = 10
anim = anim
sprpriority = 4
ownpal = 1
persistent = 1
shadow = -1

[State 184]
type = DestroySelf
trigger1 = time = 10
persistent = 1

[Statedef 185]
movetype= I
sprpriority = 4

[State 185]
type = PlaySnd
trigger1 = time = 10
value = 180,1
ignorehitpause = 1
persistent = 1
volume = -240

[state 185, nothitby]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1
time = 1

[State 185]
type = VelSet
trigger1 = time = 0
x = 0
y = -10
ignorehitpause = 1
persistent = 1

[State 185]
type = VelSet
trigger1 = time = 10
x = 0
y = 0
ignorehitpause = 1
persistent = 1

[State 185]
type = VarRandom
trigger1 = time = 0
v = 0
range = 0,2
ignorehitpause = 1
persistent = 1

[State 185]
type = ChangeAnim
trigger1 = time = 0
value = 8000 + var(0)
ignorehitpause = 1
persistent = 1

[State 185]
type = Explod
trigger1 = time = 10
anim = anim
sprpriority = 4
ownpal = 1
persistent = 1
shadow = -1

[State 185]
type = DestroySelf
trigger1 = time = 10
persistent = 1

[Statedef 186]
movetype= I
sprpriority = 4

[State 186]
type = PlaySnd
trigger1 = time = 10
value = 180,1
ignorehitpause = 1
persistent = 1
volume = -240

[state 186, nothitby]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1
time = 1

[State 186]
type = VelSet
trigger1 = time = 0
x = 0
y = -10.5
ignorehitpause = 1
persistent = 1

[State 186]
type = VelSet
trigger1 = time = 10
x = 0
y = 0
ignorehitpause = 1
persistent = 1

[State 186]
type = VarRandom
trigger1 = time = 0
v = 0
range = 0,2
ignorehitpause = 1
persistent = 1

[State 186]
type = ChangeAnim
trigger1 = time = 0
value = 8000 + var(0)
ignorehitpause = 1
persistent = 1

[State 186]
type = Explod
trigger1 = time = 10
anim = anim
sprpriority = 4
ownpal = 1
persistent = 1
shadow = -1

[State 186]
type = DestroySelf
trigger1 = time = 10
persistent = 1

[Statedef 187]
movetype= I
sprpriority = 4

[State 187]
type = PlaySnd
trigger1 = time = 10
value = 180,1
ignorehitpause = 1
persistent = 1
volume = -240

[state 187, nothitby]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1
time = 1

[State 187]
type = VelSet
trigger1 = time = 0
x = 0
y = -11
ignorehitpause = 1
persistent = 1

[State 187]
type = VelSet
trigger1 = time = 10
x = 0
y = 0
ignorehitpause = 1
persistent = 1

[State 187]
type = VarRandom
trigger1 = time = 0
v = 0
range = 0,2
ignorehitpause = 1
persistent = 1

[State 187]
type = ChangeAnim
trigger1 = time = 0
value = 8000 + var(0)
ignorehitpause = 1
persistent = 1

[State 187]
type = Explod
trigger1 = time = 10
anim = anim
sprpriority = 4
ownpal = 1
persistent = 1
shadow = -1

[State 187]
type = DestroySelf
trigger1 = time = 10
persistent = 1

[Statedef 188]
type = S
ctrl = 0
anim = 1

[State 188]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1
persistent = 1

[State 188]
type = BindToTarget
trigger1 = 1
time = 1
pos = 0,0
ignorehitpause = 1
persistent = 1

[State 188]
type = DestroySelf
trigger1 = (parent, stateno) != 181
ignorehitpause = 1
persistent = 1

[Statedef 170]
type = S
ctrl = 0
velset = 0,0
anim = 0

[State 170]
type=ChangeAnim
trigger1=time=5
value=182

[State 170]
type=VarAdd
trigger1=anim = 182
var(27)=1

[State 170]
type=Helper
trigger1=var(27)>=15&&var(28)<=100
helpertype=normal
name="Urin"
ID=170
pos=4,-7
postype=p1
stateno=171
keyctrl=0
ownpal=1
size.xscale=.01
size.yscale=.01

[State 170]
type=Explod
trigger1=anim=182&&var(28)>0
anim=10182
ID=170
pos=20,1
scale=0.0036+.0012*var(28),0.0003+0.0003*var(28)
sprpriority=2
ownpal=1
removetime = 1

[State 170]
type=AssertSpecial
trigger1=time <= 240
flag=roundnotover

[Statedef 171]
ctrl = 0
anim = 10182
sprpriority=3

[State 171]
type = AfterImage
trigger1 = time = 0
length = 15
time = -1
TimeGap = 1
FrameGap = 1
Trans = Add
palbright = 20,20,10
palcontrast = 190,220,100
palpostbright = 0,0,0
paladd = 20,20,5
palmul = .6,.6,.5

[State 171]
type=VelSet
trigger1=time = 0
x=2.8+random/2500
y=-.2

[State 171]
type=Gravity
trigger1=1

[State 172]
type=ParentVarAdd
trigger1=pos y >= 0
persistent = 0
var(28)=1

[State 172]
type=DestroySelf
trigger1=pos y >= 0

[Statedef 189]
type = S
ctrl = 0
velset = 0,0
anim = 189

[State 189]
type = PlaySnd
trigger1 = time = 3 || time = 17
value = 5,0
ignorehitpause = 1
persistent = 1

[State 189]
type = PlaySnd
trigger1 = time = 33
value = 5,1
ignorehitpause = 1
persistent = 1

[State 189]
type = AssertSpecial
trigger1 = time <= 60
flag = roundnotover

[State 189]
type = ChangeAnim
trigger1 = anim = 189 && animtime = 0
value = 0

[Statedef 1183]
type = C
ctrl = 0
velset = 0,0
anim = 183

[State 189]
type = PlaySnd
trigger1 = time = 1
value = 600,4
ignorehitpause = 1
persistent = 1

[State 1183]
type = AssertSpecial
trigger1 = time <= 165
flag = roundnotover

[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 180, 1]
type = ChangeState
trigger1 = Random >= 500
value = 191

[State 180, 1]
type = ChangeState
trigger1 = Random >= 400
value = 193

[State 180, 1]
type = ChangeState
trigger1 = Random >= 300
value = 194

[State 180, 1]
type = ChangeState
trigger1 = Random >= 200
value = 195

[Statedef 191]
type    = S
movetype = I
physics = S
ctrl = 0
anim = 191

[State 0, ]
type = PlaySnd
trigger1 = Time = 180
value = 500,9
volume = 255

[State 191]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "rock"
ID = 191
pos = 20,-20
postype = p1
stateno = 192
keyctrl = 0
ownpal = 1

[State 191]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "rock"
ID = 191
pos = 30,0
postype = p1
stateno = 192
keyctrl = 0
ownpal = 1

[State 191]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "rock"
ID = 191
pos = 10,0
postype = p1
stateno = 192
keyctrl = 0
ownpal = 1

[State 191]
type = AssertSpecial
trigger1 = time < 200
flag = Intro

[State 191]
type = ChangeState
trigger1 = time = 200
value = 0
ctrl = 0

[Statedef 192]
sprpriority = 4

[State 192]
type = NotHitBy
trigger1 = 1
value = SCA

[State 192]
type = VarRandom
trigger1 = time = 0
v = 0
range = 0,2
ignorehitpause = 1
persistent = 1

[State 192]
type = ChangeAnim
trigger1 = 1
value = 8000 + var(0)
ignorehitpause = 1
persistent = 1

[State 192, x1]
type = VarSet
trigger1 = 1
v = 1
value = (parent, pos x)

[State 192, x2]
type = VarSet
trigger1 = time = 0
fv = 1
value = ((parent, pos x)-pos x)

[State 192, y]
type = VarSet
trigger1 = time = 0
v = 2
value = (floor(parent, pos y)+floor(pos y))

[State 192]
type = VarSet
trigger1 = var(2) = -20 && time = 0
fv = 4
value = 0.5*Pi

[State 192]
type = VarSet
trigger1 = fvar(1) = -10
fv = 4
value = 1.16*Pi

[State 192]
type = VarSet
trigger1 = fvar(1) = 10
fv = 4
value = 1.83*Pi

[State 192, Position]
type = PosSet
trigger1 = time%7 = 1 && time < 187
x = floor((15*(sin(fvar(4)+time/7))+var(1)))
y = floor((15*(cos(fvar(4)+time/7))-20))
ignorehitpause = 1

[state 192]
type = ScreenBound
value = 0
trigger1 = 1

[State 192]
type = ChangeState
trigger1 = pos y >= 0 && time >= 187
value = 1002
ignorehitpause = 1

[State 192]
type = Gravity
trigger1 = time >= 187

[Statedef 193]
type    = S
movetype = I
physics = S
ctrl = 0
anim = 193

[State 0, ]
type = PlaySnd
trigger1 = Time = 1
value = 500,8
volume = 255

[State 193]
type = velset
trigger1 = (pos y < 0 || time = 0) && time <= 22
x = 5.1

[State 193]
type = PosAdd
trigger1 = time = 0
x = -140
y = -30

[State 193]
type = Explod
trigger1 = time = 0
anim = 1193
ID = 193
pos = 0,0
bindtime = -1
removetime = 20
sprpriority = 3
ownpal = 1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)

[State 193]
type = ChangeAnim
trigger1 = time = 25
value = 40

[State 193]
type = Gravity
trigger1 = time >= 25

[State 193]
type = AssertSpecial
trigger1 = time < 25
flag = Intro

[state 193]
type = ScreenBound
value = 0
trigger1 = 1

[State 193]
type = Posset
trigger1 = pos y > 0 && time > 0
y = 0

[State 193]
type = ChangeState
trigger1 = pos y >= 0 && time > 0
value = 0
ctrl = 0

;---------------------------------------------------
; Intro nueva
[Statedef 194]
type = S
ctrl = 0
anim = 194
velset = 0,0

[State 0, ]
type = PlaySnd
trigger1 = Time = 110
value = 400,3
volume = 255

[State 0, ]
type = PlaySnd
trigger1 = Time = 90
value = 500,6
volume = 255

[State 0, ]
type = PlaySnd
trigger1 = Time = 1
value = 500,7
volume = 255

[State 0, StopSnd]
type = StopSnd
trigger1 = (command = "a") || (command = "b")  || (command = "c")  || (command = "x")  || (command = "y")  || (command = "z")|| (life = 0) || stateno != 194;(Time = 90)
trigger1 = time >= 0
channel = -1
value = 0; ir a stand
ctrl = 1

;[State 0, ]
;type = Explod
;trigger1 = time = 0
;anim = 194
;ID = 194
;pos = 7,0
;postype = p1
;sprpriority = 5
;ownpal = 1
;ignorehitpause = 1

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

; Intro recom
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0

[State 0, ]
type = Explod
trigger1 = time = 0
anim = 196
ID = 196
pos = -70,0
postype = p1
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State 0, ]
type = PlaySnd
trigger1 = Time = 1
value = 600,1
volume = 255

[State 0, StopSnd]
type = StopSnd
trigger1 = (command = "a") || (command = "b")  || (command = "c")  || (command = "x")  || (command = "y")  || (command = "z")|| (life = 0) || stateno != 195;(Time = 90)
trigger1 = time >= 0
channel = -1
value = 0; ir a stand
ctrl = 1

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0


;-----------------------------------------------------
; state decider
[Statedef 221]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Random > 500
value = 224

[State 180, 1]
type = ChangeState
trigger1 = Random > 400
value = 223

[State 180, 1]
type = ChangeState
trigger1 = Random > 300
value = 222

;---------------------------------------------------------------------------
;Dialogo
[Statedef 222]
type 			= S
movetype		= I
physics		= N
anim			= 222
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2700]
type = superpause
trigger1 = time = 0
time = 160
movetime = 160
anim = -1
darken = 0

[State 195:		PlaySnd]
type			= PlaySnd
trigger1		= Time = 2
value			= s500,0
channel		= 0


[State 195:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;Dialogo
[Statedef 223]
type 			= S
movetype		= I
physics		= N
anim			= 222
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2700]
type = superpause
trigger1 = time = 0
time = 160
movetime = 160
anim = -1
darken = 0

[State 195:		PlaySnd]
type			= PlaySnd
trigger1		= Time = 2
value			= s500,1
channel		= 0


[State 195:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;Dialogo
[Statedef 224]
type 			= S
movetype		= I
physics		= N
anim			= 222
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2700]
type = superpause
trigger1 = time = 0
time = 160
movetime = 160
anim = -1
darken = 0

[State 195:		PlaySnd]
type			= PlaySnd
trigger1		= Time = 2
value			= s500,2
channel		= 0


[State 195:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;-------------------------------------------------------------------------

[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 200
poweradd = 20
sprpriority = 2

[State 200]
type = PlaySnd
trigger1 = time = 2
value = 5,0
ignorehitpause = 1
persistent = 1

[State 200]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 15, 3
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = S6050
guard.sparkno = S6100
sparkxy = ceil(-10*const(size.xscale)), ceil(-24*const(size.yscale))
hitsound = S0, 0
guardsound = S3, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -1.7
airguard.velocity = -.9,-.4
air.type = High
air.velocity = -.7,-1.5
air.hittime = 12

[State 200]
type = Helper
trigger1 = movehit && numtarget
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(10*const(size.xscale)), ceil(-24*const(size.yscale))
postype	= p2
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1900

[Statedef 213]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 25
ctrl = 0
anim = 213
sprpriority = 2

[State 210]
type = PlaySnd
trigger1 = time = 4
value = 5,1
ignorehitpause = 1
persistent = 1


[State 300, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage    = 18,5
guardflag = HA
priority = 3
pausetime = 12,12
sparkno = S6050
guard.sparkno = S6100
sparkxy = ceil(-10*const(size.xscale)),ceil(-15*const(size.yscale))
hitsound   = S0,0
guardsound = S3,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2
air.velocity = -.6,-1.3

[State 300]
type = Helper
trigger1 = movehit && numtarget
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(10*const(size.xscale)),ceil((-15*const(size.yscale)) - p2dist y)
postype	= p2
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1900

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1


[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 65
ctrl = 0
velset = 0,0
anim = 210
sprpriority = 2

[State 210]
type = PlaySnd
trigger1 = time = 7
value = 5,1
ignorehitpause = 1
persistent = 1

[State 210]
type = VelSet
trigger1 = animelem = 2
x = 3
ignorehitpause = 1

[State 210]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 30,5
guardflag = MA
pausetime = 12,12
sparkno = S6000
guard.sparkno = S6100
sparkxy = ceil(-10*const(size.xscale)),ceil(-19*const(size.yscale))
hitsound   = S0,1
guardsound = S3,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -2.7
air.velocity = -1.2,-2

[State 210]
type = Helper
trigger1 = movehit && numtarget
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(10*const(size.xscale)),ceil(-19*const(size.yscale))
postype	= p2
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1900

[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 220
poweradd = 20
sprpriority = 2

[State 200]
type = PlaySnd
trigger1 = time = 2
value = 5,0
ignorehitpause = 1
persistent = 1

[State 240]
type = VelSet
trigger1 = animelem = 1
x = 4.5
ignorehitpause = 1

[State 200]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 25, 5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = S6050
guard.sparkno = S6100
sparkxy = ceil(-10*const(size.xscale)), ceil(-41*const(size.yscale))
hitsound = S0, 0
guardsound = S3, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -3.7, -5
airguard.velocity = -1.9,-2.4
air.type = High
air.velocity = -2.7,-5.5
air.hittime = 12
fall = 1

[State 200]
type = Helper
trigger1 = movehit && numtarget
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(10*const(size.xscale)), ceil(-21*const(size.yscale))
postype	= p2
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1900

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 22
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2

[State 230]
type = PlaySnd
trigger1 = time = 4
value = 5,2
ignorehitpause = 1
persistent = 1

[State 230]
type = VelSet
trigger1 = animelem = 2
x = 1.5
ignorehitpause = 1

[State 230]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 230, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 16,3
hitflag = MAFD
guardflag = MA
pausetime = 12,12
sparkno = S6050
guard.sparkno = S6100
sparkxy = ceil(-10*const(size.xscale)),ceil(-9*const(size.yscale))
hitsound   = S0,2
guardsound = S3,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 11
ground.velocity = -2
air.velocity = -1.2,-1.7

[State 230]
type = Helper
trigger1 = movehit && numtarget
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(10*const(size.xscale)),ceil(-9*const(size.yscale))
postype	= p2
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1900

[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 45
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2

[State 240]
type = PlaySnd
trigger1 = time = 9
value = 5,3
ignorehitpause = 1
persistent = 1

[State 240]
type = VelSet
trigger1 = animelem = 2
x = 4.5
ignorehitpause = 1

[State 240]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 240, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 30,5
guardflag = MA
pausetime = 12,12
sparkno = S6000
guard.sparkno = S6100
sparkxy = ceil(-10*const(size.xscale)),ceil(-22*const(size.yscale))
hitsound   = S0,3
guardsound = S3,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3
air.velocity = -1.1,-1.6

[State 230]
type = Helper
trigger1 = movehit && numtarget
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(10*const(size.xscale)),ceil(-22*const(size.yscale))
postype	= p2
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 240, 3]
type = PosAdd
trigger1 = AnimElem = 7
x = 12

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1900

[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 55
ctrl = 0
velset = 0,0
anim = 250
sprpriority = 2

[State 240]
type = PlaySnd
trigger1 = time = 5
value = 5,3
ignorehitpause = 1
persistent = 1

[State 240]
type = VelSet
trigger1 = animelem = 2
x = 8.5
ignorehitpause = 1

[State 240]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 240, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 30,5
guardflag = MA
pausetime = 12,12
sparkno = S6000
guard.sparkno = S6100
sparkxy = ceil(-10*const(size.xscale)),ceil(-22*const(size.yscale))
hitsound   = S0,3
guardsound = S3,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8
air.velocity = -2.1,-1.6

[State 230]
type = Helper
trigger1 = movehit && numtarget
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(10*const(size.xscale)),ceil(-22*const(size.yscale))
postype	= p2
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 240, 3]
type = PosAdd
trigger1 = AnimElem = 7
x = 12

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1900

[Statedef 300]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 11
ctrl = 0
anim = 300
sprpriority = 2

[State 300]
type = PlaySnd
trigger1 = time = 6
value = 5,0
ignorehitpause = 1
persistent = 1

[State 300, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage    = 18
guardflag = HA
priority = 3
pausetime = 12,12
sparkno = S6050
guard.sparkno = S6100
sparkxy = ceil(-10*const(size.xscale)),ceil(-20*const(size.yscale))
hitsound   = S0,0
guardsound = S3,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2
air.velocity = -.6,-1.3

[State 300]
type = Helper
trigger1 = movehit && numtarget
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(10*const(size.xscale)),ceil((-20*const(size.yscale)) - p2dist y)
postype	= p2
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[Statedef 310]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 65
ctrl = 0
anim = 310
sprpriority = 2

[State 310]
type = PlaySnd
trigger1 = time = 10
value = 5,1
ignorehitpause = 1
persistent = 1

[State 310, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage = 35
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = S6000
guard.sparkno = S6100
sparkxy = ceil(-10*const(size.xscale)),ceil(-2*const(size.yscale))
hitsound   = S0,1
guardsound = S3,0
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2.5
air.velocity = -1.5,4.5
air.fall = 1
fall.damage = 5

[State 310]
type = Helper
trigger1 = movehit && numtarget
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(10*const(size.xscale)),ceil((-2*const(size.yscale)) - p2dist y)
postype	= p2
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[Statedef 233]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 22
ctrl = 0
anim = 233
sprpriority = 2

[State 230]
type = PlaySnd
trigger1 = time = 3
value = 5,2
ignorehitpause = 1
persistent = 1

[State 300, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage    = 18,5
guardflag = HA
priority = 3
pausetime = 12,12
sparkno = S6050
guard.sparkno = S6100
sparkxy = ceil(-10*const(size.xscale)),ceil(-13*const(size.yscale))
hitsound   = S0,0
guardsound = S3,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2
air.velocity = -.6,-1.3

[State 300]
type = Helper
trigger1 = movehit && numtarget
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(10*const(size.xscale)),ceil((-13*const(size.yscale)) - p2dist y)
postype	= p2
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0


[Statedef 330]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 20
ctrl = 0
anim = 330
sprpriority = 2

[State 330]
type = PlaySnd
trigger1 = time = 7
value = 5,2
ignorehitpause = 1
persistent = 1

[State 330, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage = 16
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = S6050
guard.sparkno = S6100
sparkxy = ceil(-5*const(size.xscale)),ceil(-20*const(size.yscale))
hitsound   = S0,2
guardsound = S3,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -2
air.velocity = -1,-1.5

[State 330]
type = Helper
trigger1 = movehit && numtarget
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(15*const(size.xscale)),ceil((-20*const(size.yscale)) - p2dist y)
postype	= p2
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[Statedef 340]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 65
ctrl = 0
anim = 340
sprpriority = 2

[State 340]
type = PlaySnd
trigger1 = time = 9
value = 5,3
ignorehitpause = 1
persistent = 1

[State 340, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage    = 30
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = S6000
guard.sparkno = S6100
sparkxy = ceil(-10*const(size.xscale)),ceil(2*const(size.xscale))
hitsound   = S0,3
guardsound = S3,0
animtype = Med
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -2.5
air.velocity = -1.5,-2

[State 340]
type = Helper
trigger1 = movehit && numtarget
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(10*const(size.xscale)),ceil((2*const(size.yscale)) - p2dist y)
postype	= p2
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[Statedef 400]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 400
sprpriority = 2
velset = 0,0

[State 400]
type = PlaySnd
trigger1 = time = 0
value = 400,0
volume=0
channel=-1
ignorehitpause=1
persistent=0

[State 400]
type = Explod
trigger1 = animelem = 2
anim = 3820
ID = 401
pos = 0,0
bindtime = -1
removetime = -2
scale = 0.6*const(size.xscale),0.4*const(size.yscale)
sprpriority = 3
ownpal=1
removeongethit=1
ignorehitpause=1
persistent=0

[State 400]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 2
anim = 3601
ID = 400
pos = 0,0
bindtime = 1
removetime = -2
scale = 0.5*const(size.xscale),0.5*const(size.yscale)
sprpriority = 4
ownpal=1
removeongethit=0
ignorehitpause=1
persistent=0

[State 400]
type = ChangeState
trigger1 = time = 13
value = 401
ignorehitpause=1
persistent=0

[State 400]
type = ChangeState
trigger1 = command!="holda" || command!="holdx"
value = 0
ctrl = 1
ignorehitpause = 1
persistent = 1

[Statedef 401]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 401
sprpriority = 2


[State 1700, VelSetY]
Type = VelSet
Trigger1 = Time = 0
y = 0

[State 1701, VarSet1]
type = VarSet
Triggerall = Pos Y < 0
Trigger1 = Var(2) = 2
Trigger1 = Vel Y >= 2.0
Trigger2 = Time = 0
v = 2
value = 1

[State 1701, VarSet2]
type = VarSet
Trigger1 = Pos Y < 0
Trigger1 = Var(2) = 1
Trigger1 = Vel Y <= -2.0
v = 2
value = 2

[State 1701, FloatUp]
type = VelAdd
Trigger1 = Pos Y < 0
Trigger1 = Var(2) = 1
y = -0.1

[State 1701, FloatDown]
type = VelAdd
Trigger1 = Pos Y < 0
Trigger1 = Var(2) = 2
y = 0.1

[State 401]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rock Maker"
ID = 402
pos = 0,0
stateno = 402
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 401]
type = Helper
trigger1 = time = 600
helpertype = normal
name = "Lightning Maker"
ID = 407
pos = 0,0
stateno = 407
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 401]
type = VarRandom
trigger1 = 1
v = 22
range = -2,4
ignorehitpause = 1
persistent = 1

[State 401]
type = VarRandom
trigger1 = time < 600
v = 23
range = ceil(-200*const(size.xscale)),ceil(200*const(size.xscale))
ignorehitpause = 1
persistent = 1

[State 401]
type = VarRandom
trigger1 = time < 600
v = 24
range = ceil(-500*const(size.yscale)),ceil(-350*const(size.yscale))
ignorehitpause = 1
persistent = 1

[State 401]
type = VarRandom
trigger1 = time >= 600
v = 23
range = ceil(-500*const(size.xscale)),ceil(500*const(size.xscale))
ignorehitpause = 1
persistent = 1

[State 401]
type = VarRandom
trigger1 = time >= 600
v = 24
range = ceil(-750*const(size.yscale)),ceil(-450*const(size.yscale))
ignorehitpause = 1
persistent = 1

[State 401]
type = VarRandom
trigger1 = 1
v = 25
range = ceil(-24*const(size.xscale)),ceil(24*const(size.xscale))
ignorehitpause = 1
persistent = 1

[State 401]
type = VarRandom
trigger1 = 1
v = 26
range = ceil(-12*const(size.yscale)),4
ignorehitpause = 1
persistent = 1

[State 401]
type = Explod
trigger1 = time%4 = 0
anim = 6200
ID = 6200
pos = var(25),ceil(var(26))
postype = p1
bindtime = 1
vel = var(23)/200,var(24)/200
removetime = 18
scale = 1, 1
sprpriority = var(22)
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 401]
type = Explod
trigger1 = numexplod(402) = 0
anim = 3825
ID = 402
pos = 0,0
bindtime = -1
removetime = -1
scale = 0.45*const(size.xscale),0.43*const(size.yscale)
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 401]
type = Explod
triggerall = pos y = 0
trigger1 = ifelse(time<600,(time%28 = 0),(time%21 = 0))
anim = 3810
ID = 403
pos = 0,0
bindtime = 1
removetime = -2
scale = 0.55*const(size.xscale),0.4*const(size.yscale)
sprpriority = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 401]
type = PlaySnd
trigger1 = ifelse(time<600,(time%28 = 0),(time%21 = 0))
value = 400,1
volume=0
channel=-1
ignorehitpause=1
persistent=1

[State 401]
type = PowerAdd
trigger1 = 1
value = 3
ignorehitpause = 1
persistent = 1

[State 401]
type = ChangeState
trigger1 = command!="holda" || command!="holdx"
value = 0
ctrl = 1
ignorehitpause = 1
persistent = 1

[Statedef 402]
movetype= I
ctrl = 0
anim = 1

[State 402]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,0
ignorehitpause = 1
persistent = 1

[State 402]
type = DestroySelf
trigger1 = parent, stateno != 401 || parent, movetype = H
ignorehitpause = 1
persistent = 1

[State 402]
type = VarRandom
trigger1 = 1
v = 0
range = ceil(-25*(parent, const(size.xscale))),ceil(-15*(parent, const(size.xscale)))
ignorehitpause = 1
persistent = 1

[State 402]
type = VarRandom
trigger1 = 1
v = 1
range = ceil(-15*(parent, const(size.xscale))),ceil(-5*(parent, const(size.xscale)))
ignorehitpause = 1
persistent = 1

[State 402]
type = VarRandom
trigger1 = 1
v = 2
range = ceil(-5*(parent, const(size.xscale))),ceil(5*(parent, const(size.xscale)))
ignorehitpause = 1
persistent = 1

[State 402]
type = VarRandom
trigger1 = 1
v = 3
range = ceil(5*(parent, const(size.xscale))),ceil(15*(parent, const(size.xscale)))
ignorehitpause = 1
persistent = 1

[State 402]
type = VarRandom
trigger1 = 1
v = 4
range = ceil(15*(parent, const(size.xscale))),ceil(25*(parent, const(size.xscale)))
ignorehitpause = 1
persistent = 1

[State 402]
type = VarRandom
trigger1 = 1
v = 5
range = 0,4
ignorehitpause = 1
persistent = 1

[State 402]
type = Helper
trigger1 = numhelper(403)=0&&random%56=0&&time>90&&(parent, stateno = 401)&&var(5)=0
helpertype = normal
name = "rock1"
ID = 403
pos = var(0),-1
stateno = 403
ownpal = 1
size.xscale = .3
size.yscale = .3
persistent = 1

[State 402]
type = Helper
trigger1 = numhelper(404)=0&&random%56=0&&time>80&&(parent, stateno = 401)&&var(5)=1
helpertype = normal
name = "rock2"
ID = 404
pos = var(1),-1
stateno = 403
ownpal = 1
size.xscale = .3
size.yscale = .3
persistent = 1

[State 402]
type = Helper
trigger1 = numhelper(405)=0&&random%56=0&&time>75&&(parent, stateno = 401)&&var(5)=2
helpertype = normal
name = "rock3"
ID = 405
pos = var(2),-1
stateno = 403
ownpal = 1
size.xscale = .3
size.yscale = .3
persistent = 1

[State 402]
type = Helper
trigger1 = numhelper(406)=0&&random%56=0&&time>80&&(parent, stateno = 401)&&var(5)=3
helpertype = normal
name = "rock4"
ID = 406
pos = var(3),-1
stateno = 403
ownpal = 1
size.xscale = .3
size.yscale = .3
persistent = 1

[State 402]
type = Helper
trigger1 = numhelper(407)=0&&random%56=0&&time>90&&(parent, stateno = 401)&&var(5)=4
helpertype = normal
name = "rock4"
ID = 407
pos = var(4),-1
stateno = 403
ownpal = 1
size.xscale = .3
size.yscale = .3
persistent = 1

[Statedef 403]
movetype = I
ctrl = 0
sprpriority = 3

[State 403]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1
persistent = 1

[State 403]
type = VarRandom
trigger1 = 1
v = 0
range = 0,2
ignorehitpause = 1
persistent = 1

[State 403]
type = ChangeAnim
trigger1 = time = 0
value = 8000 + var(0)
ignorehitpause = 1
persistent = 1

[State 403]
type = VarRandom
trigger1 = 1
v = 2
range = 100,115
ignorehitpause = 1
persistent = 0

[State 403]
type = VelSet
trigger1 = time = 0
y = -var(2)/100
ignorehitpause = 1
persistent = 1

[State 403]
type = VelAdd
trigger1 = time > 4
y = 0.1
ignorehitpause = 1
persistent = 1

[State 403]
type = DestroySelf
trigger1 = pos y >= 1 && time > 0
ignorehitpause = 1
persistent = 1

[State 403]
type = VelSet
trigger1 = pos y >= 1 && time > 0
y = 0
ignorehitpause = 1
persistent = 1

[State 403]
type = PosSet
trigger1 = pos y >= 1 && time > 0
y = 0
ignorehitpause = 1
persistent = 1

[Statedef 407]
movetype= I
ctrl = 0
anim = 1

[State 407]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,0
ignorehitpause = 1
persistent = 1

[State 407]
type = DestroySelf
trigger1 = parent, stateno != 401 || parent, movetype = H
ignorehitpause = 1
persistent = 1

[State 407]
type = Helper
trigger1 = time <= 100 && random%50=0 && numhelper(408) < 4
helpertype = normal
name = "Charge Zzmm"
ID = 408
pos = 0,0
facing = 1
stateno = 408
ownpal = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = (parent, const(size.xscale))*0.55
size.yscale = (parent, const(size.yscale))*0.55

[State 407]
type = Helper
trigger1 = time > 100 && time <= 200 && random%33=0 && numhelper(408) < 4
helpertype = normal
name = "Charge Zzmm"
ID = 408
pos = 0,0
facing = 1
stateno = 408
ownpal = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = (parent, const(size.xscale))*0.55
size.yscale = (parent, const(size.yscale))*0.55

[State 407]
type = Helper
trigger1 = time > 200 && time <= 300 && random%20=0 && numhelper(408) < 4
helpertype = normal
name = "Charge Zzmm"
ID = 408
pos = 0,0
facing = 1
stateno = 408
ownpal = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = (parent, const(size.xscale))*0.55
size.yscale = (parent, const(size.yscale))*0.55

[State 407]
type = Helper
trigger1 = time > 300 && random%12=0 && numhelper(408) < 4
helpertype = normal
name = "Charge Zzmm"
ID = 408
pos = 0,0
facing = 1
stateno = 408
ownpal = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = (parent, const(size.xscale))*0.55
size.yscale = (parent, const(size.yscale))*0.55

[Statedef 408]
movetype= I
juggle  = 2
sprpriority = 0
anim = 1

[State 408]
type = AfterImage
trigger1 = time = 0
time = 7
length = 3
palcolor = 256
palinvertall = 0
palbright = 40,30,40
palcontrast = 180,55,180
palpostbright = 0,0,0
paladd = 0,0,0
palmul = .8,.3,.8
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 408]
type = VarSet
trigger1 = 1
v = 10
value = parent, var(10)
ignorehitpause = 1
persistent = 1

[State 408]
type = VarSet
trigger1 = 1
v = 11
value = parent, var(11)
ignorehitpause = 1
persistent = 1

[State 408]
type = VarSet
trigger1 = 1
v = 12
value = parent, var(12)
ignorehitpause = 1
persistent = 1

[State 408]
type = VarSet
trigger1 = 1
v = 13
value = parent, var(13)
ignorehitpause = 1
persistent = 1

[State 408]
type = VarSet
trigger1 = 1
v = 14
value = parent, var(14)
ignorehitpause = 1
persistent = 1

[State 408]
type = VarSet
trigger1 = 1
v = 15
value = parent, var(15)
ignorehitpause = 1
persistent = 1

[State 408]
type = VarRandom
trigger1 = 1
v = 2
range = -2,2
ignorehitpause = 1

[State 408]
type = VarRandom
trigger1 = 1
v = 3
range = -5,5
ignorehitpause = 1

[State 408]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 408]
type = VarRandom
trigger1 = 1
v = 0
range = 0,5
ignorehitpause = 1
persistent = 0

[State 408]
type = ChangeAnim
trigger1 = time = 0 && var(0) = 5 && parent, var(15) = 0
value = 3796
ignorehitpause = 1
persistent = 1

[State 408]
type = ChangeAnim
trigger1 = time = 0 && var(0) = 4 && parent, var(14) = 0
value = 3795
ignorehitpause = 1
persistent = 0

[State 408]
type = ChangeAnim
trigger1 = time = 0 && var(0) = 3 && parent, var(13) = 0
value = 3794
ignorehitpause = 1
persistent = 0

[State 408]
type = ChangeAnim
trigger1 = time = 0 && var(0) = 2 && parent, var(12) = 0
value = 3793
ignorehitpause = 1
persistent = 0

[State 408]
type = ChangeAnim
trigger1 = time = 0 && var(0) = 1 && parent, var(11) = 0
value = 3792
ignorehitpause = 1
persistent = 0

[State 408]
type = ChangeAnim
trigger1 = time = 0 && var(0) = 0 && parent, var(10) = 0
value = 3791
ignorehitpause = 1
persistent = 0

[State 408]
type = PlaySnd
trigger1 = time = 0 && anim != 1
value = 4000,4
volume = -48
ignorehitpause = 1
persistent = 1
freqmul = 1.8

[State 408]
type = ParentVarSet
trigger1 = time = 0 && anim != 1
v = (anim-3781)
value = 1
ignorehitpause = 1
persistent = 1

[State 408]
type = ParentVarSet
trigger1 = animtime = 0 
v = (anim-3781)
value = 0
ignorehitpause = 1
persistent = 1

[State 408]
type = DestroySelf
trigger1 = animtime = 0
trigger2 = time != 0 && anim = 1
ignorehitpause = 1
persistent = 1

[Statedef 1000]
type    = S
movetype= A
physics = S
poweradd= -50
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1000
sprpriority = 1

[State 1000]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = normal
name = "Rock"
ID = 1000
pos = -10,-25+(random%11)-5
postype = back
facing = 1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 1000]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 1010]
type    = S
movetype= A
physics = S
poweradd= -50
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1010
sprpriority = 1

[State 1010]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = normal
name = "Rock"
ID = 1000
pos = -10-(random%4),-16
postype = back
facing = 1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 1010]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = normal
name = "Rock"
ID = 1000
pos = -10-(random%7),-34
postype = back
facing = 1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 1010]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 1020]
type    = S
movetype= A
physics = S
poweradd= -50
ctrl = 0
anim = 1020
juggle  = 1
velset = 0,0
sprpriority = 1

[State 1020]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = normal
name = "Rock"
ID = 1000
pos = -10-(random%11),-14
postype = back
facing = 1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 1020]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = normal
name = "Rock"
ID = 1000
pos = -10-(random%3),-25
postype = back
facing = 1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 1020]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = normal
name = "Rock"
ID = 1000
pos = -10-(random%14),-36
postype = back
facing = 1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 1020]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 1100]
type    = S
movetype= A
physics = S
poweradd= -60
ctrl = 0
juggle  = 1
velset = 0,0
anim = 1005
sprpriority = 1

[State 1100]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = normal
name = "Rock"
ID = 1000
pos = 10,-25+(random%11)-5
postype = front
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1
facing = -1

[State 1100]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 1110]
type    = S
movetype= A
physics = S
poweradd= -60
ctrl = 0
anim = 1015
juggle  = 1
velset = 0,0
sprpriority = 1

[State 1110]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = normal
name = "Rock"
ID = 1000
pos = 10+(random%4),-16
postype = front
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1
facing = -1

[State 1110]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = normal
name = "Rock"
ID = 1000
pos = 10+(random%7),-34
postype = front
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1
facing = -1

[State 1110]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 1120]
type    = S
movetype= A
physics = S
poweradd= -60
ctrl = 0
anim = 1025
juggle  = 1
velset = 0,0
sprpriority = 1

[State 1120]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = normal
name = "Rock"
ID = 1000
pos = 10+(random%11),-14
postype = front
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1
facing = -1

[State 1120]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = normal
name = "Rock"
ID = 1000
pos = 10+(random%3),-25
postype = front
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1
facing = -1

[State 1120]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = normal
name = "Rock"
ID = 1000
pos = 10+(random%14),-36
postype = front
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1
facing = -1

[State 1120]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 1001]
movetype= A
juggle  = 2
sprpriority = 4

[State 1001]
type = HitOverride
trigger1 = 1
slot = 0
attr = SCA,NA,SA,HA,NP,SP,HP
stateno = 1002
time = 1
ignorehitpause = 1

[state 1001, hitby]
type = hitby
trigger1 = 1
value = , AP
ignorehitpause = 1

[state 1001, hitby]
type = hitby
trigger1 = 1
value = , AA
ignorehitpause = 1

[state 1001, nothitby]
type = nothitby
trigger1 = 1
value = , AT
ignorehitpause = 1
time = 1

[State 1001]
type = null;Explod
trigger1 = time = 0
ID = 7400
anim = 7400
pos = 0,0
scale = .25,.25
ownpal = 1
velocity = 9+var(3)/100,var(1)/100
removeongethit = 1
ignorehitpause = 1
persistent = 1
sprpriority = 5

[State 1001]
type = VarRandom
trigger1 = time = 0
v = 2
range = -3,3
ignorehitpause = 1
persistent = 1

[State 1001]
type = PosAdd
trigger1 = time = 0
y = var(2)
ignorehitpause = 0
persistent = 1

[State 1001]
type = VarRandom
trigger1 = time = 0
v = 1
range = -100,100
ignorehitpause = 1
persistent = 1

[State 1001]
type = VarRandom
trigger1 = time = 0
v = 3
range = -100,100
ignorehitpause = 1
persistent = 1

[State 1001]
type = VarSet
trigger1 = time = 0
v = 4
value = ifelse(parent, stateno > 3000,1,0)
ignorehitpause = 1
persistent = 1

[State 1001]
type = VelSet
trigger1 = 1
x = 9+var(3)/100
y = var(1)/100
ignorehitpause = 1
persistent = 1

[State 1001]
type = VarRandom
trigger1 = time = 0
v = 0
range = 0,2
ignorehitpause = 1
persistent = 1

[State 1001]
type = ChangeAnim
trigger1 = time = 0
value = 8000 + var(0)
ignorehitpause = 1
persistent = 1

[state 1001]
type = ScreenBound
value = 0
trigger1 = 1

[State 1001]
type = HitDef
trigger1 = var(4) = 0
attr = A, SP
damage = 15+random%5, 5
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 8, 8
sparkno = -1
guard.sparkno = -1
hitsound = -1;S1, 0
guardsound = -1;S3, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 15
ground.velocity = -2
airguard.velocity = -.9,-.4
air.type = High
air.velocity = -1.5,-1.5
air.hittime = 15
getpower = 10,10
envshake.time = 4
envshake.freq = 90
envshake.ampl = -2
envshake.phase = 0

[State 1001]
type = HitDef
trigger1 = var(4) = 1
attr = A, HP
damage = 30+random%5, 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 8, 8
sparkno = -1
guard.sparkno = -1
hitsound = -1;S1, 0
guardsound = -1;S3, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 25
ground.velocity = -2
airguard.velocity = -.9,-.4
air.type = High
air.velocity = -1.5,-1.5
air.hittime = 15
getpower = 0,0
envshake.time = 6
envshake.freq = 90
envshake.ampl = -4
envshake.phase = 0

[State 1001]
type = VarSet
trigger1 = pos y >= 0
v = 30
value = -600
ignorehitpause = 1
persistent = 1

[State 1001]
type = ChangeState
trigger1 = movecontact||pos y >= 0
value = 1002
ignorehitpause = 1

[State 1001]
type = DestroySelf
trigger1 = frontedgedist <= 0
ignorehitpause = 1

[Statedef 1002]
velset = 0, 0

[State 1002]
type = VarSet
trigger1 = prevstateno = 192
v = 30
value = -600
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarRandom
trigger1 = time = 0
v = 1
range = -600,600
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarRandom
trigger1 = time = 0
v = 2
range = -600+var(30)/2,600+var(30)*1.5
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarRandom
trigger1 = time = 0
v = 3
range = 0,2
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarRandom
trigger1 = time = 0
v = 4
range = -600,600
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarRandom
trigger1 = time = 0
v = 5
range = -600+var(30)/2,600+var(30)*1.5
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarRandom
trigger1 = time = 0
v = 6
range = 0,2
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarRandom
trigger1 = time = 0
v = 7
range = -600,600
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarRandom
trigger1 = time = 0
v = 8
range = -600+var(30)/2,600+var(30)*1.5
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarRandom
trigger1 = time = 0
v = 9
range = 0,2
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarRandom
trigger1 = time = 0
v = 10
range = -600,600
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarRandom
trigger1 = time = 0
v = 11
range = -600+var(30)/2,600+var(30)*1.5
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarRandom
trigger1 = time = 0
v = 12
range = 0,2
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarRandom
trigger1 = time = 0
v = 13
range = -600,600
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarRandom
trigger1 = time = 0
v = 14
range = -600+var(30)/2,600+var(30)*1.5
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarRandom
trigger1 = time = 0
v = 15
range = 0,2
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarRandom
trigger1 = time = 0
v = 16
range = -600,600
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarRandom
trigger1 = time = 0
v = 17
range = -600+var(30)/2,600+var(30)*1.5
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarRandom
trigger1 = time = 0
v = 18
range = 0,2
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarRandom
trigger1 = time = 0
v = 19
range = -600,600
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarRandom
trigger1 = time = 0
v = 20
range = -600+var(30)/2,600+var(30)*1.5
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarRandom
trigger1 = time = 0
v = 21
range = 0,2
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarSet
trigger1 = time = 0
v = 22
value = ceil(-pos y)
ignorehitpause = 1
persistent = 0

[State 1002]
type = VarSet
trigger1 = time = 0 && pos y >= 0
v = 22
value = 0
ignorehitpause = 1
persistent = 0

[State 1002]
type = Explod
trigger1 =time = 0 
anim = 8010 + var(3)
ID = 1002
pos = 0,0
bindtime = 1
vel = var(1)/200,var(2)/200
accel = 0,0.4
removetime = ceil((Exp(0.5*ln(5*var(22)+(var(2)/200)*(var(2)/200)*6.25)))-var(2)/80)
supermove = 0
pausemovetime = 0
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 1002]
type = Explod
trigger1 =time = 0 && var(0) >= 2
anim = 8010 + var(6)
ID = 1002
pos = 0,0
bindtime = 1
vel = var(4)/200,var(5)/200
accel = 0,0.4
removetime = ceil((Exp(0.5*ln(5*var(22)+(var(5)/200)*(var(5)/200)*6.25)))-var(5)/80)
supermove = 0
pausemovetime = 0
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 1002]
type = Explod
trigger1 =time = 0 && var(0) = 4
anim = 8010 + var(9)
ID = 1002
pos = 0,0
bindtime = 1
vel = var(7)/200,var(8)/200
accel = 0,0.4
removetime = ceil((Exp(0.5*ln(5*var(22)+(var(8)/200)*(var(8)/200)*6.25)))-var(8)/80)
supermove = 0
pausemovetime = 0
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 1002]
type = Explod
trigger1 =time = 0 && var(0) <= 3
anim = 8020 + var(12)
ID = 1002
pos = 0,0
bindtime = 1
vel = var(10)/200,var(11)/200
accel = 0,0.4
removetime = ceil((Exp(0.5*ln(5*var(22)+(var(11)/200)*(var(11)/200)*6.25)))-var(11)/80)
supermove = 0
pausemovetime = 0
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 1002]
type = Explod
trigger1 =time = 0 && var(0) <= 3
anim = 8020 + var(15)
ID = 1002
pos = 0,0
bindtime = 1
vel = var(13)/200,var(14)/200
accel = 0,0.4
removetime = ceil((Exp(0.5*ln(5*var(22)+(var(14)/200)*(var(14)/200)*6.25)))-var(14)/80)
supermove = 0
pausemovetime = 0
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 1002]
type = Explod
trigger1 =time = 0 && var(0) <= 1
anim = 8020 + var(18)
ID = 1002
pos = 0,0
bindtime = 1
vel = var(16)/200,var(17)/200
accel = 0,0.4
removetime = ceil((Exp(0.5*ln(5*var(22)+(var(17)/200)*(var(17)/200)*6.25)))-var(17)/80)
supermove = 0
pausemovetime = 0
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 1002]
type = Explod
trigger1 =time = 0 && var(0) <= 1
anim = 8020 + var(21)
ID = 1002
pos = 0,0
bindtime = 1
vel = var(19)/200,var(20)/200
accel = 0,0.4
removetime = ceil((Exp(0.5*ln(5*var(22)+(var(20)/200)*(var(20)/200)*6.25)))-var(20)/80)
supermove = 0
pausemovetime = 0
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 1002]
type = VarRandom
trigger1 = time = 0
v = 0
range = 0,4
ignorehitpause = 1
persistent = 1

[state 1002]
type = changeanim
value = 1002
trigger1 = time = 0
ignorehitpause = 1
persistent = 1

[State 1002]
type = PlaySnd
trigger1 = time = 0
value = 1,1
channel = 7
ignorehitpause = 1
persistent = 0
freqmul = .98+(random/45000)

[State 1002]
type = RemoveExplod
trigger1 = 1
ID = 7400
ignorehitpause = 1

[State 1002]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 1002]
type = DestroySelf
trigger1 = time = 0
ignorehitpause = 1
persistent = 1

[Statedef 1200]
type    = S
movetype= A
physics = S
poweradd= -75
ctrl = 0
anim = 1200
sprpriority = 1
juggle  = 1
velset = 0,0

[State 1200]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = normal
name = "DA THINGY"
ID = 1200
pos = 50,0
postype = p1
stateno = 1250
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 1200]
type = ChangeState
trigger1 = animtime = 0 || (numhelper(1200) = 0 && time >= 40)
value = 0
ctrl = 1

[Statedef 1210]
type    = S
movetype= A
physics = S
poweradd= -75
ctrl = 0
anim = 1200
sprpriority = 1
juggle  = 1
velset = 0,0

[State 1210]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = normal
name = "DA THINGY"
ID = 1200
pos = 150,0
postype = p1
stateno = 1250
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1

[State 1210]
type = ChangeState
trigger1 = animtime = 0 || (numhelper(1200) = 0 && time >= 40)
value = 0
ctrl = 1

[Statedef 1220]
type    = S
movetype= A
physics = S
poweradd= -75
ctrl = 0
anim = 1200
sprpriority = 1
juggle  = 1
velset = 0,0

[State 1220]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = normal
name = "DA THINGY"
ID = 1200
pos = 100,0
postype = p1
stateno = 1250
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1220]
type = ChangeState
trigger1 = animtime = 0 || (numhelper(1200) = 0 && time >= 40)
value = 0
ctrl = 1

[Statedef 1250]
movetype = A
ctrl = 0
anim = 7600
sprpriority = 2

[state 1250]
type = varrandom
trigger1 = anim = 7600
v = 0
range = ifelse(parent, stateno = 1220,-65,-25),ifelse(parent, stateno = 1220,65,25)
ignorehitpause = 1

[state 1250]
type = varrandom
trigger1 = anim = 7600
v = 1
range = -5,0
ignorehitpause = 1

[state 1250]
type = varrandom
trigger1 = anim = 7600
v = 2
range = -300,300
ignorehitpause = 1

[state 1250]
type = varrandom
trigger1 = anim = 7600
v = 3
range = -400,-150
ignorehitpause = 1

[State 1250]
type = Explod
trigger1 = time % 2 = 0 && anim = 7600
anim = 6200
ID = 6200
pos = var(0),var(1)
postype = p1
bindtime = 1
vel = var(2)/200,var(3)/200
removetime = 18
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[state 1250]
type = varrandom
trigger1 = anim = 7625
v = 0
range = -12,12
ignorehitpause = 1

[state 1250]
type = varrandom
trigger1 = anim = 7625
v = 1
range = -10,0
ignorehitpause = 1

[state 1250]
type = varrandom
trigger1 = anim = 7625
v = 2
range = -200,200
ignorehitpause = 1

[state 1250]
type = varrandom
trigger1 = anim = 7625
v = 3
range = -550,-250
ignorehitpause = 1

[State 1250]
type = Explod
trigger1 = time % 2 = 0 && anim = 7625
anim = 6200
ID = 6200
pos = var(0),var(1)
postype = p1
bindtime = 1
vel = var(2)/200,var(3)/200
removetime = 18
scale = .8, .8
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 1250]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1250]
type = AssertSpecial
trigger1 = parent, stateno = 1260
flag = invisible
ignorehitpause = 1
persistent = 1

[State 1250]
type = PlaySnd
trigger1 = time = 0
value = 1200,0
ignorehitpause = 1
freqmul = .9+(random/5000)

[State 1250]
type = Explod
trigger1 = time = 0 && parent, stateno = 1220
anim = 7600
ID = 7600
pos = 0,0
scale = 3, 1.5
sprpriority = 2
ownpal = 1
removetime = 16
removeongethit = 1
ignorehitpause = 1
persistent = 1

[state 1250]
type = AssertSpecial
trigger1 = 1
flag = noshadow
time = 1

[State 1250]
type = ChangeAnim
trigger1 = anim = 7600 && animtime = 0
value = 7625

[State 1250]
type = PlaySnd
trigger1 = animelemtime(1) = 0 && anim = 7625
value = 1200,1
ignorehitpause = 1
freqmul = .9+(random/5000)

[State 1250]
type = PosSet
trigger1 = anim = 7625 && animelemtime(1) = 0 && (pos x-enemynear, pos x) = [-75,75]
trigger1 = parent, stateno = 1220
x = (enemynear, pos x)
ignorehitpause = 1
persistent = 1

[State 1250]
type = PosSet
trigger1 = anim = 7625 && animelemtime(1) = 0 && (pos x-enemynear, pos x) != [-75,75]
trigger1 = parent, stateno = 1220
x = ifelse((pos x-enemynear, pos x) < -75, (pos x+75),(pos x-75))
ignorehitpause = 1
persistent = 1

[State 1250]
type = Explod
trigger1 = (anim = 7625) && time % 5 = 0
anim = 7500
ID = 7500
pos = 0,0
vel = 0,-3.6*parent, const(size.yscale)
removetime = 10
ownpal = 1
ignorehitpause = 1
persistent = 1
sprpriority = -1
scale = 1*parent, const(size.xscale),0.6*parent, const(size.yscale)

[State 1250]
type = Explod
trigger1 = (anim = 7625) && time % 5 = 0
anim = 7501
ID = 7500
pos = 0,0
vel = 0,-3.6*parent, const(size.yscale)
removetime = 10
ownpal = 1
ignorehitpause = 1
persistent = 1
sprpriority = 3
scale = 1*parent, const(size.xscale),0.6*parent, const(size.yscale)

[State 1250]
type = HitDef
trigger1 = animelem = 4
attr = S,NT
hitflag = MAF
guardflag = MA
animtype = Hard
air.animtype = Hard
damage = 15,0
pausetime = 8,0
sparkno = -1
guard.sparkno = -1
hitsound = S4,0
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 50
guard.slidetime = 1
ground.hittime = 50
guard.hittime = 1
air.hittime = 60
p1stateno = 1260
ID = 7
ground.velocity = 0,0
guard.velocity = 0
kill = 0

[State 1250]
type = DestroySelf
trigger1 = anim = 7625 && animtime = 0 || (parent, movetype = H && movecontact = 0)
ignorehitpause = 1
persistent = 1

[Statedef 1260]
movetype= A
ctrl = 0
anim = 7650
sprpriority = 2

[State 1260]
type = ScreenBound
trigger1 = 1
value = 1
ignorehitpause = 1
persistent = 1

[State 1260]
type = VarRandom
trigger1 = 1
v = 10
range = ceil(-25*parent, const(size.xscale)),ceil(25*parent, const(size.xscale))
ignorehitpause = 1
persistent = 1

[State 1260]
type = VarRandom
trigger1 = 1
v = 11
range = ceil(-45*parent, const(size.yscale)),0
ignorehitpause = 1
persistent = 1

[State 1260]
type = VarRandom
trigger1 = 1
v = 12
range = -1000*fvar(0),1000*fvar(0)
ignorehitpause = 1
persistent = 1

[State 1260]
type = VarRandom
trigger1 = 1
v = 13
range = -1000*fvar(0),1000*fvar(0)
ignorehitpause = 1
persistent = 1

[State 1260]
type = Explod
trigger1 = time % 3 = 0
anim = 6200
ID = 6200
pos = var(10),var(11)
postype = p1
bindtime = 1
vel = var(12)/200,var(13)/200
removetime = 18
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 1260]
type = RemoveExplod
trigger1 = 1
ID = 7500
ignorehitpause = 1
persistent = 1

[State 1260]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[state 1260]
type = AssertSpecial
trigger1 = 1
flag = noshadow
time = 1

[state 1260]
type = AssertSpecial
trigger1 = 1
flag = unguardable
time = 1

[State 1260]
type = TargetBind
trigger1 = 1
time = 1
pos = 0,0
ignorehitpause = 1
persistent = 1

[State 1260]
type = TargetLifeAdd
trigger1 = 1
value = -(time%2+1)
ID = 7
ignorehitpause = 1

[State 1260]
type = TargetLifeAdd
trigger1 = parent, command = "x" && parent, var(0) = 0
trigger2 = parent, command = "y" && parent, var(0) = 0
trigger3 = random < 250 && parent, var(0) = 1
value = -1
ID = 7
ignorehitpause = 1
persistent = 2

[State 1260]
type = VarSet
trigger1 = time = 0
fv = 0
value = 1
ignorehitpause = 1

[State 1260]
type = VarAdd
trigger1 = parent, command = "x" && parent, var(0) = 0
trigger2 = parent, command = "y" && parent, var(0) = 0
trigger3 = random < 250 && parent, var(0) = 1
fv = 0
value = .05
ignorehitpause = 1
persistent = 1

[State 1260]
type = VelSet
trigger1 = time = 1
y = -15
ignorehitpause = 1

[State 1260]
type = VarRandom
trigger1 = 1
v = 1
range = -1000,1000
ignorehitpause = 1
persistent = 1

[State 1260]
type = VarRandom
trigger1 = 1
v = 2
range = -1000,1000
ignorehitpause = 1
persistent = 1

[State 1260]
type = VelSet
trigger1 = time > 2 && time % 2 = 0
x = var(1)/150*fvar(0)
y = var(2)/150*fvar(0)
ignorehitpause = 1

[State 1260]
type = PosSet
trigger1 = pos y > 0
y = 0
ignorehitpause = 1
persistent = 1

[State 1260]
type = HitDef
trigger1 = 1
attr = S,NA
hitflag = MAF+
guardflag = MA+
animtype = Hard
air.animtype = Hard
damage = 0,0
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
hitsound = 0,0
guardsound = 0,0
ground.type = High
air.type = High
ground.slidetime = 2
guard.slidetime = 1
ground.hittime = 2
guard.hittime = 1
air.hittime = 1
ground.velocity = 0, 0
guard.velocity = 0
numhits = 0
ID = 7

[State 1260]
type = HitDef
trigger1 = time = 44||(parent, movetype = H)||((parent, stateno != 1200)&&(parent, stateno != 1210)&&(parent, stateno != 1220))
attr = S,NA
hitflag = MAF+
guardflag = MA
animtype = Hard
air.animtype = Hard
damage = 0,0
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
hitsound = 0,0
guardsound = 0,0
ground.type = High
air.type = High
ground.slidetime = 10
guard.slidetime = 10
ground.hittime = 10
guard.hittime = 10
air.hittime = 10
ground.velocity = vel x,vel y
guard.velocity = vel x
fall = 1
numhits = 0

[State 1260]
type = DestroySelf
trigger1 = time = 45 || (Parent, MoveType = H)
ignorehitpause = 1
persistent = 1

[Statedef 1300]
type    = S
movetype= A
physics = S
poweradd= -45
ctrl = 0
anim = 1300
sprpriority = 2

[State 1300]
type = VelSet
trigger1 = animelemtime(2) = 0
x = 4
y = -3
ignorehitpause = 1

[State 1300]
type = PlaySnd
trigger1 = animelemtime(2) = 0
value = 1300,0
ignorehitpause = 1

[State 1300]
type = StateTypeSet
trigger1 = animelemtime(2) = 0
statetype = A
movetype = A
physics = A
ignorehitpause = 1

[State 1300]
type = VarRandom
trigger1 = 1
v = 2
range = -2,2
ignorehitpause = 1

[State 1300]
type = VarRandom
trigger1 = 1
v = 3
range = -3,3
ignorehitpause = 1

[State 1300]
type = HitDef
trigger1 = !time
attr = A, SA
damage    = 35,10
guardflag = HA
pausetime = 8,8
sparkno = S6000
guard.sparkno = S6100
sparkxy = ceil(-6+var(2))*const(size.xscale),ceil((-15+var(3))*const(size.yscale))
hitsound   = S1300,1
guardsound = S3,0
animtype = Hard
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -4.5
air.velocity = -4.5,-2
envshake.time = 5
envshake.freq = 60
envshake.ampl = -3
envshake.phase = 0

[State 1300]
type = Helper
trigger1 = movehit && numtarget
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(6-var(2))*const(size.xscale),ceil(((-15+var(3))*const(size.yscale)) - p2dist y)
postype	= p2
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 1300]
type = ChangeState
trigger1 = pos y >= 0 && animelemtime(2) > 0
value = 50

[Statedef 1310]
type    = S
movetype= A
physics = S
poweradd= -45
ctrl = 0
anim = 1300
sprpriority = 2

[State 1310]
type = PalFX
trigger1 = animelem = 2
time = 4
add = 35,0,35
mul = 256,96,256
color = 256
ignorehitpause = 1
persistent = 1

[State 1310]
type = VelSet
trigger1 = animelemtime(2) = 0
x = 5
y = -4
ignorehitpause = 1

[State 1310]
type = PlaySnd
trigger1 = animelemtime(2) = 0
value = 1300,0
ignorehitpause = 1

[State 1310]
type = StateTypeSet
trigger1 = animelemtime(2) = 0
statetype = A
movetype = A
physics = A
ignorehitpause = 1

[State 1310]
type = VarRandom
trigger1 = 1
v = 2
range = -2,2
ignorehitpause = 1

[State 1310]
type = VarRandom
trigger1 = 1
v = 3
range = -3,3
ignorehitpause = 1

[State 1310]
type = HitDef
trigger1 = !time
attr = A, SA
damage    = 45,10
guardflag = HA
pausetime = 8,8
sparkno = S6000
guard.sparkno = S6100
sparkxy = ceil(-6+var(2))*const(size.xscale),ceil((-15+var(3))*const(size.yscale))
hitsound   = S1300,1
guardsound = S3,0
animtype = Hard
ground.type = High
ground.slidetime = 18
ground.hittime  = 23
ground.velocity = -5.25,-0.5
air.velocity = -5.25,-2.5
envshake.time = 5
envshake.freq = 60
envshake.ampl = -3
envshake.phase = 0

[State 1310]
type = Helper
trigger1 = movehit && numtarget
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(6-var(2))*const(size.xscale),ceil(((-15+var(3))*const(size.yscale)) - p2dist y)
postype	= p2
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 1310]
type = ChangeState
trigger1 = pos y >= 0 && animelemtime(2) > 0
value = 50

[Statedef 1320]
type    = S
movetype= A
physics = S
poweradd= -45
ctrl = 0
anim = 1300
sprpriority = 2

[State 1320]
type = Explod
trigger1 = animelemtime(2) = 0
anim = 11300
ID = 1300
pos = 0,0
bindtime = -1
removetime = -2
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1
pausemovetime = 99999
supermovetime = 99999
supermove = 99999
scale = const(size.xscale),const(size.yscale)

[State 1320]
type = VelSet
trigger1 = animelemtime(2) = 0
x = 6
y = -5
ignorehitpause = 1

[State 1320]
type = PlaySnd
trigger1 = animelemtime(2) = 0
value = 1300,0
ignorehitpause = 1

[State 1320]
type = StateTypeSet
trigger1 = animelemtime(2) = 0
statetype = A
movetype = A
physics = A
ignorehitpause = 1

[State 1320]
type = VarRandom
trigger1 = 1
v = 2
range = -2,2
ignorehitpause = 1

[State 1320]
type = VarRandom
trigger1 = 1
v = 3
range = -3,3
ignorehitpause = 1

[State 1320]
type = HitDef
trigger1 = !time
attr = A, SA
damage    = 55,10
guardflag = HA
pausetime = 8,8
sparkno = S6000
guard.sparkno = S6100
sparkxy = ceil(-6+var(2))*const(size.xscale),ceil((-15+var(3))*const(size.yscale))
hitsound   = S1300,1
guardsound = S3,0
animtype = Hard
ground.type = High
ground.slidetime = 20
ground.hittime  = 25
ground.velocity = -6.5,-0.5
air.velocity = -6.5,-3
fall = 1
envshake.time = 5
envshake.freq = 60
envshake.ampl = -3
envshake.phase = 0

[State 1320]
type = Helper
trigger1 = movehit && numtarget
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(6-var(2))*const(size.xscale),ceil(((-15+var(3))*const(size.yscale)) - p2dist y)
postype	= p2
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 1320]
type = ChangeState
trigger1 = pos y >= 0 && animelemtime(2) > 0
value = 50

[Statedef 1400]
type    = S
movetype= A
physics = S
poweradd= -65
ctrl = 0
anim = 1400
sprpriority = 1
juggle = 2
velset = 0,0

[State 1400]
type = VarRandom
trigger1 = 1
v = 2
range = -3,3
ignorehitpause = 1

[State 1400]
type = VarRandom
trigger1 = 1
v = 3
range = -8,8
ignorehitpause = 1

[State 1400]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = normal
name = "Psycho"
ID = 1400
pos = ceil(-1*const(size.xscale)),ceil(-32*const(size.yscale))
postype = p1
stateno = 1450
keyctrl = 1
ownpal = 1
ignorehitpause = 1
persistent = 1
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)

[State 1400]
type = HitDef
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
attr = A, SA
hitflag = MAF
guardflag = MA
animtype = Medium
damage = 18,7
pausetime = 0,8
sparkno = S6000
guard.sparkno = S6100
sparkxy = ceil(-1+var(2))*const(size.xscale),ceil((-50-10*(animelem=4)-20*(animelem=5)+var(3))*const(size.yscale))
hitsound = S1400, 1
guardsound = S1400, 1
ground.type = High
ground.slidetime = 10
guard.slidetime = 5
ground.hittime = 17
guard.hittime = 10
air.hittime = 20
ground.velocity = -1,-5.5
guard.velocity = -1
air.velocity = -.75,-6
airguard.velocity = -.4,-.4
getpower = 20,0
palfx.time = 20
palfx.mul = 256,96,256
palfx.add = 35,0,35

[State 1400]
type = Helper
trigger1 = movehit && numtarget
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(1-var(2))*const(size.xscale),ceil((-50-10*(animelem=4)-20*(animelem=5)+var(3))*const(size.yscale))
postype	= p2
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 1400]
type = Explod
trigger1 = animelemtime(2) = 0
anim = 8150
ID = 1400
pos = ceil(-1*const(size.xscale)),ceil(-32*const(size.yscale))
postype = p1
removetime = -2
ownpal = 1
removeongethit = 1
scale = const(size.xscale), const(size.yscale)
pausemovetime = 9999
supermove = 9999

[State 1400]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 1410]
type    = S
movetype= A
physics = S
poweradd= -65
ctrl = 0
anim = 1410
sprpriority = 1
juggle  = 3
velset = 0,0

[State 1410]
type = VarRandom
trigger1 = 1
v = 2
range = -5,5
ignorehitpause = 1

[State 1410]
type = VarRandom
trigger1 = 1
v = 3
range = -10,10
ignorehitpause = 1

[State 1410]
type = PalFX
trigger1 = animelem = 2
time = 8
add = 35,0,35
mul = 256,96,256
color = 256
ignorehitpause = 1
persistent = 1

[State 1410]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = normal
name = "Psycho"
ID = 1400
pos = ceil(-1*const(size.xscale)),ceil(-32*const(size.yscale))
postype = p1
stateno = 1460
keyctrl = 1
ownpal = 1
ignorehitpause = 1
persistent = 1
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)

[State 1410]
type = HitDef
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
attr = A, SA
hitflag = MAF
guardflag = MA
animtype = Medium
damage = 23,8
pausetime = 0,8
sparkno = S6000
guard.sparkno = S6100
sparkxy = ceil(-11+var(2))*const(size.xscale),ceil((-50-15*(animelem=4)-30*(animelem=5)+var(3))*const(size.xscale))
hitsound = S1400, 1
guardsound = S1400, 1
ground.type = High
ground.slidetime = 10
guard.slidetime = 5
ground.hittime = 17
guard.hittime = 10
air.hittime = 20
ground.velocity = -1.25,-6
guard.velocity = -1
air.velocity = -1,-6.5
airguard.velocity = -.5,-.5
getpower = 20,0
fall = (animelem = 5)
palfx.time = 20
palfx.mul = 256,96,256
palfx.add = 35,0,35
ground.cornerpush.veloff = -3
air.cornerpush.veloff = -3
down.cornerpush.veloff = -3
guard.cornerpush.veloff = -3
airguard.cornerpush.veloff = -3

[State 1410]
type = Helper
trigger1 = movehit && numtarget
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(11-var(2))*const(size.xscale),ceil((-50-15*(animelem=4)-30*(animelem=5)+var(3))*const(size.xscale))
postype	= p2
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 1410]
type = Explod
trigger1 = animelemtime(2) = 0
anim = 8150
ID = 1400
pos = ceil(-1*const(size.xscale)),ceil(-40*const(size.yscale))
postype = p1
removetime = -2
ownpal = 1
removeongethit = 1
scale = 1.5*const(size.xscale), 1.5*const(size.yscale)
pausemovetime = 9999
supermove = 9999

[State 1410]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 1420]
type    = S
movetype= A
physics = S
poweradd= -65
ctrl = 0
anim = 1420
sprpriority = 1
juggle = 4
velset = 0,0

[State 1420]
type = VarRandom
trigger1 = 1
v = 2
range = -7,7
ignorehitpause = 1

[State 1420]
type = VarRandom
trigger1 = 1
v = 3
range = -12,12
ignorehitpause = 1

[State 1420]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = normal
name = "Psycho"
ID = 1400
pos = ceil(-1*const(size.xscale)),ceil(-32*const(size.yscale))
postype = p1
stateno = 1470
keyctrl = 1
ownpal = 1
ignorehitpause = 1
persistent = 1
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)

[State 1420]
type = Explod
trigger1 = animelemtime(2) = 0
anim = 11400
ID = 1400
pos = 0,0
bindtime = -1
removetime = -2
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1
pausemovetime = 99999
supermovetime = 99999
supermove = 99999
scale = const(size.xscale),const(size.yscale)

[State 1420]
type = RemoveExplod
trigger1 = animelemtime(7) = 0
ID = 1400
ignorehitpause = 1

[State 1420]
type = HitDef
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
attr = A, SA
hitflag = MAF
guardflag = MA
animtype = Medium
damage = 28,9
pausetime = 0,8
sparkno = S6000
guard.sparkno = S6100
sparkxy = ceil(-21+var(2))*const(size.xscale),ceil((-50-20*(animelem=4)-40*(animelem=5)+var(3))*const(size.yscale))
hitsound = S1400, 1
guardsound = S1400, 1
ground.type = High
ground.slidetime = 10
guard.slidetime = 5
ground.hittime = 17
guard.hittime = 10
air.hittime = 20
ground.velocity = -1.5,-7.5
guard.velocity = -1
air.velocity = -1.25,-7.75
airguard.velocity = -.6,-.6
getpower = 20,0
fall = 1
palfx.time = 20
palfx.mul = 256,96,256
palfx.add = 35,0,35
ground.cornerpush.veloff = -3
air.cornerpush.veloff = -3
down.cornerpush.veloff = -3
guard.cornerpush.veloff = -3
airguard.cornerpush.veloff = -3

[State 1420]
type = Helper
trigger1 = movehit && numtarget
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(21-var(2))*const(size.xscale),ceil((-50-20*(animelem=4)-40*(animelem=5)+var(3))*const(size.yscale))
postype	= p2
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 1420]
type = Explod
trigger1 = animelemtime(2) = 0
anim = 8150
ID = 1400
pos = ceil(-1*const(size.xscale)),ceil(-48*const(size.yscale))
postype = p1
removetime = -2
ownpal = 1
removeongethit = 1
scale = 2*const(size.xscale), 2*const(size.yscale)
pausemovetime = 9999
supermove = 9999

[State 1420]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 1450]
movetype = A
ctrl = 0
anim = 8100
sprpriority = 3
juggle = 2

[State 1450]
type = AfterImage
trigger1 = time = 0
time = 17
length = 3
palcolor = 256
palinvertall = 0
palbright = 40,30,40
palcontrast = 200,60,200
palpostbright = 0,0,0
paladd = 0,0,0
palmul = .8,.3,.8
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[state 1450]
type = varrandom
trigger1 = 1
v = 0
range = ceil(-25*parent, const(size.xscale)),ceil(25*parent, const(size.xscale))
ignorehitpause = 1

[state 1450]
type = varrandom
trigger1 = 1
v = 1
range = ceil(-20*parent, const(size.xscale)),ceil(5*parent, const(size.xscale))
ignorehitpause = 1

[state 1450]
type = varrandom
trigger1 = 1
v = 2
range = -200,200
ignorehitpause = 1

[state 1450]
type = varrandom
trigger1 = 1
v = 3
range = -750,-300
ignorehitpause = 1

[State 1450]
type = Explod
trigger1 = time % 2 = 0 && time <= 10
anim = 6200
ID = 6200
pos = var(0),var(1)
postype = p1
bindtime = 1
vel = var(2)/200,var(3)/200
removetime = 18
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 1450]
type = Helper
trigger1 = time = 0
ID = 1450
pos = 0,0
stateno = 1455
keyctrl = 0
ownpal = 1

[State 1450]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1450]
type = BindToParent
trigger1 = 1
time = 1
pos = ceil(-1*parent, const(size.xscale)),ceil(-32*parent, const(size.yscale))

[State 1450]
type = DestroySelf
trigger1 = parent, stateno != 1400||animtime=0
ignorehitpause = 1
persistent = 1

[Statedef 1460]
movetype = A
ctrl = 0
anim = 8111
sprpriority = 3
juggle = 3

[State 1460]
type = AfterImage
trigger1 = time = 0
time = 17
length = 3
palcolor = 256
palinvertall = 0
palbright = 40,30,40
palcontrast = 200,60,200
palpostbright = 0,0,0
paladd = 0,0,0
palmul = .8,.3,.8
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[state 1460]
type = varrandom
trigger1 = 1
v = 0
range = ceil(-40*parent, const(size.xscale)),ceil(40*parent, const(size.xscale))
ignorehitpause = 1

[state 1460]
type = varrandom
trigger1 = 1
v = 1
range = ceil(-20*parent, const(size.xscale)),ceil(5*parent, const(size.xscale))
ignorehitpause = 1

[state 1460]
type = varrandom
trigger1 = 1
v = 2
range = -200,200
ignorehitpause = 1

[state 1460]
type = varrandom
trigger1 = 1
v = 3
range = -875,-350
ignorehitpause = 1

[State 1460]
type = Explod
trigger1 = time % 2 = 0 && time <= 10
anim = 6200
ID = 6200
pos = var(0),var(1)
postype = p1
bindtime = 1
vel = var(2)/200,var(3)/200
removetime = 18
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 1460]
type = Helper
trigger1 = time = 0
ID = 1450
pos = 0,0
stateno = 1455
keyctrl = 0
ownpal = 1

[State 1460]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1460]
type = BindToParent
trigger1 = 1
time = 1
pos = ceil(-1*parent, const(size.xscale)),ceil(-32*parent, const(size.yscale))

[State 1460]
type = DestroySelf
trigger1 = parent, stateno != 1410||animtime=0
ignorehitpause = 1
persistent = 1

[Statedef 1470]
movetype = A
ctrl = 0
anim = 8112
sprpriority = 3
juggle = 4

[State 1470]
type = AfterImage
trigger1 = time = 0
time = 17
length = 3
palcolor = 256
palinvertall = 0
palbright = 40,30,40
palcontrast = 200,60,200
palpostbright = 0,0,0
paladd = 0,0,0
palmul = .8,.3,.8
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[state 1470]
type = varrandom
trigger1 = 1
v = 0
range = ceil(-55*parent, const(size.xscale)),ceil(55*parent, const(size.xscale))
ignorehitpause = 1

[state 1470]
type = varrandom
trigger1 = 1
v = 1
range = ceil(-20*parent, const(size.xscale)),ceil(5*parent, const(size.xscale))
ignorehitpause = 1

[state 1470]
type = varrandom
trigger1 = 1
v = 2
range = -200,200
ignorehitpause = 1

[state 1470]
type = varrandom
trigger1 = 1
v = 3
range = -1000,-400
ignorehitpause = 1

[State 1470]
type = Explod
trigger1 = time % 2 = 0 && time <= 10
anim = 6200
ID = 6200
pos = var(0),var(1)
postype = p1
bindtime = 1
vel = var(2)/200,var(3)/200
removetime = 18
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 1470]
type = Helper
trigger1 = time = 0
ID = 1450
pos = 0,0
stateno = 1455
keyctrl = 0
ownpal = 1

[State 1470]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1470]
type = BindToParent
trigger1 = 1
time = 1
pos = ceil(-1*parent, const(size.xscale)),ceil(-32*parent, const(size.yscale))

[State 1470]
type = DestroySelf
trigger1 = parent, stateno != 1420||animtime=0
ignorehitpause = 1
persistent = 1

[Statedef 1455]
anim = 1

[State 1455]
type = PlaySnd
trigger1 = time = 0
value = 1400, 0
channel = 3
lowpriority = 1
freqmul = .95+(random/10000)

[State 1455]
type = StopSnd
trigger1 = time = 27
channel = 3
ignorehitpause = 1

[State 1455]
type = DestroySelf
trigger1 = time = 27
ignorehitpause = 1

[Statedef 1500]
type    = A
movetype= A
physics = A
poweradd= -55
ctrl = 0
anim = 1500
sprpriority = 2

[State 1500]
type = VelSet
trigger1 = animelem = 1
y = 0
ignorehitpause = 1
persistent = 1

[State 1500]
type = PlaySnd
trigger1 = animelemtime(2) = 0
value = 1500,0
ignorehitpause = 1
volume = 192
freqmul = .9+(random/5000)

[State 1500]
type = Explod
trigger1 = animelemtime(2) = 0
anim = 8200
ID = 1500
pos = ceil(13*const(size.xscale)),ceil(-18*const(size.yscale))
bindtime = -1
removetime = 8
pausemovetime = 9999
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
scale = const(size.xscale),const(size.yscale)

[State 1500]
type = Explod
trigger1 = animelemtime(2) = 0
anim = 8210
ID = 1501
pos = ceil(10*const(size.xscale)),ceil(-17*const(size.yscale))
bindtime = -1
removetime = 10
pausemovetime = 9999
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
scale = const(size.xscale),const(size.yscale)

[State 1500]
type = Explod
trigger1 = animelemtime(2) = 0
anim = 8210
ID = 1502
pos = ceil(17*const(size.xscale)),ceil(-18*const(size.yscale))
bindtime = -1
removetime = 10
pausemovetime = 9999
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
scale = const(size.xscale),const(size.yscale)

[State 1500]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = Normal
name = "gun fire"
id = 1540
stateno	= 1540
pos = ceil(10*const(size.xscale)),ceil(-17*const(size.yscale))
postype	= p1
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 1500]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = Normal
name = "gun fire"
id = 1541
stateno	= 1541
pos = ceil(17*const(size.xscale)),ceil(-18*const(size.yscale))
postype	= p1
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 1500]
type = VelSet
trigger1 = animelemtime(2) = 3
x = -2
y = 1
ignorehitpause = 1
persistent = 1

[State 1500]
type = VarRandom
trigger1 = 1
v = 2
range = -2,2
ignorehitpause = 1

[State 1500]
type = VarRandom
trigger1 = 1
v = 3
range = -4,4
ignorehitpause = 1

[State 1500]
type = HitDef
trigger1 = !time
attr = A, SA
damage    = 60,15
guardflag = HA
pausetime = 8,8
sparkno = S1
guard.sparkno = S6100
sparkxy = ceil(-16+var(2))*const(size.xscale),ceil((-15+var(3))*const(size.xscale))
hitsound   = S1500,1
guardsound = S3,0
animtype = Hard
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -2.5
air.velocity = -1.5,.5

[State 1500]
type = Explod
trigger1 = movehit && numtarget
anim = 8230
ID = 1550
pos = ceil(-var(2))*const(size.xscale),ceil(((-15+var(3))*const(size.xscale)) - p2dist y)
postype = p2
bindtime = -1
removetime = 24
sprpriority = 3
ownpal = 1
persistent = 0
ignorehitpause = 1

[State 1500]
type = Helper
trigger1 = movehit && numtarget
helpertype = Normal
name = "disperse"
id = 1550
stateno	= 1550
pos = ceil(-var(2))*const(size.xscale),ceil(((-15+var(3))*const(size.xscale)) - p2dist y)
postype	= p2
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[Statedef 1510]
type    = A
movetype= A
physics = A
poweradd= -60
ctrl = 0
anim = 1500
sprpriority = 2

[State 1510]
type = VelSet
trigger1 = animelem = 1
y = 0
ignorehitpause = 1
persistent = 1

[State 1510]
type = PlaySnd
trigger1 = animelemtime(2) = 0
value = 1500,0
ignorehitpause = 1
volume = 192
freqmul = .9+(random/5000)

[State 1510]
type = Explod
trigger1 = animelemtime(2) = 0
anim = 8200
ID = 1500
pos = ceil(13*const(size.xscale)),ceil(-18*const(size.yscale))
bindtime = -1
removetime = 8
pausemovetime = 9999
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
scale = const(size.xscale),const(size.yscale)

[State 1510]
type = Explod
trigger1 = animelemtime(2) = 0
anim = 8210
ID = 1501
pos = ceil(10*const(size.xscale)),ceil(-17*const(size.yscale))
bindtime = -1
removetime = 10
pausemovetime = 9999
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
scale = ceil(const(size.xscale)),ceil(const(size.yscale))

[State 1510]
type = Explod
trigger1 = animelemtime(2) = 0
anim = 8210
ID = 1502
pos = ceil(17*const(size.xscale)),ceil(-18*const(size.yscale))
bindtime = -1
removetime = 10
pausemovetime = 9999
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
scale = const(size.xscale),const(size.yscale)

[State 1510]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = Normal
name = "gun fire"
id = 1540
stateno	= 1540
pos = ceil(10*const(size.xscale)),ceil(-17*const(size.yscale))
postype	= p1
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 1510]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = Normal
name = "gun fire"
id = 1541
stateno	= 1541
pos = ceil(17*const(size.xscale)),ceil(-18*const(size.yscale))
postype	= p1
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 1510]
type = PalFX
trigger1 = animelem = 2
time = 4
add = 35,0,35
mul = 256,96,256
color = 256
ignorehitpause = 1
persistent = 1

[State 1510]
type = VelSet
trigger1 = animelemtime(2) = 3
x = -3
y = 1
ignorehitpause = 1
persistent = 1

[State 1510]
type = VarRandom
trigger1 = 1
v = 2
range = -2,2
ignorehitpause = 1

[State 1510]
type = VarRandom
trigger1 = 1
v = 3
range = -4,4
ignorehitpause = 1

[State 1510]
type = HitDef
trigger1 = !time
attr = A, SA
damage    = 75,15
guardflag = HA
pausetime = 8,8
sparkno = S1
guard.sparkno = S6100
sparkxy = ceil(-16+var(2))*const(size.xscale),ceil((-15+var(3))*const(size.xscale))
hitsound   = S1500,1
guardsound = S3,0
animtype = Hard
ground.type = High
ground.slidetime = 16
ground.hittime  = 22
ground.velocity = -2.75
air.velocity = -1.75,.5

[State 1510]
type = Explod
trigger1 = movehit && numtarget
anim = 8230
ID = 1550
pos = ceil(-var(2))*const(size.xscale),ceil(((-15+var(3))*const(size.xscale)) - p2dist y)
postype = p2
bindtime = -1
removetime = 24
sprpriority = 3
ownpal = 1
persistent = 0
ignorehitpause = 1

[State 1510]
type = Helper
trigger1 = movehit && numtarget
helpertype = Normal
name = "disperse"
id = 1550
stateno	= 1550
pos = ceil(-var(2))*const(size.xscale),ceil(((-15+var(3))*const(size.xscale)) - p2dist y)
postype	= p2
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[Statedef 1520]
type    = A
movetype= A
physics = A
poweradd= -65
ctrl = 0
anim = 1500
sprpriority = 2

[State 1520]
type = VelSet
trigger1 = animelem = 1
y = 0
ignorehitpause = 1
persistent = 1

[State 1520]
type = PlaySnd
trigger1 = animelemtime(2) = 0
value = 1500,0
ignorehitpause = 1
volume = 192
freqmul = .9+(random/5000)

[State 1500]
type = Explod
trigger1 = animelemtime(2) = 0
anim = 8200
ID = 1500
pos = ceil(13*const(size.xscale)),ceil(-18*const(size.yscale))
bindtime = -1
removetime = 8
pausemovetime = 9999
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
scale = const(size.xscale),const(size.yscale)

[State 1500]
type = Explod
trigger1 = animelemtime(2) = 0
anim = 8210
ID = 1501
pos = ceil(10*const(size.xscale)),ceil(-17*const(size.yscale))
bindtime = -1
removetime = 10
pausemovetime = 9999
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
scale = const(size.xscale),const(size.yscale)

[State 1500]
type = Explod
trigger1 = animelemtime(2) = 0
anim = 8210
ID = 1502
pos = ceil(17*const(size.xscale)),ceil(-18*const(size.yscale))
bindtime = -1
removetime = 10
pausemovetime = 9999
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
scale = const(size.xscale),const(size.yscale)

[State 1520]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = Normal
name = "gun fire"
id = 1540
stateno	= 1540
pos = ceil(10*const(size.xscale)),ceil(-17*const(size.yscale))
postype	= p1
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 1520]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = Normal
name = "gun fire"
id = 1541
stateno	= 1541
pos = ceil(17*const(size.xscale)),ceil(-18*const(size.yscale))
postype	= p1
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 1520]
type = Explod
trigger1 = animelemtime(2) = 0
anim = 11500
ID = 1503
pos = 0,0
bindtime = -1
removetime = -1
pausemovetime = 9999
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
scale = const(size.xscale),const(size.yscale)

[State 1520]
type = VelSet
trigger1 = animelemtime(2) = 3
x = -4
y = 1
ignorehitpause = 1
persistent = 1

[State 1520]
type = VarRandom
trigger1 = 1
v = 2
range = -2,2
ignorehitpause = 1

[State 1520]
type = VarRandom
trigger1 = 1
v = 3
range = -4,4
ignorehitpause = 1

[State 1520]
type = HitDef
trigger1 = !time
attr = A, SA
damage    = 90,15
guardflag = HA
pausetime = 8,8
sparkno = S1
guard.sparkno = S6100
sparkxy = ceil(-16+var(2))*const(size.xscale),ceil((-15+var(3))*const(size.xscale))
hitsound   = S1500,1
guardsound = S3,0
animtype = Hard
ground.type = High
ground.slidetime = 17
ground.hittime  = 24
ground.velocity = -3
air.velocity = -2,.5
air.fall = 1

[State 1520]
type = Explod
trigger1 = movehit && numtarget
anim = 8230
ID = 1550
pos = ceil(-var(2))*const(size.xscale),ceil(((-15+var(3))*const(size.xscale)) - p2dist y)
postype = p2
bindtime = -1
removetime = 24
sprpriority = 3
ownpal = 1
persistent = 0
ignorehitpause = 1

[State 1520]
type = Helper
trigger1 = movehit && numtarget
helpertype = Normal
name = "disperse"
id = 1550
stateno	= 1550
pos = ceil(-var(2))*const(size.xscale),ceil(((-15+var(3))*const(size.xscale)) - p2dist y)
postype	= p2
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[Statedef 1540]
movetype = A
ctrl = 0
anim = 1
sprpriority = 3

[State 1540]
type = bindtoparent
trigger1 = 1
pos = ceil(10*const(size.xscale)),ceil(-17*const(size.yscale))
ignorehitpause = 1

[state 1540]
type = varrandom
trigger1 = 1
v = 0
range = 300,500
ignorehitpause = 1

[state 1540]
type = varrandom
trigger1 = 1
v = 1
range = -50,50
ignorehitpause = 1

[State 1540]
type = Explod
trigger1 = time % 3 = 0
anim = 6200
ID = 6200
pos = 0,0
postype = p1
bindtime = 1
vel = var(0)/200,var(1)/200
removetime = 9
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1
scale = .5,.4

[State 1540]
type = DestroySelf
trigger1 = time = 5 || (parent, stateno != 1500 && parent, stateno != 1510 && parent, stateno != 1520)
ignorehitpause = 1
persistent = 1

[Statedef 1541]
movetype = A
ctrl = 0
anim = 1
sprpriority = 3

[State 1541]
type = bindtoparent
trigger1 = 1
pos = ceil(17*const(size.xscale)),ceil(-18*const(size.yscale))
ignorehitpause = 1

[state 1541]
type = varrandom
trigger1 = 1
v = 0
range = 300,500
ignorehitpause = 1

[state 1541]
type = varrandom
trigger1 = 1
v = 1
range = -50,50
ignorehitpause = 1

[State 1541]
type = Explod
trigger1 = time % 3 = 0
anim = 6200
ID = 6200
pos = 0,0
postype = p1
bindtime = 1
vel = var(0)/200,var(1)/200
removetime = 9
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1
scale = .5,.4

[State 1541]
type = DestroySelf
trigger1 = time = 5 || (parent, stateno != 1500 && parent, stateno != 1510 && parent, stateno != 1520)
ignorehitpause = 1
persistent = 1

[Statedef 1550]
movetype = A
ctrl = 0
anim = 1
sprpriority = 3

[state 1550]
type = screenbound
value = 1
trigger1 = 1
ignorehitpause = 1
persistent = 1

[state 1550]
type = null;velset
x = ifelse(parent, stateno = 1500,-2.5,ifelse(parent, stateno = 1510,-2.75,-3))
trigger1 = time = 0
ignorehitpause = 1
persistent = 0

[state 1550]
type = varrandom
trigger1 = 1
v = 0
range = -8,8
ignorehitpause = 1

[state 1550]
type = varrandom
trigger1 = 1
v = 1
range = -6,6
ignorehitpause = 1

[state 1550]
type = varrandom
trigger1 = 1
v = 2
range = -150,150
ignorehitpause = 1

[state 1550]
type = varrandom
trigger1 = 1
v = 3
range = -550,-350
ignorehitpause = 1

[State 1550]
type = Explod
trigger1 = time % 2 = 0 && time <= 10
anim = 6200
ID = 6200
pos = var(0)+p2dist x,var(1)-p2dist y
postype = p2
bindtime = 1
vel = var(2)/200,var(3)/200
removetime = 18
scale = .5,.75
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 1550]
type = DestroySelf
trigger1 = time = 15
ignorehitpause = 1
persistent = 1



;-------------------------------------------------------------------------
; Ki Shield
[Statedef 1777]
type = S
physics = S
velset = 0,0
ctrl = 0
anim = 1777
poweradd = -100

[State 200, 1]
type = PlaySnd
trigger1 = time = 1
value = 500, 4
channel = 1
volume = 255


[State 1600, PlayerPush]
type = PlayerPush
trigger1 = time > 6
value = 0

[State 1600, NoHit]
type = NotHitBy
trigger1 = time > 6
value = SCA
time = 1

[State 1600, VelSetY]
Type = VelSet
Trigger1 = Time = 0
y = 0

[State 1600, PlaySND]
type = PlaySnd
trigger1 = Time = 7
value = 1600, 0


[State 1600, Shield.Helper]
type = Helper
trigger1 = Time = 8
name = "Shield"
stateno = 1788
postype = p1
pos = -2, -22
keyctrl = 0
ownpal = 1
id = 1788
size.xscale = 0.6
size.yscale = 0.6

[State 735, 2]
type=ChangeState
trigger1=animtime = 0
value=1666
ctrl=1

;-------------------------------------------------------------------------
; Ki Shield End
[Statedef 1666]
type = S
physics = S
velset = 0,0
ctrl = 0
anim = 1778

[State 735, 2]
type=ChangeState
trigger1=animtime = 0
value=0
ctrl=1



;---------------------------------------------------------------------------
;Ki Shield Start: Used in State 1600
[StateDef 1788]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 1779
ctrl = 0
sprpriority = 4

[State 10100, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 10100, Next]
type = Changestate
trigger1 = time = 5
value = 1799

;---------------------------------------------------------------------------
;Ki Shield End: Used in State 1600
[StateDef 1799]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 1779
ctrl = 0
sprpriority = 4

[State 10102, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 10102, DestroySelf]
type = DestroySelf
trigger1= animtime = 0

;--------------------------------------------
[Statedef 1600]
type    = S
movetype= A
physics = S
poweradd= -50
ctrl = 0
anim = 1600
sprpriority = 1
juggle  = 1
velset = 0,0

[State 1600]
type=PlaySnd
trigger1=time=0
value=1600,0
volume=0
channel=3
freqmul=1.0
ignorehitpause=1
persistent=0

[State 1600]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = normal
name = "Clone"
ID = 1600
pos = 0,0
postype = p1
facing = 1
stateno = 1601
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1600]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 1610]
type    = S
movetype= A
physics = S
poweradd= -50
ctrl = 0
anim = 1600
sprpriority = 1
juggle  = 1
velset = 0,0

[State 1610]
type=PlaySnd
trigger1=time=0
value=1600,0
volume=0
channel=3
freqmul=1.0
ignorehitpause=1
persistent=0

[State 1610]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = normal
name = "Clone"
ID = 1600
pos = 0,0
postype = p1
facing = 1
stateno = 1602
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1610]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 1620]
type    = S
movetype= A
physics = S
poweradd= -50
ctrl = 0
anim = 1600
sprpriority = 1
juggle  = 1
velset = 0,0

[State 1620]
type=PlaySnd
trigger1=time=0
value=1600,0
volume=0
channel=3
freqmul=1.0
ignorehitpause=1
persistent=0

[State 1620]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = normal
name = "Clone"
ID = 1600
pos = 0,0
postype = p1
facing = 1
stateno = 1603
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 1620]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 1601]
movetype= A
ctrl = 0
anim = 1601
sprpriority = 0

[State 1601]
type = PalFX
trigger1 = anim = 1601
time = 1
add = 56,-56,56
mul = 378,96,378
sinadd = 0,0,0,1
invertall = 0
color = 256
ignorehitpause = 1
persistent = 1

[State 1601]
type = VelSet
trigger1 = time = 0
x = 6.5
y = -2.7
ignorehitpause = 1

[State 1601]
type = Gravity
trigger1 = pos y < 0 && anim = 1601
ignorehitpause=1
persistent=1

[State 1601]
type = VelSet
trigger1 = (pos y >= 0 && time > 0) || movecontact
x = 0
y = 0
ignorehitpause = 1
persistent = 1

[State 1601]
type = HitDef
trigger1 = AnimElem = 3 && pos y < 0 && anim = 1601
attr = A, NA
animtype = Medium
damage = 35,6
hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkno = S-1
guard.sparkno = S-1
sparkxy = 0,0
hitsound = S0,2
guardsound = S3,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -4
air.velocity = -2.5,-1.8
palfx.time = 20
palfx.mul = 256,96,256
palfx.add = 35,0,35

[State 1601]
type = EnvColor
trigger1 = (pos y >= 0 && time > 0) || movecontact
value = 255,255,255
time = 2
ignorehitpause = 1
persistent = 0

[State 1601]
type=ChangeAnim
trigger1 = (pos y >= 0 && time > 0) || movecontact
value = 3800
ignorehitpause = 1
persistent = 0

[State 1601]
type = AssertSpecial
trigger1 = anim = 3800
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1601]
type = Helper
trigger1 = (pos y >= 0 && time > 0) || movecontact
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(-11*const(size.xscale)), ceil(-37*const(size.yscale))
postype	= p1
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 1601]
type = Helper
trigger1 = (pos y >= 0 && time > 0) || movecontact
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(13*const(size.xscale)), ceil(-17*const(size.yscale))
postype	= p1
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 1601]
type = Helper
trigger1 = (pos y >= 0 && time > 0) || movecontact
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(-14*const(size.xscale)), ceil(-4*const(size.yscale))
postype	= p1
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 1601]
type = EnvShake
trigger1 = (pos y >= 0 && time > 0) || movecontact
time = 10
freq = 60
ampl = -2
ignorehitpause = 1
persistent = 0

[State 1601]
type = SprPriority
trigger1 = (pos y >= 0 && time > 0) || movecontact
value = 5
ignorehitpause = 1
persistent = 0

[State 1601]
type = PlaySnd
trigger1 = (pos y >= 0 && time > 0) || movecontact
value = 4000,1
volume=0
channel=7
freqmul=1.0
ignorehitpause=1
persistent=0

[State 1601]
type=PosAdd
trigger1 = (pos y >= 0 && time > 0) || movecontact
x = ceil(-6*const(size.yscale))
y = ceil(-16*const(size.yscale))
ignorehitpause = 1
persistent = 0

[State 1601]
type = AfterImage
trigger1 = time = 0
time = 99
length = 3
palcolor = 256
palinvertall = 0
palbright = 40,30,40
palcontrast = 200,60,200
palpostbright = 0,0,0
paladd = 50,0,50
palmul = .8,.3,.8
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 1601]
type = AfterImage
trigger1 = anim = 3800
time = 24
length = 2
palcolor = 256
palinvertall = 0
palbright = 10,5,10
palcontrast = 32,0,32
palpostbright = 0,0,0
paladd = 0,0,0
palmul = .4,.15,.4
timegap = 3
framegap = 1
trans = add
ignorehitpause = 1
persistent = 0

[State 1601]
type = AfterImageTime
trigger1 = (pos y >= 0 && time > 0) || movecontact
trigger2 = anim = 3800 && animtime = 0
time = 0
ignorehitpause = 1
persistent = 1

[State 1601]
type = DestroySelf
trigger1 = anim = 3800 && animtime = 0
ignorehitpause = 1
persistent = 1

[Statedef 1602]
movetype= A
ctrl = 0
anim = 1602
sprpriority = 0

[State 1602]
type = PalFX
trigger1 = anim = 1602
time = 1
add = 56,-56,56
mul = 378,96,378
sinadd = 0,0,0,1
invertall = 0
color = 256
ignorehitpause = 1
persistent = 1

[State 1602]
type = VelSet
trigger1 = time = 0
x = 3.3
y = -4.5
ignorehitpause = 1

[State 1602]
type = Gravity
trigger1 = pos y < 0 && anim = 1602
ignorehitpause=1
persistent=1

[State 1602]
type = VelSet
trigger1 = (pos y >= 0 && time > 0) || movecontact
x = 0
y = 0
ignorehitpause=1
persistent=1

[State 1602]
type = HitDef
trigger1 = AnimElem = 2 && pos y < 0 && anim = 1602
attr = A, NA
animtype = Medium
damage = 35,6
hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkno = S-1
guard.sparkno = S-1
sparkxy = 0,0
hitsound = S0,0
guardsound = S3,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -3
air.velocity = -1.6,-1.6
palfx.time = 20
palfx.mul = 256,96,256
palfx.add = 35,0,35

[State 1602]
type = EnvColor
trigger1 = (pos y >= 0 && time > 0) || movecontact
value = 255,255,255
time = 2
ignorehitpause = 1
persistent = 0

[State 1602]
type=ChangeAnim
trigger1 = (pos y >= 0 && time > 0) || movecontact
value = 3800
ignorehitpause = 1
persistent = 0

[State 1602]
type = AssertSpecial
trigger1 = anim = 3800
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1602]
type = Helper
trigger1 = (pos y >= 0 && time > 0) || movecontact
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(-11*const(size.xscale)), ceil(-37*const(size.yscale))
postype	= p1
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 1602]
type = Helper
trigger1 = (pos y >= 0 && time > 0) || movecontact
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(13*const(size.xscale)), ceil(-17*const(size.yscale))
postype	= p1
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 1602]
type = Helper
trigger1 = (pos y >= 0 && time > 0) || movecontact
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(-14*const(size.xscale)), ceil(-4*const(size.yscale))
postype	= p1
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 1602]
type = EnvShake
trigger1 = (pos y >= 0 && time > 0) || movecontact
time = 10
freq = 60
ampl = -2
ignorehitpause = 1
persistent = 0

[State 1602]
type = SprPriority
trigger1 = (pos y >= 0 && time > 0) || movecontact
value = 5
ignorehitpause = 1
persistent = 0

[State 1602]
type = PlaySnd
trigger1 = (pos y >= 0 && time > 0) || movecontact
value = 4000,1
volume=0
channel=7
freqmul=1.0
ignorehitpause=1
persistent=0

[State 1602]
type=PosAdd
trigger1 = (pos y >= 0 && time > 0) || movecontact
x = ceil(-3*const(size.yscale))
y = ceil(-16*const(size.yscale))
ignorehitpause = 1
persistent = 0

[State 1602]
type = AfterImage
trigger1 = time = 0
time = 99
length = 3
palcolor = 256
palinvertall = 0
palbright = 40,30,40
palcontrast = 200,60,200
palpostbright = 0,0,0
paladd = 50,0,50
palmul = .8,.3,.8
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 1602]
type = AfterImage
trigger1 = anim = 3800
time = 24
length = 2
palcolor = 256
palinvertall = 0
palbright = 10,5,10
palcontrast = 32,0,32
palpostbright = 0,0,0
paladd = 0,0,0
palmul = .4,.15,.4
timegap = 3
framegap = 1
trans = add
ignorehitpause = 1
persistent = 0

[State 1602]
type = AfterImageTime
trigger1 = (pos y >= 0 && time > 0) || movecontact
trigger2 = anim = 3800 && animtime = 0
time = 0
ignorehitpause = 1
persistent = 1

[State 1602]
type = DestroySelf
trigger1 = anim = 3800 && animtime = 0
ignorehitpause = 1
persistent = 1

[Statedef 1603]
movetype= A
ctrl = 0
anim = 1603
sprpriority = 0

[State 1603]
type = PalFX
trigger1 = anim = 1603
time = 1
add = 56,-56,56
mul = 378,96,378
sinadd = 0,0,0,1
invertall = 0
color = 256
ignorehitpause = 1
persistent = 1

[State 1603]
type = VelSet
trigger1 = time = 0
x = 1.4
y = -7.5
ignorehitpause = 1

[State 1603]
type = Gravity
trigger1 = pos y < 0 && anim = 1603
ignorehitpause=1
persistent=1

[State 1603]
type = VelSet
trigger1 = (pos y >= 0 && time > 0) || movecontact
x = 0
y = 0
ignorehitpause=1
persistent=1

[State 1603]
type = HitDef
trigger1 = AnimElem = 3 && pos y < 0 && anim = 1603
attr = A, NA
animtype = Medium
damage = 35,6
hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkno = S-1
guard.sparkno = S-1
sparkxy = 0,0
hitsound = S0,2
guardsound = S3,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -1.8
air.velocity = -1.5,-3
palfx.time = 20
palfx.mul = 256,96,256
palfx.add = 35,0,35

[State 1603]
type = EnvColor
trigger1 = (pos y >= 0 && time > 0) || movecontact
value = 255,255,255
time = 2
ignorehitpause = 1
persistent = 0

[State 1603]
type=ChangeAnim
trigger1 = (pos y >= 0 && time > 0) || movecontact
value = 3800
ignorehitpause = 1
persistent = 0

[State 1603]
type = AssertSpecial
trigger1 = anim = 3800
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1603]
type = Helper
trigger1 = (pos y >= 0 && time > 0) || movecontact
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(-11*const(size.xscale)), ceil(-37*const(size.yscale))
postype	= p1
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 1603]
type = Helper
trigger1 = (pos y >= 0 && time > 0) || movecontact
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(13*const(size.xscale)), ceil(-17*const(size.yscale))
postype	= p1
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 1603]
type = Helper
trigger1 = (pos y >= 0 && time > 0) || movecontact
helpertype = Normal
name = "disperse"
id = 6200
stateno	= 6200
pos = ceil(-14*const(size.xscale)), ceil(-4*const(size.yscale))
postype	= p1
ownpal = 1
keyctrl	= 0
ignorehitpause = 1
persistent = 0

[State 1603]
type = EnvShake
trigger1 = (pos y >= 0 && time > 0) || movecontact
time = 10
freq = 60
ampl = -2
ignorehitpause = 1
persistent = 0

[State 1603]
type = SprPriority
trigger1 = (pos y >= 0 && time > 0) || movecontact
value = 5
ignorehitpause = 1
persistent = 0

[State 1603]
type = PlaySnd
trigger1 = (pos y >= 0 && time > 0) || movecontact
value = 4000,1
volume=0
channel=7
freqmul=1.0
ignorehitpause=1
persistent=0

[State 1603]
type=PosAdd
trigger1 = (pos y >= 0 && time > 0) || movecontact
x = 0
y = ceil(-16*const(size.yscale))
ignorehitpause = 1
persistent = 0

[State 1603]
type = AfterImage
trigger1 = time = 0
time = 99
length = 3
palcolor = 256
palinvertall = 0
palbright = 40,30,40
palcontrast = 200,60,200
palpostbright = 0,0,0
paladd = 50,0,50
palmul = .8,.3,.8
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 1603]
type = AfterImage
trigger1 = anim = 3800
time = 24
length = 2
palcolor = 256
palinvertall = 0
palbright = 10,5,10
palcontrast = 32,0,32
palpostbright = 0,0,0
paladd = 0,0,0
palmul = .4,.15,.4
timegap = 3
framegap = 1
trans = add
ignorehitpause = 1
persistent = 0

[State 1603]
type = AfterImageTime
trigger1 = (pos y >= 0 && time > 0) || movecontact
trigger2 = anim = 3800 && animtime = 0
time = 0
ignorehitpause = 1
persistent = 1

[State 1603]
type = DestroySelf
trigger1 = anim = 3800 && animtime = 0
ignorehitpause = 1
persistent = 1

;------------------------------------------------
[Statedef 1850, 1]
type = A
movetype = A
physics = A
juggle  = 0
velset = 0, -6
ctrl = 0
anim = 1800

[State 1850, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S4000,2

[State 1850, 2]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 6
time = 20
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9

[State 1850, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1900
ctrl = 1

;---------------------------------------------------------------------------
;fly
[Statedef 1900]
type = S
ctrl = 0
anim = 1900
velset = 0,0

[State 1900, para1]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = Var(2) = 0
trigger2 = Pos Y < -405
x = 0
y = 0

[State 1900, para2]
type = ChangeAnim
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = Anim != 1900
value = 1900

[State 1500,fuwavar(1)]
type = VarSet
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
Trigger1 = var(2) != 2
Trigger2 = var(2) = 2
Trigger2 = Vel Y >= 1.6
v = 2
value = 1

[State 1500,fuwavar(2)]
type = VarSet
Triggerall = var(2) = 1
Trigger1 = Vel Y <= -1.6
Trigger2 = P2BodyDist Y > 250
Trigger2 = Vel Y < 0
v = 2
value = 2

[State 1500,fuwaUp]
type = VelAdd
Trigger1 = var(2) = 1
y = -0.1

[State 1500,fuwaDown]
type = VelAdd
Trigger1 = var(2) = 2
y = 0.1

[State 1900,fuwaEnd]
type = VelSet
triggerall = Var(2) != 0
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
trigger3 = command = "holdup"
trigger4 = command = "holddown"
y = 0

[State 1900,fuwaEndVar]
type = VarSet
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
trigger3 = command = "holdup"
trigger4 = command = "holddown"
v = 2
value = 0

[State 1900, UpBorder]
type = PosSet
trigger1 = Pos Y < -405
y = -405

[State 1500, UpBorder2a]
type = PosAdd
trigger1 = P2BodyDist Y > 405
trigger1 = Vel Y < 0
y = 1

[State 1500, UpBorder2b]
type = VelSet
trigger1 = P2BodyDist Y > 405
trigger1 = Vel Y < 0
y = 0

[State 1900, GoDown1]
type = VelAdd
trigger1 = command = "holddown"
y = 0.17

[State 1900,GoDown2]
type = VelSet
trigger1 = command = "holddown"
trigger1 = Vel Y < 0
y = 0

[State 1900, GoUpAnim]
type = ChangeAnim
trigger1 = Anim != 1904
trigger1 = command = "holddown"
value = 1904

[State 1900, GoUp1]
type = VelAdd
trigger1 = command = "holdup"
y = -0.17

[State 1900,GoUp2]
type = VelSet
trigger1 = command = "holdup"
trigger1 = Vel Y > 0
y = 0

[State 1900, GoUpAnim]
type = ChangeAnim
trigger1 = Anim != 1903
trigger1 = command = "holdup"
value = 1903

[State 1900, GoBack1]
type = VelAdd
trigger1 = command = "holdback"
x = -0.17

[State 1900,GoBack2]
type = VelSet
trigger1 = command = "holdback"
trigger1 = Vel X > 0
x = 0

[State 1900, GoBackAnim]
type = ChangeAnim
triggerall = Anim != 1902
trigger1 = command = "holdback"
;trigger2 = command = "holddown"
value = 1902

[State 1900, GoFwd1]
type = VelAdd
trigger1 = command = "holdfwd"
x = 0.17

[State 1900,GoFwd2]
type = VelSet
trigger1 = command = "holdfwd"
trigger1 = Vel X < 0
x = 0

[State 1900, GoFwdAnim]
type = ChangeAnim
trigger1 = Anim != 1901
trigger1 = command = "holdfwd"
value = 1901

[State 1900, Land1]
type = ChangeState
Trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 1900,Turn]
type = Turn
trigger1 = P2dist X < 0

[State 1900,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 50
ctrl = 1

[State 1900,WinALose]
type = ChangeState
trigger1 = Win = 1
trigger2 = Lose = 1
value = 50


; Tronco
[Statedef 2020]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2020
poweradd = -150
sprpriority = 1

[State 200, 1]
type = PlaySnd
trigger1 = time = 1
value = 500, 3
channel = 1
volume = 255

[State 200, 1]
type = PlaySnd
trigger1 = time = 46
value = 12, 9
channel = 1
volume = 255

[State 1000]
type = helper
trigger1 = time = 20
helpertype = normal
name = "lanza"
size.xscale = 0.7
size.yscale = 0.7
pos = -10,-5+(random%11)-5
postype = back
facing = 1
stateno = 2021
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1


[State 1100]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1900

[State 1100]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 2021]
type    = S
movetype= A
juggle  = 1
velset = 6,0
ctrl = 0
anim = 2021
sprpriority = 4

[State 1000]
type = AfterImage
trigger1 = time = 0
time = 80
trans = add
TimeGap  = 1
FrameGap = 1
length = 10
PalContrast =  200, 0, 200
PalBright = 30,0,30

[State 1000]
type = Veladd
trigger1 = time >= 0
x = .33

[State 1101]
type = HitDef
trigger1 = time = 0
attr = S, SA
damage    = 40,12
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5,5
numhits = 1
sparkno = S2022
guard.sparkno = S2022
sparkxy = -26,-28
hitsound = S400,4
guardsound = S400,4
ground.type = High
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -3.7, -5
airguard.velocity = -1.9,-2.4
air.type = Hard
air.velocity = -2.7,-5.5
air.hittime = 12

;[State 1401]
;type = Helper
;trigger1 = movehit && time>0
;name = "sangre"
;stateno = 2023
;;postype = p2
;pos = 28,-28
;size.xscale = 0.7
;size.yscale = 0.7
;facing = 1
;keyctrl = 0
;ownpal = 1

[State 1101]
type = DestroySelf
trigger1 = time = 70

; Tronco 2
[Statedef 2024]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2020
poweradd = -150
sprpriority = 1

[State 200, 1]
type = PlaySnd
trigger1 = time = 1
value = 500, 3
channel = 1
volume = 255

[State 200, 1]
type = PlaySnd
trigger1 = time = 46
value = 12, 9
channel = 1
volume = 255

[State 1000]
type = helper
trigger1 = time = 20
helpertype = normal
name = "lanza"
size.xscale = 0.7
size.yscale = 0.7
pos = -10,-45+(random%11)-5
postype = back
facing = 1
stateno = 2021
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1


[State 1100]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1900

[State 1100]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Tronco 3
[Statedef 2025]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2020
poweradd = -150
sprpriority = 1

[State 200, 1]
type = PlaySnd
trigger1 = time = 1
value = 500, 3
channel = 1
volume = 255

[State 200, 1]
type = PlaySnd
trigger1 = time = 46
value = 12, 9
channel = 1
volume = 255

[State 1000]
type = helper
trigger1 = time = 20
helpertype = normal
name = "lanza"
size.xscale = 0.7
size.yscale = 0.7
pos = -10,-85+(random%11)-5
postype = back
facing = 1
stateno = 2021
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1


[State 1100]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1900

[State 1100]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;Tronco Helper
[StateDef 2023]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 2022
ctrl = 0
sprpriority = 1

[State 1405] No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1405, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;Kanashibari no Jyuts
[Statedef 2026]
type    = S
movetype= A
physics = S
poweradd= -250
anim = 2000
ctrl = 0
velset = 0,0

[State 1300]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000,0
volume = 255

[State 1300]
type = PlaySnd
trigger1 = AnimElem = 11
value = 500,5
volume = 255

[State 1300, resplandor]
type = allpalfx
trigger1 = time = 0
trigger2 = time = 6
trigger3 = time = 14
trigger4 = time = 22
trigger5 = time = 30
trigger5 = time = 36
time = 12
postype = p1
sprpriority = 3
add = 0,0,0
sinadd = 220,220,220,60

[State 1300, 1]
type = Projectile
trigger1 = AnimElem = 2
projanim = 2010
projremovetime = 10
attr = S, NA
damage    = 0
animtype = Medium
guardflag = MA
pausetime = 0,250
sparkxy = -1, -1
sparkno = -1
guard.sparkno = -1
hitsound   = S1234
guardsound = S1234
ground.type = High
ground.velocity = 0
ground.slidetime = 10
ground.hittime  = 12

[State 1300, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1900

[State 1300, 4]
type = ChangeState
trigger1 = AnimTime = 0 && power > 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Clon Move
[Statedef 2200]
type    = S
movetype= A
physics = S
anim = 2200
ctrl = 0
velset = 0,0
sprpriority = 1
poweradd = -2000

[State 3500]
type = PlaySnd
trigger1 = time = 0
value = 3000,0
ignorehitpause = 1

[State 3500]
type = Explod
trigger1 = time = 5
anim = 11000
ID = 3500
pos = 25,ceil(-18*const(size.yscale))
bindtime = -1
removetime = 24
supermove = 24
pausemovetime = 24
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 3500]
type = Explod
trigger1 = time = 5
anim = 10000
ID = 3500
pos = 0,0
postype = left
bindtime = -1
removetime = 24
supermove = 24
pausemovetime = 24
sprpriority = -999
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 1300]
type = PlaySnd
trigger1 = time = 3
value = 600,2
volume = 255

[State 2200, Clon]
type = Explod
trigger1 = time = 30
Anim = 2251
Pos = 0, 0
velocity = 0.45, 0.0
Id = 2251
sprpriority = 0
removeongethit = 1
removetime = 72
Postype = p1
SuperMove = 1
scale = 1, 1
palfx.mul = 256,96,256
palfx.add = 35,0,35

[State 1601]
type = PalFX
trigger1 = anim = 2251
time = 1
add = 56,-56,56
mul = 378,96,378
sinadd = 0,0,0,1
invertall = 0
color = 256
ignorehitpause = 1
persistent = 1

[State 2200];(Helper)
type = Helper
trigger1 = time = 102
ID = 2250
pos = 33,0
postype = p1
stateno = 2250
helpertype = normal
SuperMove = 1
keyctrl = 1
name = "Clon"
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 2200, End]
type = ChangeState
trigger1 = NumHelper(2250) = 1
value = 2201
ctrl = 1
;---------------------------------------------------------------------------
;Clon Move
[Statedef 2201]
type    = S
movetype= A
physics = S
anim = 2201
ctrl = 0
velset = 0,0
sprpriority = 1


[State 2201, PlaySND]
type = PlaySnd
trigger1 = time = 0 && prevstateno != 2212
value = 500,9

[State 2201, Forward]
type = ChangeState
trigger1 = command = "holdfwd"
value = 2210

[State 2201, Back]
type = ChangeState
trigger1 = command = "holdback"
value = 2211

[State 2201, Up]
type = ChangeState
trigger1 = command = "holdup"
value = 2212

[State 2201, Down]
type = ChangeState
trigger1 = command = "holddown"
value = 2213

[State 2201, End]
type = ChangeState
trigger1 = NumHelper(2250) = 0 && time >= 10
trigger2 = (command = "c" && command = "z") && time > 1
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Clon Move hacia adelante
[Statedef 2210]
type    = S
movetype= A
physics = S
anim = 2202
ctrl = 0
velset = 0,0
sprpriority = 1

[State 2210, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 500,9

[State 2210, End]
type = ChangeState
trigger1 = NumHelper(2250) = 0
trigger2 = command = "c" && command = "z"
value = 0
ctrl = 1

[State 2210, ChangeStill]
type = ChangeState
trigger1 = command != "holdfwd" && command != "holdback" && command != "holdup" && command != "holddown"
value = 2201

[State 2210, ChangeBack]
type = ChangeState
trigger1 = command != "holdfwd" && command = "holdback"
value = 2211

[State 2210, ChangeUp]
type = ChangeState
trigger1 = command != "holdfwd" && command = "holdup"
value = 2212

[State 2210, ChangeDown]
type = ChangeState
trigger1 = command != "holdfwd" && command = "holddown"
value = 2213
;---------------------------------------------------------------------------
;Clon Move hacia atras
[Statedef 2211]
type    = S
movetype= A
physics = S
anim = 2203
ctrl = 0
velset = 0,0
sprpriority = 1

[State 2211, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 500,9

[State 2211, End]
type = ChangeState
trigger1 = NumHelper(2250) = 0
trigger2 = (command = "c" && command = "z") && time > 1
value = 0
ctrl = 1

[State 2211, ChangeStill]
type = ChangeState
trigger1 = command != "holdfwd" && command != "holdback" && command != "holdup" && command != "holddown"
value = 2201

[State 2211, ChangeFwd]
type = ChangeState
trigger1 = command != "holdback" && command = "holdfwd"
value = 2210

[State 2211, ChangeUp]
type = ChangeState
trigger1 = command != "holdback" && command = "holdup"
value = 2212

[State 2211, ChangeDown]
type = ChangeState
trigger1 = command != "holdback" && command = "holddown"
value = 2213
;---------------------------------------------------------------------------
;Clon Move hacia arriba
[Statedef 2212]
type    = S
movetype= A
physics = S
anim = 2204
ctrl = 0
velset = 0,0
sprpriority = 1

[State 2212, PlaySND]
type = PlaySnd
trigger1 = time = 0 && prevstateno != 2201
value = 500,9

[State 2212, End]
type = ChangeState
trigger1 = NumHelper(2250) = 0 && time >= 10
trigger2 = (command = "c" && command = "z") && time > 1
value = 0
ctrl = 1

[State 2212, ChangeStill]
type = ChangeState
trigger1 = command != "holdfwd" && command != "holdback" && command != "holdup" && command != "holddown"
value = 2201

[State 2212, ChangeBack]
type = ChangeState
trigger1 = command = "holdback"
value = 2211

[State 2212, ChangeFwd]
type = ChangeState
trigger1 = command = "holdfwd"
value = 2210

[State 2212, ChangeDown]
type = ChangeState
trigger1 = command != "holdup" && command = "holddown"
value = 2213
;---------------------------------------------------------------------------
;Clon Move hacia abajo
[Statedef 2213]
type    = S
movetype= A
physics = S
anim = 2205
ctrl = 0
velset = 0,0
sprpriority = 1

[State 2213, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 500,9

[State 2213, End]
type = ChangeState
trigger1 = NumHelper(2250) = 0 && time >= 10
trigger2 = (command = "c" && command = "z") && time > 1
value = 0
ctrl = 1

[State 2213, ChangeStill]
type = ChangeState
trigger1 = command != "holdfwd" && command != "holdback" && command != "holdup" && command != "holddown"
value = 2201

[State 2213, ChangeBack]
type = ChangeState
trigger1 = command = "holdback"
value = 2211

[State 2213, ChangeUp]
type = ChangeState
trigger1 = command != "holddown" && command = "holdup"
value = 2212

[State 2213, ChangeFwd]
type = ChangeState
trigger1 = command = "holdfwd"
value = 2210
;---------------------------------------------------------------------------
;Clon
[Statedef 2250]
type    = S
movetype= A
physics = S
anim = 2207
ctrl = 0
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Anim = 2207; && AnimElemTime(2) >= 19
trigger1 = command = "holdfwd"
value = 2208

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Anim = 2207; && AnimElemTime(2) >= 19
trigger1 = command = "holdback"
value = 2209

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Anim = 2208; && AnimElemTime(2) >= 19
trigger1 = command != "holdfwd"
value = 2207

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Anim = 2209; && AnimElemTime(2) >= 19
trigger1 = command != "holdback"
value = 2207

[State 1601]
type = PalFX
trigger1 = anim = 2207
trigger2 = anim = 2208
trigger3 = anim = 2209
time = 1
add = 56,-56,56
mul = 378,96,378
sinadd = 0,0,0,1
invertall = 0
color = 256
ignorehitpause = 1
persistent = 1

[State 2250, No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 2250, No Time]
type = AssertSpecial
trigger1 = (time >= 0 && Parent, stateno = 2201)
flag = timerfreeze

[State 2250, Turn]
type = null;Turn
trigger1 = movecontact = 0
trigger1 = P2dist X < -30

[State 2250, Still]
type = VelSet
triggerall = Var(39) != 1
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
x = 0
y = 0

[State 2250, GoUp1]
type = VelSet
triggerall = pos Y > -512 && Var(39) != 1
trigger1 = (Parent, stateno = 2212||Parent, stateno = 2210||Parent, stateno = 2211) && command = "holdup"
y = -5

[State 2250, GoUpVelAdd]
type = VelAdd
triggerall = vel Y > -7  && Var(39) != 1
trigger1 = (Parent, stateno = 2212||Parent, stateno = 2210||Parent, stateno = 2211) && command = "holdup"
y = -0.5

[State 2250, GoDown1]
type = VelSet
triggerall = pos Y < 0 && Var(39) != 1
trigger1 = (Parent, stateno = 2213||Parent, stateno = 2210||Parent, stateno = 2211) && command = "holddown"
y = 5

[State 2250, GoDownVelAdd]
type = VelAdd
triggerall = vel Y < 7 && Var(39) != 1
trigger1 = (Parent, stateno = 2213||Parent, stateno = 2210||Parent, stateno = 2211) && command = "holddown"
y = 0.5

[State 2250, GoBack1]
type = VelSet
triggerall = BackEdgeBodyDist > 10 && Var(39) != 1
trigger1 = Parent, stateno = 2211 && command = "holdback"
x = -5.5

[State 2250, GoBackVelAdd]
type = VelAdd
triggerall = vel x > -8 && Var(39) != 1
trigger1 = Parent, stateno = 2211 && command = "holdback"
x = -0.55

[State 2250, GoFwd1]
type = VelSet
triggerall = FrontEdgeBodyDist > 0 && Var(39) != 1
trigger1 = Parent, stateno = 2210 && command = "holdfwd"
x = 5.5

[State 2250, GoFwdVelAdd]
type = VelAdd
triggerall = vel x < 8 && Var(39) != 1
trigger1 = Parent, stateno = 2210 && command = "holdfwd"
x = 0.55
;-----------------------------------------------------------
[State 2250, AI.Still]
type = VelSet
triggerall = Parent, Var(39) = 1
trigger1 = p2bodydist x > -6
trigger1 = p2bodydist x < -8
trigger1 = p2bodydist y > 50
trigger1 = p2bodydist y < 39
x = 0
y = 40

[State 2250, AI.GoUp1]
type = VelSet
triggerall = pos Y > -512 && Parent, Var(39) = 1
trigger1 = p2bodydist y < 39
y = -3

[State 2250, AI.GoUpVelAdd]
type = VelAdd
triggerall = vel Y > -5  && Parent, Var(39) = 1
trigger1 = p2bodydist y < 39
y = -0.5

[State 2250, AI.GoDown1]
type = VelSet
triggerall = pos Y < 0 && Parent, Var(39) = 1
trigger1 = p2bodydist y > 50
y = 3

[State 2250, AI.GoDownVelAdd]
type = VelAdd
triggerall = vel Y < 5 && Parent, Var(39) = 1
trigger1 = p2bodydist y > 50
y = 0.5

[State 2250, AI.GoBack1]
type = VelSet
triggerall = BackEdgeBodyDist > 0 && Parent, Var(39) = 1
trigger1 = p2bodydist x < -8
x = -3.5

[State 2250, AI.GoBackVelAdd]
type = VelAdd
triggerall = vel x > -5.5 && Parent, Var(39) = 1
trigger1 = p2bodydist x < -8
x = -0.55

[State 2250, AI.GoFwd1]
type = VelSet
triggerall = FrontEdgeBodyDist > 0 && Parent, Var(39) = 1
trigger1 = p2bodydist x > -6
x = 3.5

[State 2250, AI.GoFwdVelAdd]
type = VelAdd
triggerall = vel x < 5.5 && Parent, Var(39) = 1
trigger1 = p2bodydist x > -6
x = 0.55
;------------------------------------------------------------
[State 2250, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, HA
animtype  = Medium
damage    = 290, 97
guardflag = MA
pausetime = 1,1
sparkno = -1
sparkxy = 0,0
hitsound   = -1
guardsound = -1
ground.type = Trip
ground.slidetime = 22
ground.hittime  = 11
ground.velocity = -8,-5
air.velocity = -8,-5

[State 2250,Low Border]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 2250,Camera Follow]
type = Screenbound
triggerall = (Parent, stateno = 2201||Parent, stateno = 2210||Parent, stateno = 2211||Parent, stateno = 2212||Parent, stateno = 2213)
trigger1 = 1
movecamera = 4,4

[State 2250, Explode.Contact]
type = Changestate
trigger1 = MoveContact
value = 2251
ctrl = 1

;[State 2250, Explode.Command]
;type = Changestate
;trigger1 = command = "c" && command = "z"
;value = 2251
;ctrl = 1

[State 2250, Explode.GetHit]
type = HitOverride
trigger1 = time = 0
time = -1
attr = SCA, AA, AT, AP
slot = 0
stateno = 2251
;---------------------------------------------------------------------------
;Clon Explosion
[Statedef 2251]
type    = S
movetype= A
physics = S
anim = 3800
sprpriority = 3
ctrl = 0

[State 2251, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze

[State 2251, VelSet]
type = VelSet
trigger1 = Time >= 1
x = 0
y = 0

[state 2251,PlaySND]
type = playsnd
trigger1 = time = 1
value = 600,3

[State 2251, Die]
type = DestroySelf
trigger1 = animtime = 0
;-----------------------------------------------------

[Statedef 3500]
type    = S
movetype= A
physics = S
poweradd= -1000
ctrl = 0
anim = 3500
sprpriority = 1
juggle  = 1
velset = 0,0

[State 3500]
type = Explod
trigger1 = time = 5
anim = 11000
ID = 3500
pos = 25,ceil(-18*const(size.yscale))
bindtime = -1
removetime = 24
supermove = 24
pausemovetime = 24
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 3500]
type = Explod
trigger1 = time = 5
anim = 10000
ID = 3500
pos = 0,0
postype = left
bindtime = -1
removetime = 24
supermove = 24
pausemovetime = 24
sprpriority = -999
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 3500]
type = PlaySnd
trigger1 = time = 0
value = 3000,0
ignorehitpause = 1

;[State 3500]
;type = SuperPause
;trigger1 = time = 5
;time = 24
;movetime = 0
;unhittable = 1
;ignorehitpause = 1
;persistent = 1
;anim = -1

[State 3500]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "Rock"
ID = 1000
pos = -12-(random%17),-8
postype = back
facing = 1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3500]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "Rock"
ID = 1000
pos = -26-(random%4),-18
postype = back
facing = 1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3500]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "Rock"
ID = 1000
pos = -10-(random%11),-28
postype = back
facing = 1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3500]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "Rock"
ID = 1000
pos = -33-(random%23),-38
postype = back
facing = 1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3500]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "Rock"
ID = 1000
pos = -17-(random%9),-48
postype = back
facing = 1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3500]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 3510]
type    = S
movetype= A
physics = S
poweradd= -1500
ctrl = 0
anim = 3500
sprpriority = 1
juggle  = 1
velset = 0,0

[State 3510]
type = Explod
trigger1 = time = 5
anim = 11000
ID = 3500
pos = 25,ceil(-18*const(size.yscale))
bindtime = -1
removetime = 24
supermove = 24
pausemovetime = 24
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 3510]
type = Explod
trigger1 = time = 5
anim = 10000
ID = 3500
pos = 0,0
postype = left
bindtime = -1
removetime = 24
supermove = 24
pausemovetime = 24
sprpriority = -999
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 3510]
type = PlaySnd
trigger1 = time = 0
value = 3000,0
ignorehitpause = 1

;[State 3510]
;type = SuperPause
;trigger1 = time = 5
;time = 24
;movetime = 0
;unhittable = 1
;ignorehitpause = 1
;persistent = 1
;anim = -1

[State 3510]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "Rock"
ID = 1000
pos = 16+(random%11),-8
postype = front
facing = -1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3510]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "Rock"
ID = 1000
pos = 32+(random%6),-16
postype = front
facing = -1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3510]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "Rock"
ID = 1000
pos = 3+(random%12),-24
postype = front
facing = -1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3510]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "Rock"
ID = 1000
pos = 14+(random%9),-32
postype = front
facing = -1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3510]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "Rock"
ID = 1000
pos = 47+(random%5),-40
postype = front
facing = -1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3510]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "Rock"
ID = 1000
pos = 29+(random%14),-48
postype = front
facing = -1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3510]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "Rock"
ID = 1000
pos = 18+(random%22),-56
postype = front
facing = -1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3510]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 3520]
type    = S
movetype= A
physics = S
poweradd= -3000
anim = 3500
sprpriority = 1
ctrl = 0
juggle  = 1
velset = 0,0

[State 3520]
type = Explod
trigger1 = time = 5
anim = 11000
ID = 3500
pos = 25,ceil(-18*const(size.yscale))
bindtime = -1
removetime = 24
supermove = 24
pausemovetime = 24
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 3520]
type = Explod
trigger1 = time = 5
anim = 10000
ID = 3500
pos = 0,0
postype = left
bindtime = -1
removetime = 24
supermove = 24
pausemovetime = 24
sprpriority = -999
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 3520]
type = PlaySnd
trigger1 = time = 0
value = 3000,0
ignorehitpause = 1

;[State 3520]
;type = SuperPause
;trigger1 = time = 5
;time = 24
;movetime = 0
;unhittable = 1
;ignorehitpause = 1
;persistent = 1
;anim = -1

[State 3520]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "Rock"
ID = 1000
pos = 19+(random%13),-8
postype = front
facing = -1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3520]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "Rock"
ID = 1000
pos = -11-(random%7),-8
postype = back
facing = 1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3520]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "Rock"
ID = 1000
pos = 33+(random%11),-14
postype = front
facing = -1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3520]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "Rock"
ID = 1000
pos = -23-(random%26),-20
postype = back
facing = 1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3520]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "Rock"
ID = 1000
pos = 12+(random%8),-26
postype = front
facing = -1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3520]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "Rock"
ID = 1000
pos = -17-(random%4),-32
postype = back
facing = 1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3520]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "Rock"
ID = 1000
pos = 21+(random%11),-38
postype = front
facing = -1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3520]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "Rock"
ID = 1000
pos = -15-(random%19),-44
postype = back
facing = 1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3520]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "Rock"
ID = 1000
pos = 21+(random%14),-50
postype = front
facing = -1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3520]
type = Helper
trigger1 = animelemtime(2) = 1
helpertype = normal
name = "Rock"
ID = 1000
pos = -12-(random%6),-56
postype = back
facing = 1
stateno = 1001
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3520]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 4000]
type    = A
movetype= A
physics = S
poweradd= -1000
ctrl = 0
anim = 4000
sprpriority = 1
juggle  = 1
velset = 0,0

[State 4000]
type = VarRandom
trigger1 = 1
v = 22
range = -2,4
ignorehitpause = 1
persistent = 1

[State 4000]
type = VarRandom
trigger1 = 1
v = 23
range = ceil(-200*const(size.xscale)),ceil(200*const(size.xscale))
ignorehitpause = 1
persistent = 1

[State 4000]
type = VarRandom
trigger1 = 1
v = 24
range = ceil(-700*const(size.yscale)),ceil(-350*const(size.yscale))
ignorehitpause = 1
persistent = 1

[State 4000]
type = VarRandom
trigger1 = 1
v = 25
range = ceil(-30*const(size.xscale)),ceil(30*const(size.xscale))
ignorehitpause = 1
persistent = 1

[State 4000]
type = VarRandom
trigger1 = 1
v = 26
range = ceil(-15*const(size.yscale)),6
ignorehitpause = 1
persistent = 1

[State 4000]
type = Explod
trigger1 = time%4 = 0 && time >= 6 && time <= 72
anim = 6200
ID = 6200
pos = var(25),ceil(var(26))
postype = p1
bindtime = 1
vel = var(23)/200,var(24)/200
removetime = 18
scale = 1, 1
sprpriority = var(22)
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[state 4000]
type = varset
trigger1 = time = 0
value = 0
v = 6
ignorehitpause = 1

[State 4000]
type = VelSet
trigger1 = time = 0
x = 0
y = -1.2
ignorehitpause = 1
persistent = 1

[State 4000]
type = AfterImage
trigger1 = time = 0
time = 5
length = 20
palcolor = 256
palinvertall = 0
palbright = 40,30,40
palcontrast = 200,60,200
palpostbright = 0,0,0
paladd = 0,0,0
palmul = .8,.3,.8
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 4000]
type = VelSet
trigger1 = time = 5
y = 0
ignorehitpause = 1
persistent = 1

[State 4000]
type = PlaySnd
trigger1 = time = 5
value = 4000,0
volume = 192
ignorehitpause = 1
persistent = 1

[State 4000]
type = Explod
trigger1 = time = 6
anim = 3770
ID = 4001
pos = 0,ceil(-10*const(size.yscale))
postype = p1
bindtime = -1
removetime = -1
supermove = 9999
pausemovetime = 9999
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
scale = .5*const(size.xscale),.5*const(size.yscale)

[State 4000]
type = PlaySnd
trigger1 = time >= 6 && time % 10 = 0
value = 4000,3
volume = 192
ignorehitpause = 1
persistent = 1
freqmul = .95+(random/10000)

[State 4000]
type = PlaySnd
trigger1 = animelemtime(3) = 0
value = 4000,1
volume = 192
ignorehitpause = 1
persistent = 1

[State 4000]
type = VarRandom
trigger1 = 1
v = 2
range = 3,9
ignorehitpause = 1
persistent = 1

[State 4000]
type = VarRandom
trigger1 = 1
v = 3
range = 0,1000
ignorehitpause = 1
persistent = 1

[State 4000]
type = Explod
trigger1 = time = 5
anim = 10000
ID = 4000
pos = 0,0
postype = left
bindtime = -1
removetime = 24
supermove = 24
pausemovetime = 24
sprpriority = -999
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 4000]
type = Explod
trigger1 = time = 5
anim = 3700
ID = 4001
pos = 0,ceil(-10*const(size.yscale))
postype = p1
bindtime = -1
removetime = -1
supermove = 9999
pausemovetime = 9999
sprpriority = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
scale = const(size.xscale),const(size.xscale)

[State 4000]
type = RemoveExplod
trigger1 = animelemtime(3) = 0
ID = 4001
ignorehitpause = 1
persistent = 1

[State 4000]
type = Explod
trigger1 = animelemtime(3) = 0
anim = 3702
ID = 4002
pos = 0,ceil(-10*const(size.yscale))
postype = p1
bindtime = -1
removetime = 7
supermove = 9999
pausemovetime = 9999
sprpriority = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
scale = const(size.xscale),const(size.yscale)

[State 4000]
type = VarAdd
triggerall = time <= 72 && time > 0
trigger1 = (command = "x" || command = "y") && var(0) = 0
trigger2 = random < 100 && var(0) = 1
v = 6
value = 1
ignorehitpause = 1
persistent = 1

[State 4000]
type = Helper
trigger1 = var(6) = 4
helpertype = normal
name = "Zzmm"
ID = 4000
pos = 0,ceil(6*const(size.yscale))
facing = 1
stateno = 4001
ownpal = 1
size.xscale = .8*const(size.xscale)
size.yscale = 1.1*const(size.yscale)
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4000, Hitdef 2]
type = HitDef
trigger1 = animelemtime(3) = 0
attr = A,HA
hitflag = MAF
guardflag = M
animtype = Hard
damage = 18,3
pausetime = 0,0
sparkno = S6000
guard.sparkno = S6100
sparkxy = ceil(-var(2))*const(size.xscale),-(ceil(const(size.yscale)*(var(3)/17.5)))
hitsound = S1300, 1
guardsound = S3, 0
ground.type = Low
air.type = Low
ground.slidetime = 20
guard.slidetime = 10
ground.hittime = 35
guard.hittime = 18
ground.velocity = -7.5
guard.velocity = -4.5
air.velocity = -4.5,-4.5
airguard.velocity = -3,-3
ground.cornerpush.veloff = -3
air.cornerpush.veloff = -3
down.cornerpush.veloff = -3
guard.cornerpush.veloff = -3
airguard.cornerpush.veloff = -3
palfx.time = 15
palfx.mul = 256,96,256
palfx.add = 35,0,35
ignorehitpause = 1
persistent = 1
getpower = 0

[State 4000, Hitdef 1]
type = HitDef
trigger1 = time <= 72
trigger1 = time >= 6
attr = A,HA
hitflag = MAF
guardflag = M
animtype = Medium
damage = 18,3
pausetime = 0,0
sparkno = S6050
guard.sparkno = S6100
sparkxy = ceil(-var(2))*const(size.xscale),-(ceil(const(size.yscale)*(var(3)/25)))
hitsound = S4000,2
guardsound = S3, 0
ground.type = Low
air.type = Low
ground.slidetime = 15
guard.slidetime = 8
ground.hittime = 25
guard.hittime = 13
ground.velocity = .25,0
guard.velocity = .125
air.velocity = .2,ifelse(p2dist y < 0, .2, -.4)
airguard.velocity = -.1,-.1
;ground.cornerpush.veloff = -2
;air.cornerpush.veloff = -2
;down.cornerpush.veloff = -2
;guard.cornerpush.veloff = -2
;airguard.cornerpush.veloff = -2
palfx.time = 5
palfx.mul = 192,64,192
palfx.add = 10,0,10
ignorehitpause = 0
persistent = 8
getpower = 0

[State 4000]
type = PlaySnd
trigger1 = time = 0
value = 3000,0
ignorehitpause = 1

[State 4000]
type = SuperPause
trigger1 = time = 5
time = 24
movetime = 0
unhittable = 1
ignorehitpause = 1
persistent = 1
anim = -1

[State 4000]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 0

[Statedef 4001]
movetype= A
juggle  = 2
sprpriority = 0
anim = 3780

[State 4001]
type = ParentVarSet
trigger1 = time = 0
v = 6
value = (parent, var(6))-4
ignorehitpause = 1
persistent = 0

[State 4001]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 4001]
type = PlaySnd
trigger1 = time = 0
value = 4000,4
volume = 192
ignorehitpause = 1
persistent = 1
freqmul = 1.2

[State 4001]
type = EnvShake
trigger1 = animtime = 0
time = 10
freq = 120
ampl = -3
ignorehitpause = 1

[State 4001]
type = Helper
trigger1 = animtime = 0
helpertype = normal
name = "Zzmm1"
ID = 4000
pos = 0,ceil(5*parent, const(size.yscale))
facing = 1
stateno = 4002
ownpal = 1
size.xscale = .6*(parent, const(size.xscale))
size.yscale = .6*(parent, const(size.yscale))
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4001]
type = Helper
trigger1 = animtime = 0
helpertype = normal
name = "Zzmm2"
ID = 4000
pos = 0,5
facing = -1
stateno = 4002
ownpal = 1
size.xscale = .6*(parent, const(size.xscale))
size.yscale = .6*(parent, const(size.yscale))
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4001]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause = 1
persistent = 1

[Statedef 4002]
movetype= A
juggle  = 2
sprpriority = 0
anim = 3790

[State 4002]
type = VarRandom
trigger1 = 1
v = 1
range = 700,1000
ignorehitpause = 1
persistent = 1

[State 4002]
type = VarRandom
trigger1 = 1
v = 2
range = -100,-150
ignorehitpause = 1
persistent = 1

[State 4002]
type = VarRandom
trigger1 = 1
v = 3
range = 600,900
ignorehitpause = 1
persistent = 1

[State 4002]
type = VarRandom
trigger1 = 1
v = 4
range = -150,-200
ignorehitpause = 1
persistent = 1

[State 4002]
type = VarRandom
trigger1 = 1
v = 5
range = 500,800
ignorehitpause = 1
persistent = 1

[State 4002]
type = VarRandom
trigger1 = 1
v = 6
range = -200,-250
ignorehitpause = 1
persistent = 1

[State 4002]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 4002]
type = HitDef
trigger1 = !time
attr = A,HA
hitflag = MAFD
guardflag = M
animtype = Light
damage = 16,10
sparkno = S6000
guard.sparkno = S6100
sparkxy = ceil(5*(parent, const(size.xscale))),ceil(-15*(parent, const(size.yscale)))
hitsound = S4000,5
guardsound = S4000,5
ground.type = High
ground.slidetime = 5
guard.slidetime = 3
ground.hittime = 10
guard.hittime = 5
ground.velocity = 2,0
guard.velocity = 1
air.velocity = 1.4,1.4
airguard.velocity = .7,.7
ignorehitpause = 1
persistent = 1
palfx.time = 15
palfx.mul = 256,96,256
palfx.add = 35,0,35
getpower = 0

[State 4002]
type = Explod
trigger1 = time = 0
anim = 6200
ID = 6200
pos = 0,0
postype = p1
bindtime = 1
vel = var(1)/200,var(2)/200
removetime = 18
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 4002]
type = Explod
trigger1 = time = 0
anim = 6200
ID = 6200
pos = 0,0
postype = p1
bindtime = 1
vel = var(3)/200,var(4)/200
removetime = 18
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 4002]
type = Explod
trigger1 = time = 0
anim = 6200
ID = 6200
pos = 0,0
postype = p1
bindtime = 1
vel = var(5)/200,var(6)/200
removetime = 18
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 4002]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause = 1
persistent = 1

[Statedef 4010]
type    = A
movetype= A
physics = S
poweradd= -2000
ctrl = 0
anim = 4010
sprpriority = 1
juggle  = 1
velset = 0,0

[State 4010]
type = VarRandom
trigger1 = 1
v = 22
range = -2,4
ignorehitpause = 1
persistent = 1

[State 4010]
type = VarRandom
trigger1 = 1
v = 23
range = ceil(-225*const(size.xscale)),ceil(225*const(size.xscale))
ignorehitpause = 1
persistent = 1

[State 4010]
type = VarRandom
trigger1 = 1
v = 24
range = ceil(-800*const(size.yscale)),ceil(-400*const(size.yscale))
ignorehitpause = 1
persistent = 1

[State 4010]
type = VarRandom
trigger1 = 1
v = 25
range = ceil(-30*const(size.xscale)),ceil(30*const(size.xscale))
ignorehitpause = 1
persistent = 1

[State 4010]
type = VarRandom
trigger1 = 1
v = 26
range = ceil(-20*const(size.yscale)),15
ignorehitpause = 1
persistent = 1

[State 4010]
type = Explod
trigger1 = time%4 = 0 && time >= 6 && time <= 72
anim = 6200
ID = 6200
pos = var(25),ceil(var(26))
postype = p1
bindtime = 1
vel = var(23)/200,var(24)/200
removetime = 18
scale = 1, 1
sprpriority = var(22)
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 4010]
type = VarSet
trigger1 = time = 0
v = 10
value = 0
ignorehitpause = 1
persistent = 1

[State 4010]
type = VarSet
trigger1 = time = 0
v = 11
value = 0
ignorehitpause = 1
persistent = 1

[State 4010]
type = VarSet
trigger1 = time = 0
v = 12
value = 0
ignorehitpause = 1
persistent = 1

[State 4010]
type = VarSet
trigger1 = time = 0
v = 13
value = 0
ignorehitpause = 1
persistent = 1

[State 4010]
type = VarSet
trigger1 = time = 0
v = 14
value = 0
ignorehitpause = 1
persistent = 1

[State 4010]
type = VarSet
trigger1 = time = 0
v = 15
value = 0
ignorehitpause = 1
persistent = 1

[State 4010]
type = VelSet
trigger1 = time = 0
x = 0
y = -3
ignorehitpause = 1
persistent = 1

[State 4010]
type = AfterImage
trigger1 = time = 0
time = 5
length = 20
palcolor = 256
palinvertall = 0
palbright = 40,30,40
palcontrast = 200,60,200
palpostbright = 0,0,0
paladd = 0,0,0
palmul = .8,.3,.8
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 4010]
type = VelSet
trigger1 = time = 5
y = 0
ignorehitpause = 1
persistent = 1

[State 4010]
type = PlaySnd
trigger1 = time = 5
value = 4000,0
volume = 192
ignorehitpause = 1
persistent = 1

[State 4010]
type = PlaySnd
trigger1 = animelemtime(3) = 0
value = 4000,1
volume = 192
ignorehitpause = 1
persistent = 1

[State 4010]
type = VarRandom
trigger1 = 1
v = 2
range = 3,9
ignorehitpause = 1
persistent = 1

[State 4010]
type = VarRandom
trigger1 = 1
v = 3
range = 0,1000
ignorehitpause = 1
persistent = 1

[State 4010]
type = Explod
trigger1 = time = 5
anim = 10000
ID = 4000
pos = 0,0
postype = left
bindtime = -1
removetime = 24
supermove = 24
pausemovetime = 24
sprpriority = -999
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 4010]
type = Explod
trigger1 = time = 5
anim = 3701
ID = 4001
pos = 0,ceil(-10*const(size.yscale))
postype = p1
bindtime = -1
removetime = -1
supermove = 9999
pausemovetime = 9999
sprpriority = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
scale = const(size.xscale),const(size.yscale)

[State 4010]
type = Explod
trigger1 = time = 6
anim = 3770
ID = 4001
pos = 0,ceil(-10*const(size.yscale))
postype = p1
bindtime = -1
removetime = -1
supermove = 9999
pausemovetime = 9999
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
scale = .75*const(size.xscale),.75*const(size.yscale)

[State 4010]
type = PlaySnd
trigger1 = time >= 6 && time % 10 = 0
value = 4000,3
volume = 192
ignorehitpause = 1
persistent = 1
freqmul = .95+(random/10000)

[State 4010]
type = Helper
triggerall = time <= 72 && time >= 6
trigger1 = (command = "x" || command = "y") && var(0) = 0
trigger2 = random < 333 && var(0) = 1
helpertype = normal
name = "Zzmm"
ID = 4010
pos = 0,ceil(6*const(size.yscale))
facing = 1
stateno = 4011
ownpal = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)

[State 4010]
type = RemoveExplod
trigger1 = animelemtime(3) = 0
ID = 4001
ignorehitpause = 1
persistent = 1

[State 4010]
type = Explod
trigger1 = animelemtime(3) = 0
anim = 3702
ID = 4002
pos = 0,ceil(-10*const(size.yscale))
postype = p1
bindtime = -1
removetime = 7
supermove = 9999
pausemovetime = 9999
sprpriority = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
scale = 1.4*const(size.xscale),1.4*const(size.yscale)

[State 4010, Hitdef 2]
type = HitDef
trigger1 = animelemtime(3) = 0
attr = A,HA
hitflag = MAF
guardflag = M
animtype = Hard
damage = 18,3
pausetime = 0,0
sparkno = S6000
guard.sparkno = S6100
sparkxy = ceil(-var(2)*const(size.xscale)),-(ceil(const(size.yscale)*(var(3)/17.5)))
hitsound = S1300, 1
guardsound = S3, 0
ground.type = Low
air.type = Low
ground.slidetime = 20
guard.slidetime = 10
ground.hittime = 35
guard.hittime = 18
ground.velocity = -7.5
guard.velocity = -4.5
air.velocity = -4.5,-4.5
airguard.velocity = -3,-3
ground.cornerpush.veloff = -3
air.cornerpush.veloff = -3
down.cornerpush.veloff = -3
guard.cornerpush.veloff = -3
airguard.cornerpush.veloff = -3
palfx.time = 15
palfx.mul = 256,96,256
palfx.add = 35,0,35
ignorehitpause = 1
persistent = 1
getpower = 0

[State 4010, Hitdef 1]
type = HitDef
trigger1 = time <= 72
trigger1 = time >= 6
attr = A,HA
hitflag = MAF
guardflag = M
animtype = Medium
damage = 18,3
pausetime = 0,0
sparkno = S6050
guard.sparkno = S6100
sparkxy = ceil(-var(2)*const(size.xscale)),-(ceil(const(size.yscale)*(var(3)/25)))
hitsound = S4000,2
guardsound = S3, 0
ground.type = Low
air.type = Low
ground.slidetime = 15
guard.slidetime = 8
ground.hittime = 25
guard.hittime = 13
ground.velocity = .25,0
guard.velocity = .125
air.velocity = .2,ifelse(p2dist y < 0, .2, -.4)
airguard.velocity = -.1,-.1
;ground.cornerpush.veloff = -2
;air.cornerpush.veloff = -2
;down.cornerpush.veloff = -2
;guard.cornerpush.veloff = -2
;airguard.cornerpush.veloff = -2
palfx.time = 5
palfx.mul = 192,64,192
palfx.add = 10,0,10
ignorehitpause = 0
persistent = 5
getpower = 0

[State 4010]
type = PlaySnd
trigger1 = time = 0
value = 3000,0
ignorehitpause = 1

[State 4010]
type = SuperPause
trigger1 = time = 5
time = 24
movetime = 0
unhittable = 1
ignorehitpause = 1
persistent = 1
anim = -1

[State 4010]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 0

[Statedef 4011]
movetype= A
juggle  = 2
sprpriority = 0
anim = 1

[State 4011]
type = VarSet
trigger1 = 1
v = 10
value = parent, var(10)
ignorehitpause = 1
persistent = 1

[State 4011]
type = VarSet
trigger1 = 1
v = 11
value = parent, var(11)
ignorehitpause = 1
persistent = 1

[State 4011]
type = VarSet
trigger1 = 1
v = 12
value = parent, var(12)
ignorehitpause = 1
persistent = 1

[State 4011]
type = VarSet
trigger1 = 1
v = 13
value = parent, var(13)
ignorehitpause = 1
persistent = 1

[State 4011]
type = VarSet
trigger1 = 1
v = 14
value = parent, var(14)
ignorehitpause = 1
persistent = 1

[State 4011]
type = VarSet
trigger1 = 1
v = 15
value = parent, var(15)
ignorehitpause = 1
persistent = 1

[State 4011]
type = VarRandom
trigger1 = 1
v = 2
range = -2,2
ignorehitpause = 1

[State 4011]
type = VarRandom
trigger1 = 1
v = 3
range = -5,5
ignorehitpause = 1

[State 4011]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 4011]
type = ChangeAnim
trigger1 = time = 0 && random <= 166 && parent, var(15) = 0
value = 3796
ignorehitpause = 1
persistent = 1

[State 4011]
type = ChangeAnim
trigger1 = time = 0 && random <= 333 && parent, var(14) = 0
trigger1 = random > (166-166*var(11)*var(12)*var(13)*var(14)*var(15))
value = 3795
ignorehitpause = 1
persistent = 1

[State 4011]
type = ChangeAnim
trigger1 = time = 0 && random <= 500 && parent, var(13) = 0
trigger1 = random > (333-167*var(11)*var(12)*var(13)*var(14)-166*var(11)*var(12)*var(13)*var(14)*var(15))
value = 3794
ignorehitpause = 1
persistent = 1

[State 4011]
type = ChangeAnim
trigger1 = time = 0 && random <= 666 && parent, var(12) = 0
trigger1 = random > (500-167*var(11)*var(12)*var(13)-167*var(11)*var(12)*var(13)*var(14)-166*var(11)*var(12)*var(13)*var(14)*var(15))
value = 3793
ignorehitpause = 1
persistent = 1

[State 4011]
type = ChangeAnim
trigger1 = time = 0 && random <= 833 && parent, var(11) = 0
trigger1 = random > (666-166*var(11)*var(12)-167*var(11)*var(12)*var(13)-167*var(11)*var(12)*var(13)*var(14)-166*var(11)*var(12)*var(13)*var(14)*var(15))
value = 3792
ignorehitpause = 1
persistent = 1

[State 4011]
type = ChangeAnim
trigger1 = time = 0 && random <= 1000 && parent, var(10) = 0
trigger1 = random > (833-167*var(11)-166*var(11)*var(12)-167*var(11)*var(12)*var(13)-167*var(11)*var(12)*var(13)*var(14)-166*var(11)*var(12)*var(13)*var(14)*var(15))
value = 3791
ignorehitpause = 1
persistent = 1

[State 4011]
type = PlaySnd
trigger1 = time = 0 && anim != 1
value = 4000,4
volume = 48
ignorehitpause = 1
persistent = 1
freqmul = 1.5

[State 4011]
type = ParentVarSet
trigger1 = time = 0 && anim != 1
v = (anim-3781)
value = 1
ignorehitpause = 1
persistent = 1

[State 4011]
type = VarSet
trigger1 = time = 0
v = 0
value = ifelse(anim<3794,1,-1)
ignorehitpause = 1
persistent = 1

[State 4011]
type = VarSet
trigger1 = time = 0 && (anim = 3791||anim = 3795)
v = 1
value = 1
ignorehitpause = 1
persistent = 1

[State 4011]
type = VarSet
trigger1 = time = 0 && (anim = 3792||anim = 3796)
v = 1
value = 2
ignorehitpause = 1
persistent = 1

[State 4011]
type = VarSet
trigger1 = time = 0 && (anim = 3793||anim = 3794)
v = 1
value = 3
ignorehitpause = 1
persistent = 1

[State 4011]
type = HitDef
trigger1 = !time
attr = A,HA
hitflag = MAFD
guardflag = M
animtype = Light
damage = 8,5
sparkno = S6000
guard.sparkno = S6100
sparkxy = ceil(5+var(2))*(parent, const(size.xscale)),ceil((-20*var(1)+var(3))*(parent, const(size.xscale)))
hitsound = S4000,5
guardsound = S4000,5
ground.type = High
ground.slidetime = 5
guard.slidetime = 3
ground.hittime = 10
guard.hittime = 5
ground.velocity = var(0)*2,0
guard.velocity = 1
air.velocity = var(0)*1.4,1.4
airguard.velocity = .7,.7
ignorehitpause = 1
persistent = 1
palfx.time = 15
palfx.mul = 256,96,256
palfx.add = 35,0,35
getpower = 0

[State 4011]
type = ParentVarSet
trigger1 = animtime = 0 
v = (anim-3781)
value = 0
ignorehitpause = 1
persistent = 1

[State 4011]
type = DestroySelf
trigger1 = animtime = 0
trigger2 = time != 0 && anim = 1
ignorehitpause = 1
persistent = 1

[Statedef 4020]
type    = A
movetype= A
physics = S
poweradd= -3000
ctrl = 0
anim = 4020
sprpriority = 1
juggle  = 1
velset = 0,0

[State 4020]
type = VarRandom
trigger1 = 1
v = 22
range = -2,4
ignorehitpause = 1
persistent = 1

[State 4020]
type = VarRandom
trigger1 = 1
v = 23
range = ceil(-250*const(size.xscale)),ceil(250*const(size.xscale))
ignorehitpause = 1
persistent = 1

[State 4020]
type = VarRandom
trigger1 = 1
v = 24
range = ceil(-900*const(size.yscale)),ceil(-450*const(size.yscale))
ignorehitpause = 1
persistent = 1

[State 4020]
type = VarRandom
trigger1 = 1
v = 25
range = ceil(-40*const(size.xscale)),ceil(40*const(size.xscale))
ignorehitpause = 1
persistent = 1

[State 4020]
type = VarRandom
trigger1 = 1
v = 26
range = ceil(-25*const(size.xscale)),25
ignorehitpause = 1
persistent = 1

[State 4020]
type = Explod
trigger1 = time%4 = 0 && time >= 6 && time <= 78
anim = 6200
ID = 6200
pos = ceil(var(25)),ceil(var(26))
postype = p1
bindtime = 1
vel = var(23)/200,var(24)/200
removetime = 18
scale = 1, 1
sprpriority = var(22)
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[state 4020]
type = varset
trigger1 = time = 0
value = 0
v = 6
ignorehitpause = 1

[state 4020]
type = varset
trigger1 = time = 0
value = 0
v = 7
ignorehitpause = 1

[State 4020]
type = VelSet
trigger1 = time = 0
x = 0
y = -5
ignorehitpause = 1
persistent = 1

[State 4020]
type = AfterImage
trigger1 = time = 0
time = 5
length = 20
palcolor = 256
palinvertall = 0
palbright = 40,30,40
palcontrast = 200,60,200
palpostbright = 0,0,0
paladd = 0,0,0
palmul = .8,.3,.8
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 4020]
type = VelSet
trigger1 = time = 5
y = 0
ignorehitpause = 1
persistent = 1

[State 4020]
type = PlaySnd
trigger1 = time = 5
value = 4000,0
volume = 192
ignorehitpause = 1
persistent = 1

[State 4020]
type = PlaySnd
trigger1 = animelemtime(3) = 0
value = 4000,1
volume = 192
ignorehitpause = 1
persistent = 1

[State 4020]
type = VarRandom
trigger1 = 1
v = 2
range = 3,9
ignorehitpause = 1
persistent = 1

[State 4020]
type = VarRandom
trigger1 = 1
v = 3
range = 0,1000
ignorehitpause = 1
persistent = 1

[State 4020]
type = Explod
trigger1 = time = 5
anim = 10000
ID = 4000
pos = 0,0
postype = left
bindtime = -1
removetime = 24
supermove = 24
pausemovetime = 24
sprpriority = -999
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 4020]
type = Explod
trigger1 = time = 5
anim = 3701
ID = 4001
pos = 0,ceil(-10*const(size.yscale))
postype = p1
bindtime = -1
removetime = -1
supermove = 9999
pausemovetime = 9999
sprpriority = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
scale = const(size.xscale),const(size.yscale)

[State 4020]
type = Explod
trigger1 = time = 6
anim = 3770
ID = 4001
pos = 0,ceil(-10*const(size.yscale))
postype = p1
bindtime = -1
removetime = -1
supermove = 9999
pausemovetime = 9999
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
scale = const(size.xscale),const(size.yscale)

[State 4020]
type = PlaySnd
trigger1 = time >= 6 && time % 10 = 0
value = 4000,3
volume = 192
ignorehitpause = 1
persistent = 1
freqmul = .95+(random/10000)

[State 4020]
type = RemoveExplod
trigger1 = animelemtime(3) = 0
ID = 4001
ignorehitpause = 1
persistent = 1

[State 4020]
type = Explod
trigger1 = animelemtime(3) = 0
anim = 3702
ID = 4002
pos = 0,ceil(-10*const(size.yscale))
postype = p1
bindtime = -1
removetime = 7
supermove = 9999
pausemovetime = 9999
sprpriority = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
scale = 1.7*const(size.xscale),1.7*const(size.yscale)

[State 4020]
type = VarRandom
trigger1 = 1
v = 4
range = 666,1333
ignorehitpause = 1
persistent = 1

[State 4020]
type = VarRandom
trigger1 = 1
v = 5
range = 666,1333
ignorehitpause = 1
persistent = 1

[State 4020]
type = VarAdd
triggerall = time <= 78 && time > 0
trigger1 = command = "x" && var(0) = 0
trigger2 = random < 100 && var(0) = 1
v = 6
value = 1
ignorehitpause = 1
persistent = 1

[State 4020]
type = VarAdd
triggerall = time <= 78 && time > 0
trigger1 = command = "y" && var(0) = 0
trigger2 = random < 100 && var(0) = 1
v = 7
value = 1
ignorehitpause = 1
persistent = 1

[State 4020]
type = Helper
trigger1 = var(6) = 2
helpertype = normal
name = "Zzmm"
ID = 4020
pos = ceil(80*var(4)/1000)*const(size.xscale),ceil(25*const(size.yscale))
facing = 1
stateno = 4021
ownpal = 1
size.xscale = (.5*var(4)/1000)*const(size.xscale)
size.yscale = (.5*var(4)/1000)*const(size.yscale)
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 4020]
type = Helper
trigger1 = var(7) = 2
helpertype = normal
name = "Zzmm"
ID = 4020
pos = ceil(-80*var(4)/1000)*const(size.xscale),ceil(25*const(size.yscale))
facing = -1
stateno = 4021
ownpal = 1
size.xscale = (.5*var(4)/1000)*const(size.xscale)
size.yscale = (.5*var(4)/1000)*const(size.yscale)
ignorehitpause = 1

[State 4020, Hitdef 2]
type = HitDef
trigger1 = animelemtime(3) = 0
attr = A,HA
hitflag = MAF
guardflag = M
animtype = Hard
damage = 18,3
pausetime = 0,0
sparkno = S6000
guard.sparkno = S6100
sparkxy = ceil(-var(2))*const(size.xscale),-(ceil(const(size.yscale)*(var(3)/17.5)))
hitsound = S1300, 1
guardsound = S3, 0
ground.type = Low
air.type = Low
ground.slidetime = 20
guard.slidetime = 10
ground.hittime = 35
guard.hittime = 18
ground.velocity = -7.5
guard.velocity = -4.5
air.velocity = -4.5,-4.5
airguard.velocity = -3,-3
ground.cornerpush.veloff = -3
air.cornerpush.veloff = -3
down.cornerpush.veloff = -3
guard.cornerpush.veloff = -3
airguard.cornerpush.veloff = -3
palfx.time = 15
palfx.mul = 256,96,256
palfx.add = 35,0,35
ignorehitpause = 1
persistent = 1
getpower = 0

[State 4020, Hitdef 1]
type = HitDef
trigger1 = time <= 78
trigger1 = time >= 6
attr = A,HA
hitflag = MAF
guardflag = M
animtype = Medium
damage = 18,3
pausetime = 0,0
sparkno = S6050
guard.sparkno = S6100
sparkxy = ceil(-var(2))*const(size.xscale),-(ceil(const(size.yscale)*(var(3)/25)))
hitsound = S4000,2
guardsound = S3, 0
ground.type = Low
air.type = Low
ground.slidetime = 15
guard.slidetime = 8
ground.hittime = 25
guard.hittime = 13
ground.velocity = .25,0
guard.velocity = .125
air.velocity = .2,ifelse(p2dist y < 0, .2, -.4)
airguard.velocity = -.1,-.1
;ground.cornerpush.veloff = -2
;air.cornerpush.veloff = -2
;down.cornerpush.veloff = -2
;guard.cornerpush.veloff = -2
;airguard.cornerpush.veloff = -2
palfx.time = 5
palfx.mul = 192,64,192
palfx.add = 10,0,10
ignorehitpause = 0
persistent = 4
getpower = 0

[State 4020]
type = PlaySnd
trigger1 = time = 0
value = 3000,0
ignorehitpause = 1

[State 4020]
type = SuperPause
trigger1 = time = 5
time = 24
movetime = 0
unhittable = 1
ignorehitpause = 1
persistent = 1
anim = -1

[State 4020]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 0

[Statedef 4021]
movetype= A
juggle  = 2
sprpriority = 0
anim = 3750

[State 4021]
type = AfterImage
trigger1 = time = 0
time = 7
length = 3
palcolor = 256
palinvertall = 0
palbright = 40,30,40
palcontrast = 200,60,200
palpostbright = 0,0,0
paladd = 0,0,0
palmul = .8,.3,.8
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 4021]
type = VarRandom
trigger1 = time = 0
v = 0
range = 1,2
ignorehitpause = 1
persistent = 1

[State 4021]
type = VarRandom
trigger1 = time = 0
v = 1
range = 0,2
ignorehitpause = 1
persistent = 1

[State 4021]
type = VarRandom
trigger1 = time = 0
v = 2
range = -450,450
ignorehitpause = 1
persistent = 1

[State 4021]
type = VarSet
trigger1 = (var(2) >= -200)&&(var(2) <= 200)
v = 2
value = ifelse(random<=499,200,-200)
ignorehitpause = 1
persistent = 1

[State 4021]
type = VarRandom
trigger1 = time = 0
v = 3
range = -1050,-750
ignorehitpause = 1
persistent = 1

[State 4021]
type = VarRandom
trigger1 = time = 0
v = 4
range = 1,2
ignorehitpause = 1
persistent = 1

[State 4021]
type = VarRandom
trigger1 = time = 0
v = 5
range = 0,2
ignorehitpause = 1
persistent = 1

[State 4021]
type = VarRandom
trigger1 = time = 0
v = 6
range = -450,450
ignorehitpause = 1
persistent = 1

[State 4021]
type = VarSet
trigger1 = (var(6) >= -200)&&(var(6) <= 200)
v = 6
value = ifelse(random<=499,200,-200)
ignorehitpause = 1
persistent = 1

[State 4021]
type = VarRandom
trigger1 = time = 0
v = 7
range = -1050,-750
ignorehitpause = 1
persistent = 1

[State 4021]
type = VarRandom
trigger1 = time = 0
v = 8
range = 1,2
ignorehitpause = 1
persistent = 1

[State 4021]
type = VarRandom
trigger1 = time = 0
v = 9
range = 0,2
ignorehitpause = 1
persistent = 1

[State 4021]
type = VarRandom
trigger1 = time = 0
v = 10
range = -450,450
ignorehitpause = 1
persistent = 1

[State 4021]
type = VarSet
trigger1 = (var(10) >= -200)&&(var(10) <= 200)
v = 10
value = ifelse(random<=499,200,-200)
ignorehitpause = 1
persistent = 1

[State 4021]
type = VarRandom
trigger1 = time = 0
v = 11
range = -1050,-750
ignorehitpause = 1
persistent = 1

[State 6200]
type = VarRandom
trigger1 = time = 0
v = 12
range = 200,700
ignorehitpause = 1
persistent = 1

[State 6200]
type = VarRandom
trigger1 = time = 0
v = 13
range = -700,-200
ignorehitpause = 1
persistent = 1

[State 6200]
type = VarRandom
trigger1 = time = 0
v = 14
range = -700,-200
ignorehitpause = 1
persistent = 1

[State 6200]
type = VarRandom
trigger1 = time = 0
v = 15
range = -700,-200
ignorehitpause = 1
persistent = 1

[State 6200]
type = VarRandom
trigger1 = time = 0
v = 16
range = -400,-100
ignorehitpause = 1
persistent = 1

[State 6200]
type = VarRandom
trigger1 = time = 0
v = 17
range = -900,-500
ignorehitpause = 1
persistent = 1

[State 6200]
type = VarRandom
trigger1 = time = 0
v = 18
range = 100,400
ignorehitpause = 1
persistent = 1

[State 6200]
type = VarRandom
trigger1 = time = 0
v = 19
range = -900,-500
ignorehitpause = 1
persistent = 1

[State 4021]
type = Explod
trigger1 = time = 0
anim = 6200
ID = 6200
pos = 0,0
postype = p1
bindtime = 1
vel = var(12)/200,var(13)/200
removetime = 18
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 4021]
type = Explod
trigger1 = time = 0
anim = 6200
ID = 6200
pos = 0,0
postype = p1
bindtime = 1
vel = var(14)/200,var(15)/200
removetime = 18
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 4021]
type = Explod
trigger1 = time = 0
anim = 6200
ID = 6200
pos = 0,0
postype = p1
bindtime = 1
vel = var(16)/200,var(17)/200
removetime = 18
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 4021]
type = Explod
trigger1 = time = 0
anim = 6200
ID = 6200
pos = 0,0
postype = p1
bindtime = 1
vel = var(18)/200,var(19)/200
removetime = 18
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 4021]
type = Explod
trigger1 =time = 3 
anim = 8000 + var(0)*10 + var(1)
ID = 1002
pos = 0,0
bindtime = 1
vel = var(2)/200,var(3)/200
accel = 0,0.4
removetime = ceil(-var(3)/40)
supermove = 0
pausemovetime = 0
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 4021]
type = Explod
trigger1 =time = 3 
anim = 8000 + var(4)*10 + var(5)
ID = 1002
pos = 0,0
bindtime = 1
vel = var(6)/200,var(7)/200
accel = 0,0.4
removetime = ceil(-var(7)/40)
supermove = 0
pausemovetime = 0
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 4021]
type = Explod
trigger1 =time = 3 
anim = 8000 + var(8)*10 + var(9)
ID = 1002
pos = 0,0
bindtime = 1
vel = var(10)/200,var(11)/200
accel = 0,0.4
removetime = ceil(-var(11)/40)
supermove = 0
pausemovetime = 0
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State 4021]
type = EnvColor
trigger1 = time = 0
value = 255,255,255
time = 3
ignorehitpause = 1

[State 4021]
type = EnvShake
trigger1 = time = 0
time = 15
freq = 180
ampl = -4
ignorehitpause = 1

[State 4021]
type = ParentVarSet
trigger1 = time = 0
v = 6
value = 0
ignorehitpause = 1
persistent = 1

[State 4021]
type = ParentVarSet
trigger1 = time = 0
v = 7
value = 0
ignorehitpause = 1
persistent = 1

[State 4021]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 4021]
type = PlaySnd
trigger1 = time = 0
value = 4000,4
volume = 192
ignorehitpause = 1
persistent = 1

[State 4021]
type = HitDef
trigger1 = animelem = 1
attr = A,HA
hitflag = MAFD
guardflag = M
animtype = Light
damage = 13,8
sparkno = S3755
guard.sparkno = S3755
sparkxy = ceil(25*parent, const(size.xscale)),ceil(-45*parent, const(size.xscale))
hitsound = S4000,5
guardsound = S4000,5
ground.type = High
ground.slidetime = 5
guard.slidetime = 3
ground.hittime = 10
guard.hittime = 5
ground.velocity = 2,0
guard.velocity = 1
air.velocity = 1.4,1.4
airguard.velocity = .7,.7
ignorehitpause = 1
persistent = 1
palfx.time = 15
palfx.mul = 256,96,256
palfx.add = 35,0,35
getpower = 0

[State 4021]
type = Explod
trigger1 = animtime = 0 && movecontact = 0
anim = 3760
ID = 4021
pos = 0,0
bindtime = 1
vel = 1,-.75
accel = 0,.02
removetime = 14
sprpriority = 2
ontop = 0
ownpal = 1
supermove = 9999
pausemovetime = 9999
removeongethit = 0
ignorehitpause = 1
persistent = 1
scale = (.5*parent, const(size.xscale)),(.5*parent, const(size.yscale))

[State 4021]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause = 1
persistent = 1

[Statedef 4500]
type    = S
movetype= A
physics = S
poweradd= -1000
velset = 0,0
ctrl = 0
anim = 4500
sprpriority = 1

[State 4500]
type = Explod
trigger1 = time = 5
anim = 11000
ID = 4500
pos = 8,-23*const(size.yscale)
bindtime = -1
removetime = 24
supermove = 24
pausemovetime = 24
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 4500]
type = Explod
trigger1 = time = 5
anim = 10000
ID = 4500
pos = 0,0
postype = left
bindtime = -1
removetime = 24
supermove = 24
pausemovetime = 24
sprpriority = -999
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 4500]
type = Explod
trigger1 = time = 5
anim = 8500
ID = 8500
pos = 55,200
postype = left
bindtime = -1
removetime = 324
supermove = 24
pausemovetime = 24
sprpriority = -999
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 4500]
type = Explod
trigger1 = time = 5
anim = 8501
ID = 8501
pos = 33,213
postype = left
bindtime = -1
removetime = 324
supermove = 324
pausemovetime = 24
sprpriority = -999
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 4500]
type = PlaySnd
trigger1 = time = 0
value = 3000,0
ignorehitpause = 1

[State 4000]
type = PlaySnd
trigger1 = time = 0
value = 3100,0
volume = 192
ignorehitpause = 1
persistent = 1

[State 4500]
type = SuperPause
trigger1 = time = 5
time = 324
movetime = 324
unhittable = 1
ignorehitpause = 1
persistent = 1
anim = -1

[State 4500]
type = VarSet
trigger1 = time = 0
v = 9
value = 1
ignorehitpause = 1
persistent = 1

[State 4500]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


[Statedef 41]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 41]
type=PlaySnd
trigger1=Time=0 
value=50,0

[State 41, 0]
type = AfterImage
trigger1 = time = 0
time = 30
length = 15
palcolor = 256
palinvertall = 0
palbright = 40,30,40
palcontrast = 200,60,200
palpostbright = 0,0,0
paladd = 50,0,50
palmul = .8,.3,.8
timegap = 2
framegap = 5
trans = add
ignorehitpause = 1
persistent = 1

[State 41, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 41, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 41, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 41, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=1, const(velocity.jump.fwd.x)*1.8, const(velocity.jump.back.x)*1.8)
y = const(velocity.jump.y)

[State 41, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[statedef 6200]
anim = 1
velset = 0,0

[State 6200]
type = VarRandom
trigger1 = time = 0
v = 0
range = 200,700
ignorehitpause = 1
persistent = 1

[State 6200]
type = VarRandom
trigger1 = time = 0
v = 1
range = 200,700
ignorehitpause = 1
persistent = 1

[State 6200]
type = VarRandom
trigger1 = time = 0
v = 10
range = 200,700
ignorehitpause = 1
persistent = 1

[State 6200]
type = VarRandom
trigger1 = time = 0
v = 11
range = -700,-200
ignorehitpause = 1
persistent = 1

[State 6200]
type = VarRandom
trigger1 = time = 0
v = 20
range = -700,-200
ignorehitpause = 1
persistent = 1

[State 6200]
type = VarRandom
trigger1 = time = 0
v = 21
range = 200,700
ignorehitpause = 1
persistent = 1

[State 6200]
type = VarRandom
trigger1 = time = 0
v = 30
range = -700,-200
ignorehitpause = 1
persistent = 1

[State 6200]
type = VarRandom
trigger1 = time = 0
v = 31
range = -700,-200
ignorehitpause = 1
persistent = 1

[State 6200]
type = VarRandom
trigger1 = time = 0
v = 40
range = -250,250
ignorehitpause = 1
persistent = 1

[State 6200]
type = VarRandom
trigger1 = time = 0
v = 41
range = -100,400
ignorehitpause = 1
persistent = 1

[State 6200]
type = VarRandom
trigger1 = time = 0 && random%8 < 4
v = 50
range = -250,-125
ignorehitpause = 1
persistent = 1

[State 6200]
type = VarRandom
trigger1 = time = 0 && random%8 >= 4
v = 50
range = -125,500
ignorehitpause = 1
persistent = 1

[State 6200]
type = VarRandom
trigger1 = time = 0 && random%12 < 6
v = 51
range = -250,-125
ignorehitpause = 1
persistent = 1

[State 6200]
type = VarRandom
trigger1 = time = 0 && random%12 >= 6
v = 51
range = -125,500
ignorehitpause = 1
persistent = 1

[State 6200]
type = Explod
trigger1 = time = 0
anim = 6200
ID = 6200
pos = 0,0
postype = p1
bindtime = 1
vel = var(0)/200,var(1)/200
removetime = 18
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 6200]
type = Explod
trigger1 = time = 0
anim = 6200
ID = 6200
pos = 0,0
postype = p1
bindtime = 1
vel = var(10)/200,var(11)/200
removetime = 18
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 6200]
type = Explod
trigger1 = time = 0
anim = 6200
ID = 6200
pos = 0,0
postype = p1
bindtime = 1
vel = var(20)/200,var(21)/200
removetime = 18
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 6200]
type = Explod
trigger1 = time = 0
anim = 6200
ID = 6200
pos = 0,0
postype = p1
bindtime = 1
vel = var(30)/200,var(31)/200
removetime = 18
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 6200]
type = Explod
trigger1 = time = 0
anim = 6200
ID = 6200
pos = 0,0
postype = p1
bindtime = 1
vel = var(40)/200,var(41)/200
removetime = 18
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 6200]
type = Explod
trigger1 = time = 0
anim = 6200
ID = 6200
pos = 0,0
postype = p1
bindtime = 1
vel = var(50)/200,var(51)/200
removetime = 16
scale = 1, 1
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 6200]
type = DestroySelf
trigger1 = time = 0
ignorehitpause = 1
persistent = 1
