;Cell Imperfect 1.5 powered by SaWWeN Productions ^^
;---------------------------------------------------------------------------
;Constants
;---------------------------------------------------------------------------
[Data]
life = 1000
attack = 100
defence = 100
power = 3000
fall.defence_up = 50
liedown.time = 60
airjuggle = 25
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 150
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 1
yscale = 1
ground.back = 20
ground.front = 20
air.back = 20    
air.front = 20   
height = 105   
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0     
head.pos = 0, -95  
mid.pos = -0, -65    
shadowoffset = 0     
draw.offset = 0,0    

[Velocity]
walk.fwd  = 2.2
walk.back = -2.0
run.fwd  = 6.8, 0    
run.back = -4,-6
jump.neu = 0,-10
jump.back = -3    
jump.fwd = 3      
runjump.back = -3.5,-4.4
runjump.fwd = 3.5,-4.4
airjump.neu = 0,-7.5  
airjump.back = -2.55  
airjump.fwd = 2.5        

[Movement]
airjump.num = 1
airjump.height = 35
yaccel = .48
stand.friction = .85 
crouch.friction = .82 
;---------------------------------------------------------------------------
; Intros and endings
;---------------------------------------------------------------------------
; Lose by Time Over
[Statedef 170]
type = S
ctrl = 0
anim = 5300
velset = 0,0

[State 180, 0]
type = PlaySnd
trigger1 = time = 0 ;time = 0 AnimElem = 1
value = 777,1
volume = 355

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S

[State 180, Random3]
type = ChangeState
triggerall = Life > 250
trigger1 = !time
value = 181

[State 180, GoToTired]
type = ChangeState
triggerall = Life <= 250
trigger1 = !time
value = 182

;---------------------------------------------------------------------------
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 180, 0]
type = PlaySnd
trigger1 = time = 0 ;time = 0 AnimElem = 1
value = 4,4
volume = 255

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 182, 0]
type = PlaySnd
trigger1 = time = 0
value = 777,1
volume = 255

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


;---------------------------------------------------------------------------
; Intro state decider
[Statedef 190]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Random >= 500
value = 191

[State 180, 1]
type = ChangeState
trigger1 = Random >= 500
value = 192

[State 180, 1]
type = ChangeState
trigger1 = Random >= 500
value = 193

[State 180, 1]
type = ChangeState
trigger1 = Random >= 500
value = 194
;---------------------------------------------------------------------------
; Intro 1
[Statedef 191]
type = S
ctrl = 0
anim = 196
velset = 0,0

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191]
type=PlaySnd
trigger1= animelem = 17
value=777,0
volume=355

[State 191]
type=PlaySnd
trigger1= animelem = 23
value=40,0
volume=255

[State 191]
type = Explod
trigger1 = ANIMELEM = 17
persistent = 0
anim = 777
ID = 777
postype = p1
pos = -12,-107
scale = 0.70,0.70
removetime = 60

[State 191]
type = Explod
trigger1 = ANIMELEM = 23
persistent = 0
anim = 8903
ID = 8903
postype = p1
pos = 0,0
scale = 0.55,0.55
removetime = 30

[State 191, Larva]
type = Explod
trigger1 = time = 265
persistent = 0
anim = 197
ID = 197
postype = p1
pos = 0,0
removetime = -2
sprpriority = -1

[State 191]
type=PlaySnd
trigger1= animelem = 1
value=777,2
volume=255

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
;Intro 2
[Statedef 192]
type = S
ctrl = 0
anim = 195

[State 192]
type=AssertSpecial
trigger1=time<300
flag=Intro

[State 192]
type = ScreenBound
trigger1 = 1
value = 0

[State 192]
type=PosSet
trigger1=time=0
y=-315

[State 192]
type=VelSet
trigger1=time=20
y=30

[State 192]
type=VelSet
trigger1=time=30
y=0

[State 192]
type=PlaySnd
trigger1=time=1
value=5,3
volume=355

[State 192]
type=Explod
trigger1=time=28
anim=6310
ID=192
pos=0,50
scale = 0.85,0.85
bindtime=1
sprpriority=3
ownpal=1

[State 192]
type = EnvShake
trigger1 = Time >= 30
time = 15
freq = 120
ampl = -2

[State 192]
type = EnvColor
trigger1=time=30
value = 255,255,255
time = 1

[State 192]
type=VelSet
trigger1=time=60
y=.15

[State 192]
type=VelSet
trigger1=pos y >= 0
y=0

[State 192]
type=ChangeState
trigger1=time=300
value=0
;---------------------------------------------------------------------------
; Intro 3
[Statedef 193]
type = S
ctrl = 0
anim = 194
velset = 0,0

[State 193, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192]
type=PlaySnd
trigger1=time=1
value=1601,3
volume=355

[State 0, StopSnd]
type = StopSnd
trigger1 = (command = "a") || (command = "b")  || (command = "c")  || (command = "x")  || (command = "y")  || (command = "z")|| (life = 0) || stateno != 193;(Time = 90)
trigger1 = time >= 0
channel = -1
value = 0; ir a stand
ctrl = 1

[State 192]
type=PlaySnd
trigger1=time=79
value=1601,2
volume=355

[State 192]
type=PlaySnd
trigger1=time=275
value=1601,4
volume=355

[State 193, Arale]
type = Explod
trigger1 = time = 0
persistent = 0
anim = 193
ID = 193
postype = p1
pos = -20,0
removetime = 320

[State 193, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Intro 4
[Statedef 194]
type = S
ctrl = 0
anim = 196
velset = 0,0

[State 193, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192]
type=PlaySnd
trigger1= animelem = 17
value=777,0
volume=355

[State 192]
type=PlaySnd
trigger1= animelem = 23
value=40,0
volume=255

[State 194]
type = Explod
trigger1 = ANIMELEM = 17
persistent = 0
anim = 777
ID = 777
postype = p1
pos = -12,-107
scale = 0.70,0.70
removetime = 60

[State 194]
type = Explod
trigger1 = ANIMELEM = 23
persistent = 0
anim = 8903
ID = 8903
postype = p1
pos = 0,0
scale = 0.55,0.55
removetime = 30

[State 194, Larva]
type = Explod
trigger1 = time = 265
persistent = 0
anim = 197
ID = 197
postype = p1
pos = 0,0
removetime = -2
sprpriority = -1

[State 192]
type=PlaySnd
trigger1= animelem = 1
value=777,2
volume=255

[State 194, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
;Dialogo
[Statedef 195]
type 			= S
movetype		= I
physics		= N
anim			= 192
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2700]
type = superpause
trigger1 = time = 0
time = 330
movetime = 330
anim = -1
darken = 0

[State 195:		PlaySnd]
type			= PlaySnd
trigger1		= Time = 0
value			= S4,3
channel		= 0

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 195:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Standing Basics:
;---------------------------------------------------------------------------
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0             
ctrl = 0                   
anim = 200        
poweradd = 10 

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,0
volume = 0
channel = 1

[State 200]
type = PlaySnd
triggerall = random >= 300
trigger1 = Time = 1
value = 0, 9

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Light
air.animtype = Light
;fall.animtype = Back
priority = 3,Hit
damage = 15,5
pausetime = 12,12
;guard.pausetime = 0,0
sparkno = S11000
guard.sparkno = S11000
sparkxy = -20,-56
hitsound = S1,0
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 7
guard.slidetime = 7
ground.hittime = 7
guard.hittime = 7
air.hittime = 7
ground.velocity = -3,0
air.velocity = -3,-2
givepower = 40, 40
getpower = 80,80

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 202]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 202
poweradd = 10

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,0
volume = 0
channel = 1

[State 200]
type = PlaySnd
triggerall = random >= 300
trigger1 = Time = 1
value = 0, 9

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Light
air.animtype = Light
;fall.animtype = Back
priority = 3,Hit
damage = 15,5
pausetime = 13,13
;guard.pausetime = 0,0
sparkno = S11000
guard.sparkno = S11000
sparkxy = -20,-56
hitsound = S1,0
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 7
guard.slidetime = 7
ground.hittime = 7
guard.hittime = 7
air.hittime = 7
ground.velocity = -3,0
air.velocity = -3,-2
givepower = 40, 40
getpower = 80,80

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0             
ctrl = 0                   
anim = 210        
poweradd = 20 

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,1
volume = 0
channel = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 4
y = 0
;ignorehitpause =
;persistent =


[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Medium
air.animtype = Medium
;fall.animtype = Back
priority = 4,Hit
damage = 28,8
pausetime = 10,10
;guard.pausetime = 0,0
sparkno = S11001
guard.sparkno = S11001
sparkxy = -18,-65
hitsound = S1,1
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 9
guard.slidetime = 9
ground.hittime = 9
guard.hittime = 9
air.hittime = 9
ground.velocity = -4,0
air.velocity = -3,-1
givepower = 60, 60
getpower = 120,120

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 225]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
ctrl = 0
anim = 225
poweradd = 20

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,1
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Medium
air.animtype = Medium
;fall.animtype = Back
priority = 4,Hit
damage = 35,8
pausetime = 10,10
;guard.pausetime = 0,0
sparkno = S11001
guard.sparkno = S11001
sparkxy = -13,-52
hitsound = S1,1
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 9
guard.slidetime = 9
ground.hittime = 9
guard.hittime = 9
air.hittime = 9
ground.velocity = -6,0
air.velocity = -4,-2
givepower = 60, 60
getpower = 120,120
fall = 1
air fall = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1


;---------------------------------------------------------------------------
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0             
ctrl = 0                   
anim = 220        
poweradd = 30 

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,2
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Hard
air.animtype = Hard
;fall.animtype = Back
priority = 5,Hit
damage = 35,10
pausetime = 12,12
;guard.pausetime = 0,0
sparkno = S11002
guard.sparkno = S11002
sparkxy = -13,-58
hitsound = S1,2
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
air.hittime = 20
ground.velocity = -6,6
air.velocity = -6,6
givepower = 80, 80
getpower = 140,140
envshake.time = 12
envshake.freq = 120
envshake.ampl = 6
Fall = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0             
ctrl = 0                   
anim = 250        
poweradd = 10 

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,3
volume = 0
channel = 1

[State 200]
type = PlaySnd
triggerall = random >= 300
trigger1 = Time = 1
value = 0, 9

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Medium
air.animtype = Medium
;fall.animtype = Back
priority = 3,Hit
damage = 20,6
pausetime = 12,12
;guard.pausetime = 0,0
sparkno = S11000
guard.sparkno = S11000
sparkxy = -18,-60
hitsound = S1,3
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 12
guard.slidetime = 12
ground.hittime = 12
guard.hittime = 12
air.hittime = 12
ground.velocity = -2,0
air.velocity = -2,-2
givepower = 40, 40
getpower = 80,80

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1


;---------------------------------------------------------------------------
[Statedef 251]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 250
poweradd = 10

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,3
volume = 0
channel = 1

[State 200]
type = PlaySnd
triggerall = random >= 300
trigger1 = Time = 1
value = 0, 9

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Medium
air.animtype = Medium
;fall.animtype = Back
priority = 3,Hit
damage = 20,6
pausetime = 12,12
;guard.pausetime = 0,0
sparkno = S11000
guard.sparkno = S11000
sparkxy = -18,-60
hitsound = S1,3
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 12
guard.slidetime = 12
ground.hittime = 12
guard.hittime = 12
air.hittime = 12
ground.velocity = -2,0
air.velocity = -2,-2
givepower = 40, 40
getpower = 80,80

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 203]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 203
poweradd = 25
sprpriority = 2

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,0
volume = 0
channel = 1

[State 200]
type = PlaySnd
triggerall = random >= 300
trigger1 = Time = 1
value = 0, 9

[State 203, 1]
type = HitDef
trigger1 = AnimElem = 2
damage = 20, 5
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Medium
air.animtype = Medium
priority = 3, Hit
pausetime = 12, 12
sparkno = S11000
guard.sparkno = S11000
sparkxy = -15,-35
hitsound = S1,3
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 13
guard.slidetime = 13
ground.hittime = 13
guard.hittime = 13
air.hittime = 13
ground.velocity = -2,0
air.velocity = -2,-2
givepower = 40, 40
getpower = 80,80

[State 2500, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 203, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 260]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0             
ctrl = 0                   
anim = 260        
poweradd = 20 

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,4
volume = 0
channel = 1

[State 200]
type = PlaySnd
triggerall = random >= 700
trigger1 = Time = 1
value = 0, 9

[State 0, ]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Medium
air.animtype = Medium
;fall.animtype = Back
priority = 4,Hit
damage = 30,9
pausetime = 12,12
;guard.pausetime = 0,0
sparkno = S11001
guard.sparkno = S11001
sparkxy = -18,-62
hitsound = S1,1
guardsound = S3,0
ground.type = trip
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = -3.6 ,-9
airguard.velocity = -3.3, -0
air.velocity = -1
;fall = 1
;AIR FALL = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------

[Statedef 204]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0,0
anim = 204

[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 2
time = 30
move = 30
anim = -1

[State 216,teleport]
type = PosAdd
trigger1 = AnimElem = 2
trigger1 = Var(4) = [0,1]
x = p2bodydist x + 125
y = p2bodydist y - 65

[State 216, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1600, 0
volume = 255


[State 216, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype  = Medium
damage    = 25
guardflag = MA
pausetime = 1,1
sparkno = S900
sparkno = S10002
guard.sparkno = S10002
hitsound = S1,4
guardsound = S3,0
guard.sparkno = -1
sparkxy = -15,-40
ground.type = trip
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = 6
air.velocity = 6
fall = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 216, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 270]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0             
ctrl = 0                   
anim = 270        
poweradd = 30 

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,5
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Hard
air.animtype = Hard
;fall.animtype = Back
priority = 5,Hit
damage = 50,12
pausetime = 13,13
;guard.pausetime = 0,0
sparkno = S11002
guard.sparkno = S11002
sparkxy = -10,-55
hitsound = S1,5
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
air.hittime = 20
ground.velocity = -8,0
air.velocity = -8,-3
givepower = 80, 80
getpower = 140,140
envshake.time = 13
envshake.freq = 120
envshake.ampl = 6
air.fall = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 271]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0             
ctrl = 0                   
anim = 251        
poweradd = 30 

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,5
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Medium
air.animtype = Medium
;fall.animtype = Back
priority = 5,Hit
damage = 30,10
pausetime = 12,12
;guard.pausetime = 0,0
sparkno = S11000
guard.sparkno = S11000
sparkxy = -17,-40
hitsound = S1,5
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 11
guard.slidetime = 11
ground.hittime = 11
guard.hittime = 11
air.hittime = 11
ground.velocity = -2,-0
air.velocity = -2,-0
givepower = 80, 80
getpower = 140,140
envshake.time = 13
envshake.freq = 120
envshake.ampl = 6

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Crouching Basics:
;---------------------------------------------------------------------------
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 2
velset = 0,0             
ctrl = 0                   
anim = 400        
poweradd = 10 

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,0
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Light
air.animtype = Light
;fall.animtype = Back
priority = 3,Hit
damage = 15,4
pausetime = 12,12
;guard.pausetime = 0,0
sparkno = S11000
guard.sparkno = S11000
sparkxy = -18,-44
hitsound = S1,0
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 5
guard.slidetime = 5
ground.hittime = 5
guard.hittime = 5
air.hittime = 5
ground.velocity = -5,0
air.velocity = -5,-2
givepower = 40, 40
getpower = 80,80

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 11
ctrl = 1


;---------------------------------------------------------------------------
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 4
velset = 0,0             
ctrl = 0                   
anim = 420        
poweradd = 30 

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,2
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Hard
air.animtype = Hard
fall.animtype = Up
priority = 5,Hit
damage = 40,10
pausetime = 12,12
;guard.pausetime = 0,0
sparkno = S11002
guard.sparkno = S11002
sparkxy = -18,-48
hitsound = S1,2
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
air.hittime = 20
ground.velocity = -1,-9
air.velocity = -1,-9
givepower = 60, 60
getpower = 120,120
fall = 1

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 11
ctrl = 1


;---------------------------------------------------------------------------
[Statedef 460]
type    = C
movetype= A
physics = C
juggle  = 2
velset = 0,0             
ctrl = 0                   
anim = 460        
poweradd = 20 

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,4
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
hitflag = MAFD
guardflag = MA
animtype = Light
air.animtype = Light
priority = 3,Hit
damage = 15,5
pausetime = 12,12
sparkno = S11000
guard.sparkno = S11000
sparkxy = -18,-35
hitsound = S1,0
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 5
guard.slidetime = 5
ground.hittime = 5
guard.hittime = 5
air.hittime = 5
ground.velocity = -6,0
air.velocity = -6,-2
givepower = 40, 40
getpower = 80,80

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 470]
type    = C
movetype= A
physics = C
juggle  = 5
velset = 0,0             
ctrl = 0                   
anim = 470        
poweradd = 30 

[State 0, ]
type = Explod
trigger1 = AnimElem = 2,1 || AnimElem = 2,4 || AnimElem = 2,7
anim = 8905
ID = 8905
pos = 77,0
postype = p1
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State 0, ]
type = Explod
trigger1 = AnimElem = 2,1 || AnimElem = 2,4 || AnimElem = 2,7
anim = 8905
ID = 8905
pos = 18,0
postype = p1
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State 0, ]
type = VelSet
trigger1 = AnimElem = 2
x = 9

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,5
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
hitflag = MD
guardflag = L
;affectteam = E
animtype = Back
air.animtype = Back
fall.animtype = Back
priority = 5,Hit
damage = 45,10
pausetime = 12,12
;guard.pausetime = 0,0
sparkno = S11002
guard.sparkno = S8050
sparkxy = -10,-16
hitsound = S1,5
guardsound = S3,0
ground.type = Trip
air.type = Trip
ground.slidetime = 35
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
air.hittime = 20
ground.velocity = -3,-5
air.velocity = -3,-5
givepower = 60, 60
getpower = 120,120
fall = 1

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Jumping basics:
;---------------------------------------------------------------------------
[Statedef 600]
type    = A
movetype = A
physics = A
juggle  = 2
ctrl = 0
anim = 610
poweradd = 10

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,0
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
hitflag = MAF
guardflag = MA
animtype = Light
air.animtype = Light
priority = 3,Hit
damage = 20,5
pausetime = 8,8
sparkno = S11000
guard.sparkno = S11000
sparkxy = -18,-60
hitsound = S1,0
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 10
guard.slidetime = 10
ground.hittime = 10
guard.hittime = 10
air.hittime = 10
ground.velocity = -4,0
air.velocity = -2,(vel y)
givepower = 40, 40
getpower = 80,80

;---------------------------------------------------------------------------
[Statedef 610]
type    = A
movetype = A
physics = A
juggle  = 3
ctrl = 0
anim = 620
poweradd = 20

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,1
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA
hitflag = MAF
guardflag = MA
animtype = Medium
air.animtype = Medium
priority = 4,Hit
damage = 30,8
pausetime = 10,10
sparkno = S11001
guard.sparkno = S11001
sparkxy = -18,-52
hitsound = S1,1
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 15
guard.slidetime = 15
ground.hittime = 15
guard.hittime = 15
air.hittime = 15
ground.velocity = -6,0
air.velocity = -4,(vel y)
givepower = 50, 50
getpower = 100,100

;---------------------------------------------------------------------------
[Statedef 620]
type    = A
movetype = A
physics = A
juggle  = 3
ctrl = 0
anim = 620
poweradd = 30

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,2
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA
hitflag = MAF
guardflag = MA
animtype = Hard
air.animtype = Hard
priority = 5,Hit
damage = 55,11
pausetime = 12,12
sparkno = S11002
guard.sparkno = S11002
sparkxy = -18,-52
hitsound = S1,2
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 15
guard.slidetime = 15
ground.hittime = 15
guard.hittime = 15
air.hittime = 15
ground.velocity = -1,8
air.velocity = -1,8
givepower = 60, 60
getpower = 120,120
fall.envshake.time = 12
fall.envshake.freq = 120
fall.envshake.ampl = 6
Fall = 1

;---------------------------------------------------------------------------
[Statedef 621]
type    = A
movetype = A
physics = A
juggle  = 3
ctrl = 0
anim = 621
poweradd = 30

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,2
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA
hitflag = MAF
guardflag = MA
animtype = Hard
air.animtype = Hard
priority = 5,Hit
damage = 55,11
pausetime = 12,12
sparkno = S11002
guard.sparkno = S11002
sparkxy = -18,-52
hitsound = S1,2
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 15
guard.slidetime = 15
ground.hittime = 15
guard.hittime = 15
air.hittime = 15
ground.velocity = -1,8
air.velocity = -1,8
givepower = 60, 60
getpower = 120,120
fall.envshake.time = 12
fall.envshake.freq = 120
fall.envshake.ampl = 6
Fall = 1
;---------------------------------------------------------------------------
[Statedef 650]
type    = A
movetype = A
physics = A
juggle  = 3
ctrl = 0
anim = 650
poweradd = 10

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,3
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
hitflag = MAF
guardflag = MA
animtype = Light
air.animtype = Light
priority = 3,Hit
damage = 25,5
pausetime = 8,8
sparkno = S11000
guard.sparkno = S11000
sparkxy = -18,-77
hitsound = S1,3
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 10
guard.slidetime = 10
ground.hittime = 10
guard.hittime = 10
air.hittime = 10
ground.velocity = -4,0
air.velocity = -2,(vel y)
givepower = 40, 40
getpower = 80,80

;---------------------------------------------------------------------------
[Statedef 651]
type    = A
movetype = A
physics = A
juggle  = 3
ctrl = 0
anim = 651
poweradd = 10

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,3
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
hitflag = MAF
guardflag = MA
animtype = Light
air.animtype = Light
priority = 3,Hit
damage = 25,5
pausetime = 8,8
sparkno = S11000
guard.sparkno = S11000
sparkxy = -18,-55
hitsound = S1,3
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 10
guard.slidetime = 10
ground.hittime = 10
guard.hittime = 10
air.hittime = 10
ground.velocity = -4,0
air.velocity = -2,(vel y)
givepower = 40, 40
getpower = 80,80
;---------------------------------------------------------------------------
[Statedef 660]
type    = A
movetype = A
physics = A
juggle  = 3
ctrl = 0
anim = Ifelse(Vel X = 0,660,661)
poweradd = 20

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,4
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
hitflag = MAF
guardflag = MA
animtype = Medium
air.animtype = Medium
priority = 4,Hit
damage = 45,9
pausetime = 10,10
sparkno = S11002
guard.sparkno = S11002
sparkxy = -10,-50
hitsound = S1,4
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 15
guard.slidetime = 15
ground.hittime = 15
guard.hittime = 15
air.hittime = 15
ground.velocity = -6,0
air.velocity = -5,(vel y)
givepower = 50, 50
getpower = 100,100
fall = 1

;---------------------------------------------------------------------------
[Statedef 670]
type    = A
movetype = A
physics = A
juggle  = 5
ctrl = 0
anim = 670
poweradd = 30

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,5
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 6
attr = A, NA
hitflag = MAF
guardflag = MA
animtype = Hard
air.animtype = Hard
priority = 5,Hit
damage = 60,11
pausetime = 12,12
sparkno = S11002
guard.sparkno = S11002
sparkxy = -15,-18
hitsound = S1,5
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
air.hittime = 20
ground.velocity = -1,8
air.velocity = -1,8
givepower = 60, 60
getpower = 120,120
fall.envshake.time = 12
fall.envshake.freq = 120
fall.envshake.ampl = 6
Fall = 1
;---------------------------------------------------------------------------
; Throws
;---------------------------------------------------------------------------
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 26
velset = 0,0             
ctrl = 0                   
anim = 800        
poweradd = 20
sprpriority = 3

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,0
volume = 0
channel = 1

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
guardflag =
hitflag = M-
sparkno = -1
sparkxy = 0, 0
;pausetime = 8,8
priority = 5,dodge
hitsound = S800,0
p1stateno = 801
p2stateno = 802
;p1facing = ifelse(command = "holdfwd",1,-1)
p2facing = 1
givepower = 50
getpower = 100

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 801]
type    = S
movetype= A
physics = S
juggle  = 26
velset = 0,0             
ctrl = 0                   
anim = 801        
poweradd = 0 
sprpriority = 3

[State 0, ]
type = Width
trigger1 = 1
edge = 35,0
;player = 0,0
;ignorehitpause = 0
;persistent = 1

[State 0, ]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ]
type = Turn
triggerall = Time < 4
trigger1 = command = "holdback"
;ignorehitpause = 0
;persistent = 1

[State 0, ]
type = TargetFacing
trigger1 = time < 4
value = -1
;ignorehitpause = 0
;persistent = 1

[State 0, ]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 55,-74

[State 0, ]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
pos = 58,-80

[State 0, ]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
pos = 60,-85

[State 0, ]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
pos = 60,-85

[State 0, ]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
pos = 60,-80

[State 0, ]
type = TargetState
trigger1 = AnimElem = 6
value = 803

[State 0, ]
type = TargetLifeAdd
trigger1 = AnimElem = 5
value = -80

[State 0, ]
type = ChangeState
trigger1 = AnimTime = 0 
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 802]
type    = A
movetype= H
physics = N
juggle  = 0
velset = 0,0             
ctrl = 0                   
;anim = 802        
poweradd = 0 
;sprpriority = -1

;[State 0, ]
;type = SprPriority
;triggerall = time >= 1
;trigger1 = AnimElem = 4,>0
;value = 4

[State 0, ]
type = ChangeAnim2
trigger1 = !time
value = 802

[State 0, ]
type = ChangeAnim2
trigger1 = enemy, stateno = 805
value = 802
Elem = 3

[State 0, ]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050

;---------------------------------------------------------------------------
[Statedef 803]
type    = A
movetype= H
physics = N
juggle  = 0
velset = -4,14            
ctrl = 0                   
;anim = 803        
poweradd = 0 
sprpriority = -1

[State 0, ]
type = ChangeAnim2
trigger1 = !time
value = 803
;elem = 
;ignorehitpause = 0
;persistent = 1

[State 0, ]
type = Gravity
trigger1 = 1

[State 0, ]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 805]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0             
ctrl = 0                   
anim = 805      
poweradd = 0 
sprpriority = 3

[State 0, ]
type = Width
trigger1 = 1
edge = 55,0

[State 0, ]
type = PlayerPush
trigger1 = 1
value = 0


[State 0, ]
type = TargetBind
trigger1 = Time < 18
pos = 60,-115

[State 0, ]
type = TargetBind
trigger1 = Time = 18
pos = 60,-20

[State 0, ]
type = TargetState
trigger1 = Time = 18
value = 806

[State 0, ]
type = TargetLifeAdd
trigger1 = Time = 18
value = -130

[State 0, ]
type = ChangeState
trigger1 = AnimTime = 0 
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 806]
type    = S
movetype= H
physics = N
juggle  = 0
velset = 0,0          
ctrl = 0                   
;anim = 5061        
poweradd = 0 
sprpriority = 3

[State 0, PalFXWiz] ;Generated by MEE PalFX Editor
type = PalFX
trigger1 = !time
time = 40
add = 240,50,0
mul = 250,224,120 
sinadd = 110,55,85,10
invertall = 1
;color = 2
;ignorehitpause = 0
;persistent = 1

[State 0, ]
type = EnvShake
trigger1 = !time
time = 12
freq = 120
ampl = -6

[State 0, ]
type = ChangeAnim2
trigger1 = !time
value = 5061

[State 0, ]
type = ChangeAnim2
trigger1 = time <=12
value = Anim
elem = 1

[State 0, ]
type = VelSet
trigger1 = time = 13
x = -7 
y = -7
;ignorehitpause = 0
;persistent = 1

[State 0, ]
type = null;ChangeAnim2
trigger1 = !time
value = 806

[State 0, ]
type = StateTypeSet
trigger1 = Time = 13
statetype = A
movetype = H
physics = N

[State 0, ]
type = Gravity
trigger1 = time > 12

[State 0, ]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;Absorcion Principio
[Statedef 1999]
type = S
physics = S
ctrl = 0
anim = 191
velset = 0,0,0

[State 1999]
type = superpause
trigger1 = time = 0
time = 250
movetime = 250
anim = -1
darken = 0

[State 1999, 2]
type = PlaySnd
trigger1 = animelem = 1
value = 7,2
volume = 255

[State 1999]
type = ChangeState
trigger1 = Time = 250
value = 2000
ctrl = 0

;---------------------------------------------------------------------------
;Puesto en Posicion
[Statedef 2000]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
velset = 0,0
anim = 2000
poweradd = ifelse(var(13) = 0,0,0)
sprpriority = 2

[State 1000, 1]
type = VarSet
trigger1 = Time = 0
v = 14
value = 0

[State -2]
type = VarAdd
trigger1 = time = 0 && var(13) > 0
v = 13
value = ifelse((prevstateno = 1100|prevstateno = 1110|prevstateno = 1200|prevstateno = 1210),-634,-352)

[State 2000, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;[State 2000, 1]
;type = assertspecial
;trigger1 = 1
;flag = nofg

[State 2000, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 21111

;---------------------------------------------------------------------------
; Absorcion lo Pincho
[Statedef 21111]
type    = S
movetype= A
physics = N
juggle  = 0
ctrl = 0
anim = 2001
poweradd = -200
sprpriority = 4
Ownpal = 1

[State 2000, 1]
type = NotHitBy
trigger1 = animelemtime(2) < 0
value = SCA
time = 1

[State 2001, 2]
type = assertspecial
trigger1 = time < 1
flag = nofg

[State 2001, 1]
type = StateTypeSet
trigger1 = enemynear,movetype = H
trigger2 = enemynear,movetype = H && var(18) = 2
movetype = I

[State 2001, 1]
type = StateTypeSet
trigger1 = enemynear,movetype != H
trigger2 = enemynear,movetype = H && var(18) = 1
movetype = A

[State 2001, 1]
type = HitDef
Trigger1 = Time > 1
trigger1 = (enemynear,stateno != [130,155]) && enemynear,stateno != 40
trigger1 = var(17) = 0
attr = S, HT
damage = 60,20
hitflag = M
hitsound = s-1,0
sparkno = -1
numhits = 0
p2facing = 1
p1stateno = 2010
p2stateno = 2020
fall = 1
fall.recover = 0

[State 2001, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 21112

;---------------------------------------------------------------------------
;No le dio el pinche
[Statedef 21112]
type    = S
movetype= I
physics = S
juggle  = 0
ctrl = 0
anim = 2002
poweradd = 0

[State 2002, 1]
type = VelSet
trigger1 = 1
x = 0

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 2002, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2010]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 2010
poweradd = -800
sprpriority = 4
ownpal = 1

[State 2010, 1]
type = TargetBind
trigger1 = animelem = 1
pos = 55,0

[State 2010, 1]
type = TargetState
trigger1 = time > 0
value = 2019

[State 2010, PlaySND]
type = PlaySnd
trigger1 = Time = 0
value = 1730,0
volume = 170

[State 2010, 1]
type = width
trigger1 = 1
edge = 80,0

[State 1800, BGColorFX]
type = BGPalFX
trigger1 = Time = 1
time = 50
add = Var(13),Var(13),Var(13)
mul = 56,116,70;115

[State 2010, 1]
type = TargetLifeAdd
trigger1 = animelem = 4
value = -6
kill = 0

[State 2500, 5]
type = changestate
;triggerall = var(1) != 3
trigger1 = time > 38
;trigger1 = command = "a"
value = 2012
ctrl = 0

[State 2010, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 2011

;---------------------------------------------------------------------------
[Statedef 2012]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 2010
poweradd = 30
sprpriority = 4
ownpal = 1

[State 2010, 1]
type = TargetBind
trigger1 = animelem = 1
pos = 55,0

[State 2010, 1]
type = TargetState
trigger1 = time > 0
value = 2020

[State 2010, PlaySND]
type = PlaySnd
trigger1 = Time = 0
value = 1730,0
volume = 170

[State 2010, 1]
type = width
trigger1 = 1
edge = 80,0

[State 1800, BGColorFX]
type = BGPalFX
trigger1 = Time = 1
time = 50
add = Var(13),Var(13),Var(13)
mul = 56,116,70;115

[State 2010, 1]
type = TargetLifeAdd
trigger1 = animelem = 4
value = -10
kill = 0

[State 2500, 5]
type = changestate
;triggerall = var(1) != 3
trigger1 = time > 38
trigger1 = command = "a"
value = 2013
ctrl = 0

[State 2010, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 2011

;---------------------------------------------------------------------------
[Statedef 2013]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 2010
poweradd = 30
sprpriority = 4
ownpal = 1

[State 2010, 1]
type = TargetBind
trigger1 = animelem = 1
pos = 55,0

[State 2010, 1]
type = TargetState
trigger1 = time > 0
value = 2021

[State 2010, PlaySND]
type = PlaySnd
trigger1 = Time = 0
value = 1730,0
volume = 170

[State 2010, 1]
type = width
trigger1 = 1
edge = 80,0

[State 1800, BGColorFX]
type = BGPalFX
trigger1 = Time = 1
time = 50
add = Var(13),Var(13),Var(13)
mul = 56,116,70;115

[State 2010, 1]
type = TargetLifeAdd
trigger1 = animelem = 4
value = -10
kill = 0

[State 2500, 5]
type = changestate
;triggerall = var(1) != 3
trigger1 = time > 38
trigger1 = command = "a"
value = 2014
ctrl = 0

[State 2010, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 2011

;---------------------------------------------------------------------------
[Statedef 2014]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 2010
poweradd = 30
sprpriority = 4
ownpal = 1

[State 2010, 1]
type = TargetBind
trigger1 = animelem = 1
pos = 55,0

[State 2010, 1]
type = TargetState
trigger1 = time > 0
value = 2022

[State 2010, PlaySND]
type = PlaySnd
trigger1 = Time = 0
value = 1730,0
volume = 170

[State 2010, 1]
type = width
trigger1 = 1
edge = 80,0

[State 1800, BGColorFX]
type = BGPalFX
trigger1 = Time = 1
time = 50
add = Var(13),Var(13),Var(13)
mul = 56,116,70;115

[State 2010, 1]
type = TargetLifeAdd
trigger1 = animelem = 4
value = -10
kill = 0

[State 2500, 5]
type = changestate
;triggerall = var(1) != 3
trigger1 = time > 38
trigger1 = command = "a"
value = 2015
ctrl = 0

[State 2010, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 2011


;---------------------------------------------------------------------------
[Statedef 2015]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 2010
poweradd = 30
sprpriority = 4
ownpal = 1

[State 2010, 1]
type = TargetBind
trigger1 = animelem = 1
pos = 55,0

[State 2010, 1]
type = TargetState
trigger1 = time > 0
value = 2023

[State 2010, PlaySND]
type = PlaySnd
trigger1 = Time = 0
value = 1730,0
volume = 170

[State 2010, 1]
type = width
trigger1 = 1
edge = 80,0

[State 1800, BGColorFX]
type = BGPalFX
trigger1 = Time = 1
time = 50
add = Var(13),Var(13),Var(13)
mul = 56,116,70;115

[State 2010, 1]
type = TargetLifeAdd
trigger1 = animelem = 4
value = -10
kill = 0

[State 2500, 5]
type = changestate
;triggerall = var(1) != 3
trigger1 = time > 38
trigger1 = command = "a"
value = 2016
ctrl = 0

[State 2010, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 2011

;---------------------------------------------------------------------------
[Statedef 2016]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 2010
poweradd = 30
sprpriority = 4
ownpal = 1

[State 2010, 1]
type = TargetBind
trigger1 = animelem = 1
pos = 55,0

[State 2010, 1]
type = TargetState
trigger1 = time > 0
value = 2024

[State 2010, PlaySND]
type = PlaySnd
trigger1 = Time = 0
value = 1730,0
volume = 170

[State 2010, 1]
type = width
trigger1 = 1
edge = 80,0

[State 1800, BGColorFX]
type = BGPalFX
trigger1 = Time = 1
time = 50
add = Var(13),Var(13),Var(13)
mul = 56,116,70;115

[State 2010, 1]
type = TargetLifeAdd
trigger1 = animelem = 4
value = -10
kill = 0

[State 2500, 5]
type = changestate
;triggerall = var(1) != 3
trigger1 = time > 38
trigger1 = command = "a"
value = 2017
ctrl = 0

[State 2010, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 2011

;---------------------------------------------------------------------------
[Statedef 2017]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 2010
poweradd = 30
sprpriority = 4
ownpal = 1

[State 2010, 1]
type = TargetBind
trigger1 = animelem = 1
pos = 55,0

[State 2010, 1]
type = TargetState
trigger1 = time > 0
value = 2025

[State 2010, PlaySND]
type = PlaySnd
trigger1 = Time = 0
value = 1730,0
volume = 170

[State 2010, 1]
type = width
trigger1 = 1
edge = 80,0

[State 1800, BGColorFX]
type = BGPalFX
trigger1 = Time = 1
time = 50
add = Var(13),Var(13),Var(13)
mul = 56,116,70;115

[State 2010, 1]
type = TargetLifeAdd
trigger1 = animelem = 4
value = -10
kill = 0

[State 2500, 5]
type = changestate
;triggerall = var(1) != 3
trigger1 = time > 38
trigger1 = command = "a"
value = 2018
ctrl = 0

[State 2010, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 2011

;---------------------------------------------------------------------------
[Statedef 2018]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 2010
poweradd = 30
sprpriority = 4
ownpal = 1

[State 2010, 1]
type = TargetBind
trigger1 = animelem = 1
pos = 55,0

[State 2010, 1]
type = TargetState
trigger1 = time > 0
value = 2026

[State 2010, PlaySND]
type = PlaySnd
trigger1 = Time = 0
value = 1730,0
volume = 170

[State 2010, 1]
type = width
trigger1 = 1
edge = 80,0

[State 1800, BGColorFX]
type = BGPalFX
trigger1 = Time = 1
time = 50
add = Var(13),Var(13),Var(13)
mul = 56,116,70;115

[State 2010, 1]
type = TargetLifeAdd
trigger1 = animelem = 4
value = -10
kill = 0

[State 2010, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 2011
;---------------------------------------------------------------------------
[Statedef 2011]
type    = S
physics = S
ctrl = 0
anim = 2011
poweradd = 0
sprpriority = 3

[State 1800, BGColorFX]
type = BGPalFX
trigger1 = Time = 1
time = 22
add = Var(13),Var(13),Var(13)
mul = 56,116,70;115

[State 2010, PlaySND]
type = PlaySnd
trigger1 = Time = 0
value = 1730,1
volume = 170

[State 2000, âπ]
type = PlaySnd
trigger1 = time = 0
value = 100,0

[State 2010, 2]
type = explod
trigger1 = animelemtime(1) = 1
anim = 19000
postype = p2
pos = -25,-55
ownpal = 1
sprpriority = 555
scale = 0.9,0.9

[State 2011, 1]
type = TargetState
trigger1 = time = 0
value = 2027

[State 2011, 1]
type = VelSet
trigger1 = 1
x = -3

[State 2011, 1]
type = VelSet
trigger1 = animtime = 0
x = 0

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 2011, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------
;Player 2 debilitandose
[Statedef 2019]
type    = A
movetype= H
physics = N
sprpriority = 4

;[State 1800, BGColorFX]
;type = BGPalFX
;trigger1 = Time = 1
;time = 295
;add = Var(13),Var(13),Var(13)
;mul = 56,116,70;115

[State 2020, 1]
Type = Defencemulset
trigger1 = 1
Value = 1.0

[State 2020, 1]
type = ScreenBound
trigger1 = 1
value = 0

[State 2021, 1]
type = ChangeAnim2
Trigger1 = anim != 9020+ifelse((authorname = "HÅh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
value = 2020

;--------------------------------------------------------
; P2
[Statedef 2020]
type    = A
movetype= H
physics = N
sprpriority = 4

;[State 1800, BGColorFX]
;type = BGPalFX
;trigger1 = Time = 1
;time = 295
;add = Var(13),Var(13),Var(13)
;mul = 56,116,70;115

[State 2020, 1]
Type = Defencemulset
trigger1 = 1
Value = 1.0

[State 2020, 1]
type = ScreenBound
trigger1 = 1
value = 0

[State 2021, 1]
type = ChangeAnim2
Trigger1 = anim != 9020+ifelse((authorname = "HÅh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
value = 2020

;-----------------------------------------------------------------------------
[Statedef 2021]
type    = A
movetype= H
physics = N
sprpriority = 4

[State 2020, 1]
Type = Defencemulset
trigger1 = 1
Value = 1.0

[State 2023, 1]
type = PalFX
trigger1 = time >= 0 && anim != 9020+ifelse((authorname = "HÅh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
time = 1
add = -30,-30,-30


[State 2021, 1]
type = ScreenBound
trigger1 = 1
value = 0

[State 2021, 1]
type = ChangeAnim2
Trigger1 = anim != 9020+ifelse((authorname = "HÅh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
value = 2020

;-----------------------------------------------------------------------------
[Statedef 2022]
type    = A
movetype= H
physics = N
sprpriority = 4

[State 2020, 1]
Type = Defencemulset
trigger1 = 1
Value = 1.0

[State 2023, 1]
type = PalFX
trigger1 = time >= 0 && anim != 9020+ifelse((authorname = "HÅh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
time = 1
add = -60,-60,-60

[State 2022, 1]
type = ScreenBound
trigger1 = 1
value = 0

[State 2022, 1]
type = ChangeAnim2
Trigger1 = anim != 9020+ifelse((authorname = "HÅh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
value = 2021

;-----------------------------------------------------------------------------
[Statedef 2023]
type    = A
movetype= H
physics = N
sprpriority = 4

[State 2020, 1]
Type = Defencemulset
trigger1 = 1
Value = 1.0

[State 2023, 1]
type = PalFX
trigger1 = time >= 0 && anim != 9020+ifelse((authorname = "HÅh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
time = 1
add = -90,-90,-90

[State 2023, 1]
type = ScreenBound
trigger1 = 1
value = 0

[State 2023, 1]
type = ChangeAnim2
Trigger1 = anim != 9020+ifelse((authorname = "HÅh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
value = 2021

;-----------------------------------------------------------------------------
[Statedef 2024]
type    = A
movetype= H
physics = N
sprpriority = 4

[State 2020, 1]
Type = Defencemulset
trigger1 = 1
Value = 1.0

[State 2023, 1]
type = PalFX
trigger1 = time >= 0 && anim != 9020+ifelse((authorname = "HÅh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
time = 1
add = -120,-120,-120

[State 2024, 1]
type = ScreenBound
trigger1 = 1
value = 0

[State 2024, 1]
type = ChangeAnim2
Trigger1 = anim != 9020+ifelse((authorname = "HÅh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
value = 2021

;-----------------------------------------------------------------------------
[Statedef 2025]
type    = A
movetype= H
physics = N
sprpriority = 4

[State 2020, 1]
Type = Defencemulset
trigger1 = 1
Value = 1.0

[State 2023, 1]
type = PalFX
trigger1 = time >= 0 && anim != 9020+ifelse((authorname = "HÅh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
time = 1
add = -150,-150,-150

[State 2025, 1]
type = ScreenBound
trigger1 = 1
value = 0

[State 2025, 1]
type = ChangeAnim2
Trigger1 = anim != 9020+ifelse((authorname = "HÅh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
value = 2021


;-----------------------------------------------------------------------------
[Statedef 2026]
type    = A
movetype= H
physics = N
sprpriority = 4

[State 2020, 1]
Type = Defencemulset
trigger1 = 1
Value = 1.0

[State 2023, 1]
type = PalFX
trigger1 = time >= 0 && anim != 9020+ifelse((authorname = "HÅh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
time = 1
add = -180,-180,-180

[State 2026, 1]
type = ScreenBound
trigger1 = 1
value = 0

[State 2026, 1]
type = ChangeAnim2
Trigger1 = anim != 9020+ifelse((authorname = "HÅh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
value = 2021

;-----------------------------------------------------------------------------
[Statedef 2027]
type    = A
movetype= H
physics = N

[State 2027, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 2027, 1]
type = LifeAdd
trigger1 = time = 0
value = -100

[State 2027, 1]
type = posadd
Trigger1 = Time = 0
y = 0

[State 2027, 1]
type = Velset
Trigger1 = Time = 0
x = 0
y = -7

[State 2027, 1]
type = Velset
Trigger1 = vel x >= -4
x = -4

[State 2027, 2]
type = VelAdd
trigger1 = time >= 0 && vel x < -4
x = 1

[State 2027, 2]
type = VelAdd
trigger1 = 1
y = .53

[State 2027, 2]
type = ChangeAnim
trigger1 = time = 0 && SelfAnimExist(5035)
value = 5035

[State 5050, 1]
type = ChangeAnim
trigger1 = anim = 5035 && animtime = 0
trigger2 = time = 0 && !SelfAnimExist(5035)
value = 5050

[State 5050, 2]
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100

;------------------------------------------------------------------------
;Fireballs Frente Start
[Statedef 1400]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
poweradd = -210
ctrl = 0
anim = 10000
sprpriority = 1

[State 1400]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno != 10000
v = 11
value = 0

[State 1400]
type = Varadd
trigger1 = time = 0
v = 11
value = 1

[State 1000, Sound]
type = PlaySnd
trigger1 = time = 5
value = 10000,0

[State 10000, Ring]
type = Explod
trigger1 = time = 5
Anim = 12010
Pos = 54, -55
Id = 12010
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.35, 0.24

[State 1400]
type = helper
trigger1 = time = 14
helpertype = normal
name = "fireball"
postype = p1
size.xscale = .43
size.yscale = .43
pos =  70, -48
id = 1401
stateno = 1401

[State 1400]
type = ChangeState
trigger1 = time >= 15
trigger1 = command = "c"
trigger1 = var(11) < 3
value = 1402

[State 1003,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0 && (Pos Y < 0)
value = 1500

[State 1003, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1003, End]
type = ChangeState
trigger1 = power <= 20
value = 0
ctrl = 1

;--------------------------------------------------------------------------
;Fireballs Frente Start 2
[Statedef 1402]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
poweradd = -210
ctrl = 0
anim = 1002
sprpriority = 1

[State 1402]
type = Varset
trigger1 = time = 0
trigger1 = prevstateno != 10000
v = 11
value = 0

[State 1402]
type = Varadd
trigger1 = time = 0
v = 11
value = 1

;[State 10000, PowerAdd]
;Type = PowerAdd
;Trigger1 = time >= 1
;value = -10

[State 1000, Sound]
type = PlaySnd
trigger1 = time = 5
value = 10000,0

[State 10000, Ring]
type = Explod
trigger1 = time = 5
Anim = 12010
Pos = 53, -53
Id = 12010
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.35, 0.24


[State 1402]
type = helper
trigger1 = time = 14
helpertype = normal
name = "fireball"
postype = p1
size.xscale = .43
size.yscale = .43
pos = 68, -52
id = 1401
stateno = 1401

[State 1402]
type = ChangeState
trigger1 = time >= 15
trigger1 = command = "c"
trigger1 = var(11) < 3
value = 1400

[State 1003,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0 && (Pos Y < 0)
value = 1500

[State 1003, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[State 1003, End]
type = ChangeState
trigger1 = power <= 20
value = 0
ctrl = 1

;--------------------------------------------------------------------------
;Fireball Nomas
[Statedef 1401]
type    = S
movetype= A
juggle  = 1
velset = 7,0
ctrl = 0
anim = 12111
sprpriority = 2


[State 1401]
type = AfterImage
trigger1 = time = 0
length = 5
TimeGap = 1
FrameGap = 1
Trans = Add
time = -1

[State 1401]
type = VarRandom
trigger1 = time = 0
v = 3
range = 5

[State 1401]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 1401]
type = Veladd
trigger1 = time >= 0
trigger1 = var(3) = 5
x = .7

[State 1000]
type = Veladd
trigger1 = time >= 0
trigger1 = var(3) = 1
y = -.11
x = .7

[State 1401]
type = Veladd
trigger1 = time >= 0
trigger1 = var(3) = 3
y = -.11
x = .7

[State 1401]
type = Veladd
trigger1 = time >= 0
trigger1 = var(3) = 4
y = .11
x = .7

[State 1401]
type = Veladd
trigger1 = time >= 0
trigger1 = var(3) = 2
y = .11
x = .7

[State 1401]
type = HitDef
trigger1 = time = 0
attr = S, SA
damage    = 20,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 4,18
numhits = 1
sparkno = S189986
guard.sparkno = S189986
hitsound   = S1100,0
guardsound = S1100,0
sparkxy = -10,-10
ground.type = High
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = -1.9
airguard.velocity = -1.9
air.velocity = -1.3,-3

[State 1401, Explosion.Helper]
type = Helper
trigger1 = movecontact && var(3) = 4; && time >= 45; && numhelper(13100) = 0
name = "Explosion"
stateno = 1405
postype = p2
pos = 5, -32
size.xscale = 0.6
size.yscale = 0.6
;keyctrl = 0
ownpal = 1

[State 1401, Explosion.Helper]
type = Helper
trigger1 = movecontact && var(3) = 2; && time >= 45; && numhelper(13100) = 0
name = "Explosion"
stateno = 1405
postype = p2
pos = 5, -32
size.xscale = 0.6
size.yscale = 0.6
;keyctrl = 0
ownpal = 1

[State 1401, Explosion.Helper]
type = Helper
trigger1 = movecontact && var(3) = 1; && time >= 45; && numhelper(13100) = 0
name = "Explosion"
stateno = 1405
postype = p2
pos = 5, -70
size.xscale = 0.6
size.yscale = 0.6
;keyctrl = 0
ownpal = 1

[State 1401, Explosion.Helper]
type = Helper
trigger1 = movecontact && var(3) = 3; && time >= 45; && numhelper(13100) = 0
name = "Explosion"
stateno = 1405
postype = p2
pos = 5, -70
size.xscale = 0.6
size.yscale = 0.6
;keyctrl = 0
ownpal = 1

[State 1401, Explosion.Helper]
type = Helper
trigger1 = movecontact && var(3) = 5; && time >= 45; && numhelper(13100) = 0
name = "Explosion"
stateno = 1405
postype = p2
pos = 5, -50
size.xscale = 0.6
size.yscale = 0.6
;keyctrl = 0
ownpal = 1

[State 1401, Explosion.Helper]
type = Helper
trigger1 = movecontact && var(3) != 1 && var(3) != 2 && var(3) != 3 && var(3) != 4 && var(3) != 5; && time >= 45; && numhelper(13100) = 0
name = "Explosion"
stateno = 1405
postype = p2
pos = 5, -50
size.xscale = 0.6
size.yscale = 0.6
;keyctrl = 0
ownpal = 1


[State 1401]
type = DestroySelf
trigger1 = MoveContact
trigger2 = time = 50

;---------------------------------------------------------------------------
;Fireball Helper
[StateDef 1405]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 18998
ctrl = 0
sprpriority = 4

[State 1405] No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1405, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Fireball End
[Statedef 1403]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 0

[State 1003, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1003,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0 && (Pos Y < 0)
value = 1500

[State 1003, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Multiples Colazos
[Statedef 1404]
type 			= S
movetype		= A
physics		= N
anim			= 300
velset		= 1.2,0
ctrl			= 0
poweradd		= -200
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 4

[State 0, ]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 10
value = 1,8
volume = 0
channel = 1

[State 0, ]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 8
trigger3 = animelem = 12
value = 1,9
volume = 0
channel = 1

;[State 0, VelSet]
;type = VelSet
;trigger1 = animelem = 1
;x = 1.5
;y = 0
;ignorehitpause =
;persistent =

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
trigger3 = AnimElem = 10
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Medium
air.animtype = Medium
;fall.animtype = Back
priority = 4,Hit
damage = 15,5
pausetime = 6,6
;guard.pausetime = 0,0
sparkno = S11003
guard.sparkno = S11003
sparkxy = -17,-23
hitsound = S1,10
guardsound = S1,10
ground.type = Low
air.type = Low
ground.slidetime = 12
guard.slidetime = 12
ground.hittime = 12
guard.hittime = 12
air.hittime = 12
ground.velocity = -3.5,0
air.velocity = -3.5,-1
;givepower = 60, 60
;getpower = 120,120

[State 0, ]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
trigger3 = AnimElem = 12
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Medium
air.animtype = Medium
;fall.animtype = Back
priority = 4,Hit
damage = 15,5
pausetime = 6,6
;guard.pausetime = 0,0
sparkno = S11003
guard.sparkno = S11003
sparkxy = -23,-53
hitsound = S1,10
guardsound = S1,10
ground.type = Low
air.type = Low
ground.slidetime = 12
guard.slidetime = 12
ground.hittime = 12
guard.hittime = 12
air.hittime = 12
ground.velocity = -3.5,0
air.velocity = -3.5,-1
;givepower = 60, 60
;getpower = 120,120

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Cargar ki
[Statedef 5040]
type = S
statetype = A
movetype= I
physics = N
juggle = 9
velset = 0,0
ctrl = 0
anim = 5040;5040; animacion del char haciendo carga de ki
poweradd = 0

[State 5042]
type = Explod
trigger1 = time = 1; timemod = 30,0
Anim = 1405
Pos = -2, 5
Id = 1406
sprpriority = 4
removetime = 40
Postype = p1
facing		= 1
vfacing		= 1
bindtime		= -1
SuperMove = 0
ownpal = 1
scale = 1, 0.48
removeongethit = 1
vel			= 0,0
accel			= 0,0
random		= 0,0
supermovetime	= 0
pausemovetime	= 0
shadow		= 0,0,0
removeongethit	= 1


[State 5040,Poweradd]
type = Poweradd
trigger1 = Time >= 0
value = 5

[State 1700, VelSetY]
Type = VelSet
Trigger1 = Time = 0
y = 0

[State 1701, VarSet1]
type = VarSet
Triggerall = Pos Y < 0
Trigger1 = Var(2) = 2
Trigger1 = Vel Y >= 2.0
Trigger2 = Time = 0
v = 2
value = 1

[State 1701, VarSet2]
type = VarSet
Trigger1 = Pos Y < 0
Trigger1 = Var(2) = 1
Trigger1 = Vel Y <= -2.0
v = 2
value = 2

[State 1701, FloatUp]
type = VelAdd
Trigger1 = Pos Y < 0
Trigger1 = Var(2) = 1
y = -0.1

[State 1701, FloatDown]
type = VelAdd
Trigger1 = Pos Y < 0
Trigger1 = Var(2) = 2
y = 0.1

[State 1701, Stop.Charge]
type = VarSet
Triggerall = Pos Y < 0
trigger1 = (command != "charge") || (command != "charge 1")
v = 2
value = 0


[State 1701, VarSet]
type = Varset
trigger1 = time = 0
v = 10
value = 0

[State 1701, VarSet]
type = Varset
trigger1 = time = 0
v = 11
value = 0

[State 1701, VarSet]
type = Varset
trigger1 = Var(10) = -60
v = 11
value = 1

[State 1701, VarSet]
type = Varset
trigger1 = Var(10) = 0
v = 11
value = 0

[State 1701, VarAdd]
type = VarAdd
trigger1 = time >= 50 && Var(11) = 0
v = 10
value = -1

[State 1701, VarAdd]
type = VarAdd
trigger1 = time >= 50 && Var(11) = 1
v = 10
value = 1

[State 5040,AURA];Aura
type			= Explod
trigger1		= animelem = 2
anim			= 15070
id			= 15070
pos			= 0,12
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
scale			= 0.88,0.68
sprpriority		= 4
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1


[State 5040,AURA];Aura
type			= Explod
trigger1		= animelem = 2
anim			= 15075
id			= 15075
pos			= -7,-4
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.60,0.82
sprpriority		= 4
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1


[State 5040, Ring]
type = Explod
triggerall = pos y = 0
trigger1 = Animelem = 2; timemod = 30,0
Anim = 10010
Pos = -2, 1
Id = 10010
sprpriority = -2
removetime = -1
Postype = p1
facing		= 1
vfacing		= 1
bindtime		= -1
SuperMove = 1
ownpal = 0
scale = 0.45, 0.65
removeongethit = 1
ontop = 0
vel			= 0,0
accel			= 0,0
random		= 0,0


[State 5040]
type			= Explod
trigger1		= animelem = 2
triggerall = pos y = 0
anim			= 7520
id			= 7520
Pos = -46, 0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale = 0.9,0.8
sprpriority		= -1
ontop			= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 5040]
type			= Explod
trigger1		= animelem = 2
triggerall = pos y = 0
anim			= 7522
id			= 7522
pos= 34,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale = 0.9,0.8
sprpriority		= -1
ontop			= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1


[State 5040,Helper]
type            = Helper
trigger1        = (TimeMod = 30,0)
helpertype	= normal
name		= "Push Effect"
id              = 1103
pos		= 0,0
postype         = p1
facing		= 1
stateno	        = 1103
keyctrl	        = 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= 1
size.yscale	= 1

[state 1701, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(10),Var(10),Var(10)

[State 1701, Shake]
type = EnvShake
trigger1 = time >= 100
trigger1 = Timemod = 8,0
Time = 8
freq = 60
ampl = -2
phase = 0

[State 5040]
type			= RemoveExplod
id			= 15070
trigger1		= (command != "charge") || (command != "charge 1") || (life = 0) || stateno != 5040;(Time = 90)
trigger1 = time >= 0
value = 0; ir a stand
ctrl = 1

[State 5040]
type			= RemoveExplod
id			= 15075
trigger1		= (command != "charge") || (command != "charge 1") || (life = 0) || stateno != 5040;(Time = 90)
trigger1 = time >= 0
value = 0; ir a stand
ctrl = 1

[State 5040]
type			= RemoveExplod
id			= 7520
trigger1		= (command != "charge") || (command != "charge 1") || (life = 0) || stateno != 5040;(Time = 90)
trigger1 = time >= 0
value = 0; ir a stand
ctrl = 1

[State 5040]
type			= RemoveExplod
id			= 7522
trigger1		= (command != "charge") || (command != "charge 1") || (life = 0) || stateno != 5040;(Time = 90)
trigger1 = time >= 0
value = 0; ir a stand
ctrl = 1

[State 5040]
type			= RemoveExplod
id			= 10010
trigger1		= (command != "charge") || (command != "charge 1") || (life = 0) || stateno != 5040;(Time = 90)
trigger1 = time >= 0
value = 0; ir a stand
ctrl = 1

[State 5040, PlaySND]
type = playsnd
trigger1 = animelem = 2
value = 730,2
volume = 255

[State 5040];
type = PlaySnd
trigger1 = (Time > 2) && ((GameTime%50) = 0)
value = 730,1
volume = 255

;;flash blanco
;[State 5041,Envcolor]
;type = Envcolor
;id = 5040,1
;trigger1 = time = 0
;time = 5

[State 5041,desaparece ki]
type = playsnd
trigger1 = Time = 1
value = 730,2
volume = 255

[State 1701, RockPosition]
type = VarRandom
trigger1 = time >= 0
v = 15
range = -240,240

[State 1701, RockAnimation]
type = VarRandom
trigger1 = time >= 0
v = 16
range = 0,11

[State 1701, RockHelper0]
type = Helper
triggerall = time >= 100 && Pos Y = 0 && timemod = 3,0
trigger1 = random <= 100 && NumHelper(15200) = 0
name = "Rock00"
stateno = 15200
postype = p1
pos = Var(15), 0
keyctrl = 0
ownpal = 1
id = 15200
size.xscale = IfElse(Random >= 500, 0.75, 1)
size.yscale = IfElse(Random >= 500, 0.75, 1)

[State 1701, RockHelper1]
type = Helper
triggerall = time >= 100 && Pos Y = 0 && timemod = 3,1
trigger1 = random <= 100 && NumHelper(15201) = 0
name = "Rock01"
stateno = 15201
postype = p1
pos = Var(15), 0
keyctrl = 0
ownpal = 1
id = 15201
size.xscale = IfElse(Random >= 500, 0.70, 0.95)
size.yscale = IfElse(Random >= 500, 0.70, 0.95)

[State 1701, RockHelper2]
type = Helper
triggerall = time >= 100 && Pos Y = 0 && timemod = 3,2
trigger1 = random <= 100 && NumHelper(15202) = 0
name = "Rock02"
stateno = 15202
postype = p1
pos = Var(15), 0
keyctrl = 0
ownpal = 1
id = 15202
size.xscale = IfElse(Random >= 500, 0.75, 0.9)
size.yscale = IfElse(Random >= 500, 0.75, 0.9)

[State 1701, RockHelper3]
type = Helper
triggerall = time >= 100 && Pos Y = 0 && timemod = 3,3
trigger1 = random <= 100 && NumHelper(15203) = 0
name = "Rock03"
stateno = 15200
postype = p1
pos = Var(15), 0
keyctrl = 0
ownpal = 1
id = 15203
size.xscale = IfElse(Random >= 500, 0.75, 1)
size.yscale = IfElse(Random >= 500, 0.75, 1)

[State 1701, RockHelper4]
type = Helper
triggerall = time >= 100 && Pos Y = 0 && timemod = 3,4
trigger1 = random <= 100 && NumHelper(15204) = 0
name = "Rock04"
stateno = 15201
postype = p1
pos = Var(15), 0
keyctrl = 0
ownpal = 1
id = 15204
size.xscale = IfElse(Random >= 500, 0.70, 0.95)
size.yscale = IfElse(Random >= 500, 0.70, 0.95)

[State 1701, RockHelper5]
type = Helper
triggerall = time >= 100 && Pos Y = 0 && timemod = 3,5
trigger1 = random <= 100 && NumHelper(15205) = 0
name = "Rock05"
stateno = 15202
postype = p1
pos = Var(15), 0
keyctrl = 0
ownpal = 1
id = 15205
size.xscale = IfElse(Random >= 500, 0.75, 0.90)
size.yscale = IfElse(Random >= 500, 0.75, 0.90)

[State 5041,Remover Aura]
type = ChangeState
trigger1 = (command != "charge") || (command != "charge 1")
value = 5042

;---------------------------------------------------------
;Finaliza Carga
[Statedef 5042]
type = S
movetype = I
physics = N
anim = 5040
ctrl = 0
poweradd = 0
juggle = 0
velset = 0,0
sprpriority = 1

[State 5042]
type = Explod
trigger1 = time = 1; timemod = 30,0
Anim = 1405
Pos = -2, 5
Id = 1405
sprpriority = 4
removetime = 40
Postype = p1
facing		= 1
vfacing		= 1
bindtime		= -1
SuperMove = 0
ownpal = 1
removeongethit = 1
vel			= 0,0
accel			= 0,0
random		= 0,0
supermovetime	= 0
pausemovetime	= 0
shadow		= 0,0,0
removeongethit	= 1
removetime = 40
scale = 0.90, 0.48


[State 5042,fin]
type = playsnd
trigger1 = Time = 0
value = 730,2
volume = 255

;[State 5042,Remover Aura]
;type = ChangeState
;trigger1 = (command != "charge") || (command != "charge 1")
;value = 0
;ctrl = 1

[State 5042, final]
type = ChangeState
trigger1 = animtime = 0;(command != "charge") || (command != "charge 1")
value = 0
ctrl = 1

[State 5042, final]
type = ChangeState
triggerALL = Pos Y < 0
trigger1 = animtime = 0;(command != "charge") || (command != "charge 1")
value = 1500

;---------------------------------------------------------------------
;Push Effect
[Statedef 1103]
type            = S
movetype        = I
physics         = S
anim            = 9997; -1 -1 cuadrado
ctrl            = 0
poweradd        = 0
juggle          = 0
facep2          = 1
hitdefpersist   = 0
movehitpersist  = 0
hitcountpersist = 0
sprpriority     = 0

[State 1003,VelSet]
type   = VelSet
trigger1 = (!Time)
x = 15
y = 0

[State 1003,PlayerPush]
type     = PlayerPush
trigger1 = (1)
value    = 1

[State 1003,NotHitBy]
type      = NotHitBy
trigger1  = (1)
time      = 1
value     = SCA

[State 1003,DestroySelf]
type      = DestroySelf
trigger1  = (Time = 20)

;--------------------------------------------------------------
; Viento 2
[Statedef 2500]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 2500
ctrl = 0

[State 2500,Crtl]
type = CtrlSet
trigger1 = Time >= 32
value = 1

[State 2500,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2800,0

[State 2500, 1]
type = Projectile
trigger1 = AnimElem = 1
projanim = 2550
projhits = 3
projmisstime = 4
projremove = 0
projpriority = 30
projremovetime = 40
projid = 2550
velocity = 0,0
offset = 59,3
attr = S, SA
animtype  = Hard
damage    = 21,11
getpower  = -20
sparkno = -1
sparkxy = 999,999
priority  = 6
guardflag = MA
pausetime = 0,15
hitsound   = 5,4
guardsound = 6,0
ground.type = Low
ground.slidetime = 2
ground.hittime  = 11
ground.velocity = -0.1,-10.4
air.velocity = -0.1,-10.4
fall.animtype = Hard
fall = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 2500,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------

; Viento
[Statedef 2600]
type    = S
movetype= A
physics = S
poweradd= -150
velset = 0,0
anim = 2600
ctrl = 0

[State 2600,Crtl]
type = CtrlSet
trigger1 = Time >= 42
value = 1

[State 2600,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2800,0

[State 2600, 1]
type = Projectile
trigger1 = AnimElem = 2
projanim = 2650
projhits = 4
projmisstime = 4
projremove = 0
PROJSCALE = 0.68,0.72
projpriority = 30
projremovetime = 60
projid = 2650
velocity = 0,0
offset = 59,3
attr = S, SA
animtype  = Hard
damage    = 27,11
getpower  = -30
sparkno = -1
sparkxy = 999,999
priority  = 6
guardflag = MA
pausetime = 0,15
hitsound   = 5,4
guardsound = 6,0
ground.type = Low
ground.slidetime = 2
ground.hittime  = 11
ground.velocity = -0.1,-10.4
air.velocity = -0.1,-10.4
fall.animtype = Hard
fall = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 2600,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Rayos Ojos
[Statedef 1700]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= -150
sprpriority = 2
ctrl = 0
anim = 1700

[State 1700]
type = VelSet
trigger1 = time < 55
x= 0
y= 0

[State 1700]
type = PlaySnd
trigger1 = AnimElem = 1
value = 700,2

[State 1700]
type = PlaySnd
trigger1 = AnimElem = 2
value = 10000,0


[State 1700]
type = Projectile
trigger1 = AnimElem = 2
projanim = 1702
;projhitanim = 606
projpriority = 4
projremovetime = 40
projhits = 25
projid = 1001
projscale = 1,1
;velocity = 7,8
;accel = .2
offset = 16,-68
attr = S, SP
damage   = 2,1
animtype = hard
guardflag = MA
hitflag = MAFP
pausetime = 0,3
;hitsound   = S1100,0
;guardsound = S1100,0
sparkno = S1856565
guard.sparkno = S18956567
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.animtype = Low
air.velocity = -1,-1
air.juggle = 2
palfx.time = 23
palfx.add = 228,18,255

[State 1700]
type = ChangeState
trigger1 = AnimTime = 0
value = 1500
ctrl = 1

;-------------------------------------------------------
; Tayoken
[Statedef 3000]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -300
ctrl = 0
velset = 0,0
sprpriority = -1
anim = 3000

;[State 920, 1]
;type = allpalfx
;trigger1 = time = 0
;trigger2 = time = 30
;trigger3 = time = 60
;time = 30
;add = 0,0,0
;sinadd = 255,255,255,60

[State 2000, VarSet]
type = Varset
trigger1 = time = 0
fv = 19
value = 0.0

[State 2000, VarAdd]
type = Varadd
trigger1 = time >= 15 && fvar(19) < 1.5
fv = 19
value = 0.1

[State 2000, Luz]
type = Explod
trigger1 = time = [15,39]
Anim = 2100
Pos = 8, -68
Id = 2100
sprpriority = 999
removeongethit = 1
removetime = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = fvar(19), fvar(19)

[State 2000, Luz llendose]
type = Explod
trigger1 = time = 40
Anim = 2102
Pos = 8, -68
Id = 2102
sprpriority = 999
removeongethit = 0
;removetime = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = fvar(19), fvar(19)

[State 2000:		Helper]
type		= Helper
trigger1	= (time = 15)
helpertype	= Normal
name		= "Tayoken"
id		= 2101
pos		= 8, -68
postype		= p1
facing		= 1
stateno		= 2101
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = fvar(19)
size.yscale     = fvar(19)

[State 3000, Taioken]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000,0
volume = 255

[State 700, 3]
type=ChangeState
trigger1=Time = 41
trigger1=Pos Y < 0
value=1500

[State 2000, End]
type = ChangeState
trigger1 = Time = 41
value = 0
ctrl = 1

;Tayoken - Luz - helper
[Statedef 2101]
movetype	= A
anim		= 2101
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 5

[State 2101, HitDef]
type = HitDef
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 0
hitflag = MA
guardflag = MA
getpower = 0
pausetime = 0,75
guard.pausetime = 0,10
sparkno = -1
sparkxy = 0,0
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = 0
air.velocity = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time > 0
flag = invisible


[State 2101, DestroySelf]
type = DestroySelf
trigger1 = time = 25
trigger2 = movecontact = 1
;ignorehitpause =
;persistent =

;-------------------------------------------------------
;-------------------------------------------------------
;Makankosapo
[Statedef 2700]
type = S
;movetype = A
physics = S
ctrl = 0
velset = 0,0,0

[State 1999, 1]
type = assertspecial
trigger1 = time = [0, 390]
flag = nomusic


[State 5040,Helper]
type            = Helper
trigger1        = (TimeMod = 30,0)
helpertype	= normal
name		= "Push Effect"
id              = 1103
pos		= 0,0
postype         = p1
facing		= 1
stateno	        = 1103
keyctrl	        = 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= 1
size.yscale	= 1

;[State 2700]
;type = superpause
;trigger1 = time = 0
;time = 155
;movetime = 155
;anim = -1
;darken = 0

[State 2700: Ki]
type = Explod
trigger1 = time = 30
anim = 25
ID = 25
pos = 8,-48
scale = .23,.23
sprpriority = 3
removeongethit = 1
Postype = p1
SuperMove = 1
ownpal = 1
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
shadow = 0,0,0

[State 2700]
type = Explod
trigger1 = time = 0
triggerall = p2bodydist y = 0
anim = 9050
ID = 9050
pos = 20,5
scale = .6,.6
sprpriority = 3
removeongethit = 1
Postype = p1
SuperMove = 1
ownpal = 1


[State 2700]
type = Explod
trigger1 = time = 0
triggerall = p2bodydist y = 0
anim = 9050
ID = 9050
pos = -30,5
postype = p1
scale = .6,.6
sprpriority = 3
removeongethit = 1
Postype = p1
SuperMove = 1
ownpal = 1
facing = -1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
shadow = 0,0,0

[State 12100, ElecA]
type = Explod
trigger1 = time = 0
Anim = 997
Pos = -5,-12
Id = 997
sprpriority = 3
removeongethit = 1
removetime = 26
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.60, 0.60
vel = 0,0
accel = 0,0


[State 12100, ElecB]
type = Explod
trigger1 = time = 26
Anim = 998
Pos = -12,22
Id = 998
velocity = 0,0
sprpriority = 3
removeongethit = 1
removetime = 26
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.60, 0.60
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0

[State 12100, ElecC]
type = Explod
trigger1 = time = 50
Anim = 999
Pos = -17,-11
Id = 999
velocity = 0,0
sprpriority = 3
removeongethit = 1
removetime = 24
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.60, 0.60
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0

[State 12100, ElecD]
type = Explod
trigger1 = time = 76
Anim = 996
Pos = 9,-12
Id = 996
velocity = 0,0
sprpriority = 3
removeongethit = 1
removetime = 26
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.60, 0.60
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0

[State 12100, ElecE]
type = Explod
trigger1 = time = 105
Anim = 995
Pos = 9,-11
Id = 995
velocity = 0,0
sprpriority = 3
removeongethit = 1
removetime = 24
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.60, 0.60
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
shadow = 0,0,0


[State 12100, ElecA]
type = Explod
trigger1 = time = 133
Anim = 997
Pos = -5,-12
Id = 997
velocity = 0,0
sprpriority = 3
removeongethit = 1
removetime = 26
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.60, 0.60
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
shadow = 0,0,0

[State 12100, ElecB]
type = Explod
trigger1 = time = 159
Anim = 998
Pos = -12,22
Id = 998
velocity = 0,0
sprpriority = 3
removeongethit = 1
removetime = 20
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.60, 0.60
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0

[State 2700:	EnvShake]
type= EnvShake
trigger1= (AnimElem = 2, > 0) && ((GameTime%5) = 0)
time= 10
freq= 140
ampl= -3
phase= 90

;[State 3010, palfx]
;type = BgPalfx
;trigger1 = Time = 1
;time = 278
;color = 0

[State 1800, BGColorFX]
type = BGPalFX
trigger1 = Time = 1
time = 225
add = Var(13),Var(13),Var(13)
mul = 56,116,70;115

[State 2700, 2]
type = changeanim
trigger1 = time = 0
value = 2700

[State 2700,1]
type = playsnd
trigger1 = time = 20
value = 2700,0
volume = 255
channel = 1
removeongethit = 1

[State 2500]
type			= RemoveExplod
id			= 25
trigger1		= command = "a"
trigger1 = time >= 20
value = 0
ctrl = 1

[State 2500]
type			= RemoveExplod
id			= 25
trigger1		= command = "b"
trigger1 = time >= 20
value = 0
ctrl = 1

[State 2500, 5]
type = changestate
triggerall = var(1) != 3
trigger1 = time > 160
trigger1 = command = "a"
value = 2710
ctrl = 0

[State 2500, 5]
type = changestate
triggerall = var(1) != 3
trigger1 = time > 96
trigger1 = command = "a"
value = 2711
ctrl = 0

[State 2500, 5]
type = changestate
triggerall = var(1) != 3
trigger1 = time > 25
trigger1 = command = "a"
value = 2712
ctrl = 0

[State 2500, 5]
type = changestate
triggerall = var(1) != 3
trigger1 = time > 160
trigger1 = command = "b"
value = 2710
ctrl = 0

[State 2500, 5]
type = changestate
triggerall = var(1) != 3
trigger1 = time > 96
trigger1 = command = "b"
value = 2711
ctrl = 0

[State 2500, 5]
type = changestate
triggerall = var(1) != 3
trigger1 = time > 25
trigger1 = command = "b"
value = 2712
ctrl = 0

[State 2700, 0]
type = changestate
trigger1 = time = 220
value = 2710
ctrl = 0

;-----------------------------------------------------------

;Shoot Fuerte
[Statedef 2710]
type = S
movetype = A
physics = S
velset = 0,0,0
ctrl = 0
poweradd = -1500

[State 5040,Helper]
type            = Helper
trigger1        = (TimeMod = 30,0)
helpertype	= normal
name		= "Push Effect"
id              = 1103
pos		= 0,0
postype         = p1
facing		= 1
stateno	        = 1103
keyctrl	        = 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= 1
size.yscale	= 1

[State 1800, BGColorFX]
type = BGPalFX
trigger1 = Time = 1
time = 125
add = Var(13),Var(13),Var(13)
mul = 56,116,70;115

[State 0, ]
type = Explod
trigger1 = time= 1;(time%6)=0
anim = 7521
ID = 8100
pos = 0,0-ceil(pos Y)
facing = 1
scale = 1,.5
postype = p1
sprpriority = 1
ontop = 0
ownpal = 0
ignorehitpause = 1

[State 0, ]
type = Explod
trigger1 = time= 1;(time%6)=0
anim = 7523
ID = 7523
pos = 67,-92
facing = 1
scale = 1,0.45
postype = p1
sprpriority = 1
ontop = 0
ownpal = 0
ignorehitpause = 1

[State 2501, 2]
type = changeanim
trigger1 = time = 0
value = 2710

[State 2710,9]
type = playsnd
trigger1 = AnimElem = 2
value = 2710,0
volume = 255

[State 2710, Beam]
type = Projectile
trigger1 = AnimElem = 2
projanim = 2715
projhitanim = -1
projpriority = 5
projremovetime = 115
projscale =  1,1
projid = 2715
projhits = 50
projmisstime = 1
numhits = 1
velocity = 0,0
offset = 48,-72
attr = S, NA
damage   = 6,2
animtype = MEDIUM
guardflag = MA
hitflag = MAFP
pausetime = 1,1
hitsound   = S1100,2
sparkno = -1
guard.sparkno =-1
sparkxy = -10,-46
guardsound = S1100,2
ground.type = High
ground.slidetime = 25
ground.hittime  = 15
ground.velocity = -4,-0.5
air.animtype = High
air.velocity = -4,-0.5
air.juggle = 2
down.velocity = -4,-6
down.hittime = 30
down.bounce = 0
palfx.time = 23
palfx.add = 0,128,255
fall = 1
removeongethit = 1
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0


[State 700, 3]
type=ChangeState
trigger1=Time=120
trigger1=Pos Y < 0
value=1500

[State 2610, 6]
type = changestate
trigger1 = time = 120
value = 0
ctrl = 1

;-----------------------------------------------------------
;Shoot  Medio
[Statedef 2711]
type = S
movetype = A
physics = S
velset = 0,0,0
ctrl = 0
poweradd = -1000
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
shadow = 0,0,0

[State 5040,Helper]
type            = Helper
trigger1        = (TimeMod = 30,0)
helpertype	= normal
name		= "Push Effect"
id              = 1103
pos		= 0,0
postype         = p1
facing		= 1
stateno	        = 1103
keyctrl	        = 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= 1
size.yscale	= 1

[State 1800, BGColorFX]
type = BGPalFX
trigger1 = Time = 1
time = 110
add = Var(13),Var(13),Var(13)
mul = 56,116,70;115

[State 0, ]
type = Explod
trigger1 = time= 1;(time%6)=0
anim = 7521
ID = 8100
pos = 0,0-ceil(pos Y)
facing = 1
scale = 1,.5
postype = p1
sprpriority = 1
ontop = 0
ownpal = 0
ignorehitpause = 1

[State 0, ]
type = Explod
trigger1 = time= 1;(time%6)=0
anim = 7523
ID = 7523
pos = 66,-82
facing = 1
scale = 1,0.35
postype = p1
sprpriority = 1
ontop = 0
ownpal = 0
ignorehitpause = 1

[State 2501, 2]
type = changeanim
trigger1 = time = 0
value = 2710

[State 2711,9]
type = playsnd
trigger1 = AnimElem = 2
value = 2710,0
volume = 255

[State 2711, Beam]
type = Projectile
trigger1 = AnimElem = 2
projanim = 2715
projhitanim = -1
projpriority = 5
projremovetime = 115
projid = 2715
projscale =  0.8,0.8
projhits = 35
projmisstime = 1
numhits = 1
velocity = 0
accel = 0
offset = 48,-68
attr = S, NA
damage   = 5,2
animtype = MEDIUM
guardflag = MA
hitflag = MAFP
pausetime = 1,1
hitsound   = S1100,2
sparkno = -1
guard.sparkno =-1
sparkxy = -10,-46
guardsound = S1100,2
ground.type = High
ground.slidetime = 25
ground.hittime  = 15
ground.velocity = -4,-0.5
air.animtype = High
air.velocity = -4,-0.5
air.juggle = 2
down.velocity = -4,-6
down.hittime = 30
down.bounce = 0
palfx.time = 23
palfx.add = 0,128,255
fall = 1
removeongethit = 1
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0

[State 700, 3]
type=ChangeState
trigger1=Time=120
trigger1=Pos Y < 0
value=1500

[State 2610, 6]
type = changestate
trigger1 = time = 120
value = 0
ctrl = 1

;------------------------------------------------------
;Shoot Debil
[Statedef 2712]
type = S
movetype = A
physics = S
velset = 0,0,0
ctrl = 0
poweradd = -500
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
shadow = 0,0,0

[State 5040,Helper]
type            = Helper
trigger1        = (TimeMod = 30,0)
helpertype	= normal
name		= "Push Effect"
id              = 1103
pos		= 0,0
postype         = p1
facing		= 1
stateno	        = 1103
keyctrl	        = 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= 1
size.yscale	= 1

[State 1800, BGColorFX]
type = BGPalFX
trigger1 = Time = 1
time = 85
add = Var(13),Var(13),Var(13)
mul = 56,116,70;115

[State 0, ]
type = Explod
trigger1 = time= 1;(time%6)=0
anim = 7521
ID = 8100
pos = 0,0-ceil(pos Y)
facing = 1
scale = 1,.5
postype = p1
sprpriority = 1
ontop = 0
ownpal = 0
ignorehitpause = 1

[State 0, ]
type = Explod
trigger1 = time= 1;(time%6)=0
anim = 7523
ID = 7523
pos = 66,-74
facing = 1
scale = 1,0.25
postype = p1
sprpriority = 1
ontop = 0
ownpal = 0
ignorehitpause = 1

[State 2501, 2]
type = changeanim
trigger1 = time = 0
value = 2710

[State 2710,9]
type = playsnd
trigger1 = AnimElem = 2
value = 2710,0
volume = 255

[State 2710, Beam]
type = Projectile
trigger1 = AnimElem = 2
projanim = 2715
projhitanim = -1
projpriority = 5
projremovetime = 115
projid = 2715
projscale =  0.6,0.6
projhits = 25
projmisstime = 1
numhits = 1
velocity = 0
accel = 0
offset = 55,-64
attr = S, NA
damage   = 4,2
animtype = MEDIUM
guardflag = MA
hitflag = MAFP
pausetime = 1,1
hitsound   = S1100,2
sparkno = -1
guard.sparkno =-1
sparkxy = -10,-46
guardsound = S1100,2
ground.type = High
ground.slidetime = 25
ground.hittime  = 15
ground.velocity = -4,-0.5
air.animtype = High
air.velocity = -4,-0.5
air.juggle = 2
down.velocity = -4,-6
down.hittime = 30
down.bounce = 0
palfx.time = 23
palfx.add = 0,128,255
fall = 1
removeongethit = 1
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0

[State 700, 3]
type=ChangeState
trigger1=Time=120
trigger1=Pos Y < 0
value=1500

[State 2610, 6]
type = changestate
trigger1 = time = 120
value = 0
ctrl = 1

;--------------------------------------------------------------------------
;Kiensan
[StateDef 1302]
type = S
movetype= A
physics = S
juggle = 6
velset = 0,0
ctrl = 0
anim = 1350
poweradd = -300
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1200,0
volume = 255

[State 0]
type = PalFX
triggerall = Anim = 1350
trigger1 = (time%5)=0
time = 5
add = -50,-50,-50
mul = 300,300,300
sinadd = 50,50,50,5
invertall = 0
color = 256

[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 20
value = 0

[State 0, ]
type = Explod
trigger1 = (Anim = 1351) && (AnimElem = 2)
triggerall = pos y = 0
anim = 7520
ID = 8100
pos = -25,0
facing = 1
scale = 0.9,0.9
postype = p1
sprpriority = 1
ontop = 0
ownpal = 1
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = (Anim = 1350) && (AnimElem = 2,>=19)
v = 20
value = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Anim = 1350 && AnimElemTime(2) >= 19
trigger1 = command != "hold_y"
trigger2 = var(20) >= 35
value = 1351

[State 0, PowerAdd]
type = PowerAdd
triggerall = var(20)
trigger1 = (Anim = 1350) && (AnimElem = 2,>=19)
value = -10

[State 0, Helper]
type = Helper
trigger1 = Anim = 1350 && AnimElem = 1
helpertype = normal
name = "kiensan"
ID = 1320
stateno = 1320
pos = -10,-90
postype = p1
facing = 1
ownpal = 1
size.xscale = 1.1
size.yscale = .9

[State 0, Helper]
type = Helper
trigger1 = (Anim = 1351 && AnimElem = 1)
helpertype = normal
name = "kiensan2"
ID = 1330
stateno = 1330
pos = 45,-45
postype = p1
facing = 1
ownpal = 1
size.xscale = 1.1
size.yscale = .9

[State 0, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;--------------------------------------------------------------------------
[StateDef 1310]
type = A
movetype= A
physics = N
juggle  = 0
velset = 7,0
ctrl = 0
anim = 8330
poweradd = 0;0
sprpriority = 5

[State 0, ]
type = Explod
trigger1 = (time%6)=0
anim = 7520
ID = 8100
pos = 0,0-ceil(pos Y)
facing = 1
scale = 1,.5
postype = p1
sprpriority = 5
ontop = 0
ownpal = 1
ignorehitpause = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = Parent, PalNo = [7,9]
time = 999
add = 0,0,0
mul = 256,256,512
sinadd = 0,0,0,1
invertall = 0
color = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NP,SP,HP
slot = 0
stateno = 1311
time = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NP,SP,HP
time = 1

[State -2, ComboDampener-Increase]
type = ParentVarAdd
trigger1 = MoveType = A
trigger1 = MoveHit = 1
trigger1 = FVar(10) < 31
trigger1 = NumTarget
fv = 10
value = 1
persistent = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
trigger1 = !time
attr = A,SA
hitflag = MAF
guardflag = MA
animtype = Hard
air.animtype = Hard
priority = 4,Hit
damage = ceil(45*parent, fvar(13)),ceil(9*parent, fvar(13))
pausetime = 0,10
sparkno = S19000
guard.sparkno = S19000
sparkxy = -20,0
hitsound = S3,3
guardsound = S3,3
ground.type = Low      ;Low,Trip,None
ground.slidetime = 25
ground.hittime = 25
air.hittime = 25
ground.velocity = -7,0
air.velocity = -4,-3
sprpriority = 3
palfx.time = 15
palfx.add = -100,-100,-100
palfx.mul = 350,350,256
palfx.sinadd = 100,100,0,15
envshake.time = 15
envshake.freq = 120
envshake.ampl = 6
getpower = 0;0

[State 0, VelSet]
type = VelSet
trigger1 = movecontact
x = 0
y = 0
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = Movecontact
value = 1311
ctrl = 0
ignorehitpause = 1
;persistent =

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 25
value = 1312
ctrl = 0
ignorehitpause = 1
;persistent =

;--------------------------------------------------------------------------
[StateDef 1311]
type = S
movetype= A
physics = N
velset = 0,0
Anim = 8331
ctrl = 0
sprpriority = 5

[State 0, PalFXWiz]
type = PalFX
trigger1 = parent, PalNo = [7,9]
time = 999
add = 0,0,0
mul = 256,256,512
sinadd = 0,0,0,1
invertall = 0
color = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 45


;--------------------------------------------------------------------------
[StateDef 1312]
type = S
movetype= A
physics = N
ctrl = 0
sprpriority = 5

[State 0, ]
type = Explod
triggerall = time<10
trigger1 = (time%6)=0
anim = 7520
ID = 8100
pos = 0,0-ceil(pos Y)
facing = 1
scale = 1-(time*.1),.5-(time*.05)
postype = p1
sprpriority = 5
ontop = 0
ownpal = 1
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = parent, PalNo = [7,9]
trigger1 = time = [0,1]
flag = invisible

[State 0, PalFXWiz]
type = PalFX
trigger1 = parent, PalNo = [7,9]
time = 999
add = 0,0,0
mul = 256,256,512
sinadd = 0,0,0,1
invertall = 0
color = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, VelMul]
type = VelMul
trigger1 = 1
x = .9

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Add

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1-(time*.05),1-(time*.05)

[State 0, PalFX]
type = PalFX
trigger1 = !time
time = 20
sinadd = -255,-255,-255,80
invertall = 0
color = 256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 20

;--------------------------------------------------------------------------
[StateDef 1330]
type = A
movetype= A
physics = N
juggle  = 0
velset = 9,0
ctrl = 0
anim = 8330
poweradd = 0;0
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !Time
value = S1200,1
volume = 255
channel = 2

[State 0, ]
type = Explod
triggerall= pos y > -80
trigger1 = (time%6)=0
anim = 7520
ID = 8100
pos = 0,0-ceil(pos Y)
facing = 1
scale = 1,.5
postype = p1
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = Parent, PalNo = [7,9]
time = 999
add = 0,0,0
mul = 256,256,512
sinadd = 0,0,0,1
invertall = 0
color = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NP,SP,HP
slot = 0
stateno = 1311
time = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NP,SP,HP
time = 1

[State -2, ComboDampener-Increase]
type = ParentVarAdd
trigger1 = MoveType = A
trigger1 = MoveHit = 1
trigger1 = FVar(10) < 31
trigger1 = NumTarget
fv = 10
value = 1
persistent = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, HitDef]
type = HitDef
trigger1 = !time
attr = A,SA
hitflag = MAF
guardflag = MA
animtype = Hard
air.animtype = Hard
priority = 4,Hit   ;Hit,Miss,Dodge
damage = 100,20
pausetime = 0,10
;guard.pause,0
sparkno = S19000
guard.sparkno = S19000
sparkxy = -20,0
hitsound = S3,3
guardsound = S3,3
ground.type = Low      ;Low,Trip,None
ground.slidetime = 25
ground.hittime = 25
air.hittime = 25
ground.velocity = -7,-2
fall = 1
air.velocity = -7,-2
sprpriority = 3
palfx.time = 15
palfx.add = -100,-100,-100
palfx.mul = 350,350,256
palfx.sinadd = 100,100,0,15
envshake.time = 15
envshake.freq = 120
envshake.ampl = 6
getpower = 0;0

[State 0, VelSet]
type = VelSet
trigger1 = movecontact
x = 0
y = 0
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = Movecontact
value = 1311
ctrl = 0
ignorehitpause = 1
;persistent =

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 35
value = 1312
ctrl = 0
ignorehitpause = 1
;persistent =
;--------------------------------------------------------------------------
[StateDef 1320]
type = S
movetype= I
physics = N
velset = 0,0
Anim = 8460
ctrl = 0
sprpriority = 5

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = parent, pos x-25*facing
y = parent, pos y-73

[State 0, PalFXWiz]
type = PalFX
trigger1 = parent, PalNo = [7,9]
time = 999
add = 0,0,0
mul = 256,256,512
sinadd = 0,0,0,1
invertall = 0
color = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno != 1302
trigger2 = (parent, stateno = 1302) && (parent, Anim = 1351)
ignorehitpause = 1

;--------------------------------------------------------------

;Kame Hame Ha
[Statedef 3500]
type    = S
movetype= A
physics = S
juggle  = 4
PowerAdd = -1000
velset = 0,0
ctrl = 0
anim = 3500+ifelse(var(1)=0,0,3000)

[State 1800, Voice]
type = PlaySnd
trigger1 = time = 1
value = 5,1
removeongethit = 1

[State 1800, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 0
anim = -1
pos = -5,-33
darken = 0
unhittable = 1

[State 3500: magia]
type = Explod
trigger1 = (Time = 5)
anim = 2610
ID = 2610
pos = -33,-34
postype = p1
facing = 1
bindtime = -1
;removetime = 155
supermove = -1
removeongethit = 1
sprpriority = 3

[State 1800, Ball]
type = Explod
trigger1 = time = 8
Anim = 2605
pos = -38,-35
Id = 12051
sprpriority = 3
removeongethit = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 1,1
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
shadow = 0,0,0

[State 1800, VarSet]
type = Varset
trigger1 = time = 0
v = 13
value = -200

[State 1800, VarAdd]
type = VarAdd
trigger1 = time >= 55 && Var(13) < 0
v = 13
value = 5

[State 1800, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 62
add = Var(13),Var(13),Var(13)
mul = 56,116,70;115

[State 1800, VelSetY]
Type = VelSet
Trigger1 = Time = 0
y = 0

[State 1850, Next-Up]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = animtime = 0 && command = "holdup" && command != "holddown"
value = 2002
ctrl = 1

[State 1850, Next-Down]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = animtime = 0 && command = "holddown" && command != "holdup"
value = 2003
ctrl = 1

[State 1850, Next-Straight]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = animtime = 0
value = 2001
ctrl = 1

[State 1850, AI.Next-Up]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = animtime = 0 && (p2bodydist y <= -80)
value = 2002
ctrl = 1

[State 1850, AI.Next-Down]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = animtime = 0 && (p2bodydist y >= 30)
value = 2003
ctrl = 1

[State 1850, AI.Next-Straight]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = animtime = 0 && (p2bodydist y > -80 && p2bodydist y < 30)
value = 2001
ctrl = 1
;---------------------------------------------------------------------------
;KameHameHa Fire
[Statedef 2001]
type    = S
movetype= A
physics = S
velset = 0,0,0
ctrl = 0
anim = 2501+ifelse(var(1)=0,0,3000)

[State 1800, Voice]
type = PlaySnd
trigger1 = time = 1
value = 5,4
removeongethit = 1

[State 1801, VelSetY]
Type = VelSet
Trigger1 = Time = 0
y = 0

[State 1801, Flame]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
Anim = 12001
Pos = -15, 0
Id = 12001
postype = p1
scale = 0.35,0.35
sprpriority = 3
removeongethit = 1

[State 5040,Helper]
type            = Helper
trigger1        = (TimeMod = 30,0)
helpertype	= normal
name		= "Push Effect"
id              = 1103
pos		= 0,0
postype         = p1
facing		= 1
stateno	        = 1103
keyctrl	        = 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= 1
size.yscale	= 1

[State 1801, KameHameHa.Helper]
type = Helper
trigger1 = Time = 1
name = "KameHameHa"
stateno = 12100
postype = p1
pos = 25, -53
size.xscale = .45
size.yscale = .40
removeongethit = 1

[State 1801, End]
type = ChangeState
trigger1 = Time = 75
value	= IfElse(BackEdgeBodydist >= 0, 2004, 100)
ctrl = 1
;---------------------------------------------------------------------------
;KameHameHa Fire Up
[Statedef 2002]
type    = S
movetype= A
physics = S
velset = 0,0,0
ctrl = 0
anim = 2502+ifelse(var(1)=0,0,3000)

[State 1800, Voice]
type = PlaySnd
trigger1 = time = 1
value = 5,4
removeongethit = 1


[State 1802, VelSetY]
Type = VelSet
Trigger1 = Time = 0
y = 0

[State 1802, Flame]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
Anim = 12001
Pos = -15, 0
Id = 12001
postype = p1
scale = 0.35,0.35
sprpriority = 3
removeongethit = 1

[State 1802, KameHameHa.Helper]
type = Helper
trigger1 = Time = 1
name = "KameHameHa"
stateno = 12110
postype = p1
pos = 45, -70
size.xscale = .45
size.yscale = .40
removeongethit = 1

[State 5040,Helper]
type            = Helper
trigger1        = (TimeMod = 30,0)
helpertype	= normal
name		= "Push Effect"
id              = 1103
pos		= 0,0
postype         = p1
facing		= 1
stateno	        = 1103
keyctrl	        = 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= 1
size.yscale	= 1

[State 1802, End]
type = ChangeState
trigger1 = Time = 75
value	= IfElse(BackEdgeBodydist >= 0, 2004, 100)
ctrl = 1
;---------------------------------------------------------------------------
;KameHameHa Fire Down
[Statedef 2003]
type    = S
movetype= A
physics = S
velset = 0,0,0
ctrl = 0
anim = 2503+ifelse(var(1)=0,0,3000)
sprpriority = -2

[State 1800, Voice]
type = PlaySnd
trigger1 = time = 1
value = 5,4
removeongethit = 1


[State 1803, VelSetY]
Type = VelSet
Trigger1 = Time = 0
y = 0

[State 1803, Flame]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
Anim = 12001
Pos = -15, 0
Id = 12001
postype = p1
scale = 0.35,0.35
sprpriority = 1
removeongethit = 1

[State 1803, KameHameHa.Helper]
type = Helper
trigger1 = Time = 1
name = "KameHameHa"
stateno = 12120
postype = p1
pos = 39, -37
size.xscale = .45
size.yscale = .40
removeongethit = 1


[State 5040,Helper]
type            = Helper
trigger1        = (TimeMod = 30,0)
helpertype	= normal
name		= "Push Effect"
id              = 1103
pos		= 0,0
postype         = p1
facing		= 1
stateno	        = 1103
keyctrl	        = 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= 1
size.yscale	= 1

[State 1803, End]
type = ChangeState
trigger1 = Time = 75
value	= IfElse(BackEdgeBodydist >= 0, 2004, 100)
ctrl = 1
;---------------------------------------------------------------------------
;KamehameHa End
[Statedef 2004]
type    = S
movetype= A
physics = S
velset = 0,0,0
ctrl = 0
sprpriority = -1

[State 1804, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 2004;+ifelse(var(1)=0,0,3000)

[State 2500, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 1804, End]
type = ChangeState
trigger1 = animtime = 0
value	= 0
ctrl = 1

;---------------------------------------------------------------------------
;KameHameHa Beam : Used in State 2000
[StateDef 12100]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 2515
ctrl = 0
sprpriority = 4

[State 12100, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12100, No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 12100, Explosion]
type = HitDef
trigger1 = 1
attr = S, HP
animtype  = Hard
Damage = 3,1
guardflag = MA
pausetime = 1,1
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
getpower = 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -25, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -25, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 12120, Explosion.Sound1]
type = PlaySND
trigger1 = movehit && numhelper(13100) = 0 && time >= 45
value = 3,3
volume = 255

[State 12120, Explosion.Sound2]
type = PlaySND
trigger1 = moveguarded && numhelper(13100) = 0 && time >= 45
value = 3,3

[State 12100, Explosion.Helper]
type = Helper
trigger1 = movecontact && time >= 45 && numhelper(13100) = 0
name = "Explosion"
stateno = 13100
postype = p2
pos = -15, -46
size.xscale = 0.8
size.yscale = 0.8
;keyctrl = 0
ownpal = 1
id = 13100

[State 12100, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;KameHameHa Beam Up: Used in State 2002
[StateDef 12110]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 2516
ctrl = 0
sprpriority = 4

[State 12110, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12110, No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 12110, Explosion]
type = HitDef
trigger1 = 1
attr = S, HP
animtype  = Hard
Damage = 3,1
guardflag = MA
pausetime = 1,1
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
getpower = 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -15, -10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -15, -10
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 12120, Explosion.Sound1]
type = PlaySND
trigger1 = movehit && numhelper(13100) = 0 && time >= 45
value = 3,3
volume = 255

[State 12120, Explosion.Sound2]
type = PlaySND
trigger1 = moveguarded && numhelper(13100) = 0 && time >= 45
value = 3,3

[State 12110, Explosion.Helper]
type = Helper
trigger1 = movecontact && numhelper(13100) = 0 && time >= 45
name = "Explosion"
stateno = 13100
postype = p2
pos = -15, -33
size.xscale = 0.8
size.yscale = 0.8
keyctrl = 0
ownpal = 1
id = 13100

[State 12110, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 12110, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;KameHameHa Beam Up: Used in State 2003
[StateDef 12120]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 2517
ctrl = 0
sprpriority = 4
ontop = 0

[State 12120, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12120, No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 12120, Explosion]
type = HitDef
trigger1 = 1
attr = S, HP
animtype  = Hard
Damage = 3,1
guardflag = MA
pausetime = 1,1
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
getpower = 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -15, 10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -15, 10
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1
ownpal = 1
ontop = 1

[State 12120, Explosion.Sound1]
type = PlaySND
trigger1 = movehit && numhelper(13100) = 0 && time >= 45
value = 3,3
volume = 255

[State 12120, Explosion.Sound2]
type = PlaySND
trigger1 = moveguarded && numhelper(13100) = 0 && time >= 45
value = 3,3

[State 12120, Explosion.Helper]
type = Helper
trigger1 = movecontact && numhelper(13100) = 0 && time >= 45
name = "Explosion"
stateno = 13100
postype = p2
pos = -15, -33
size.xscale = 0.8
size.yscale = 0.8
keyctrl = 0
ownpal = 1
id = 13100

[State 12120, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 12120, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Explosion Helper
[StateDef 13100]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 19000
ctrl = 0
sprpriority = 4

[State 13100, No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 13100, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0


;-------------------------------------------------------------
;Rayo de Energia 1
[Statedef 700]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0,0
anim = 700
poweradd= -400

[State 700, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 2
value = 915,0
volume = 255

[State 700, Magia]
type = Projectile
trigger1 = AnimElem = 1
getpower  = 0
projanim = 706
projhitanim = 4
projpriority = 1
projremovetime = 50
projid = 706
projhits = 10
projscale =  1.46,0.81
projmisstime = 1
velocity = 0,0
accel = 0
offset = 87,-53
attr = S, HA;S, NA
damage   = 6,2
animtype = HARD
guardflag = MA
hitflag = MAFP
pausetime = 0,15
hitsound   = S701,0
sparkno = -1
guard.sparkno = -1
guardsound = S1791,0
ground.type = High
ground.slidetime = 1
ground.hittime  = 20
ground.velocity = -1,0
air.animtype = High
air.velocity = -2,-1
air.juggle = 2
palfx.time = 25
palfx.add = 0,128,255

[State 750, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1500
ctrl = 0

[State 700, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Rayo de Energia 2
[Statedef 710]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0,0
anim = 710
poweradd= -400

[State 710, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 2
value = 915,0
volume = 255

[State 710, Magia]
type = Projectile
trigger1 = AnimElem = 1
getpower  = 0
projanim = 706
projhitanim = 4
projpriority = 30
projremovetime = 50
projscale =  1.46,0.81
projhits = 10
projmisstime = 1
velocity = 0,0
accel = 0
offset = 85,-35
attr = S, HA;S, NA
damage   =6,2
animtype = HARD
guardflag = MA
hitflag = MAFP
pausetime = 0,15
hitsound   = S701,0
sparkno = -1
guard.sparkno = -1
guardsound = S1791,0
ground.type = High
ground.slidetime = 1
ground.hittime  = 20
ground.velocity = -1,0
air.animtype = High
air.velocity = -2,-1
air.juggle = 2
palfx.time = 25
palfx.add = 0,128,255

[State 750, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1500
ctrl = 0

[State 710, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------------------------------------
;Rayo de Energia 3
[Statedef 750]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0,0
anim = 750
poweradd= -400

[State 750, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 2
value = 915,0
volume = 255

[State 710, Magia]
type = Projectile
trigger1 = AnimElem = 1
getpower  = 0
projanim = 730
projhitanim = 4
projpriority = 30
projremovetime = 50
projscale =  1.8,0.81
projid = 730
projhits = 10
projmisstime = 1
velocity = 0,0
accel = 0
offset = 89,-75
attr = S, HA;S, NA
damage   = 6,2
animtype = HARD
guardflag = MA
hitflag = MAFP
pausetime = 0,15
hitsound   = S701,0
sparkno = -1
guard.sparkno = -1
guardsound = S1791,0
ground.type = High
ground.slidetime = 1
ground.hittime  = 20
ground.velocity = -1,0
air.animtype = High
air.velocity = -2,-1
air.juggle = 2
palfx.time = 25
palfx.add = 0,128,255

[State 750, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 750, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1500
ctrl = 0

;---------------------------------------------------------------------------
;Super Salto
[Statedef 707]
type=A
movetype=I
physics=A
velset=0,0
ctrl=1

[State 0, ]
type = Explod
trigger1 = !time
anim = 8901
ID = 8901
pos = 0,0
postype = p1
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State 610, 2]
type = PlaySnd
trigger1 = time = 2
value = 1600,1

[State 0]
type=Veladd
trigger1=Vel X>=0 && vel x<4 && vel y<0
trigger1=command="holdfwd"
x=2.4

[State 0]
type=Veladd
trigger1=Vel X<=0 && vel x>-4 && vel y<0
trigger1=command="holdback"
x=-2.4

[State x]
type=Veladd
trigger1=(command !="holdback") && (command !="holdfwd")
x=ifelse(Vel X<0,0.2,ifelse(Vel X>0,-0.2,0))

[State 0]
type=VelSet
trigger1=!time
x=const(velocity.jump.neu.x)
y=-13.0

[State 50,2]
type=ChangeAnim
trigger1=!time
value=ifelse(vel x=0,41,ifelse(vel x>0,42,43))

[State 50,3]
type=ChangeAnim
trigger1=Vel y>-2
trigger1=SelfAnimExist(anim+3)
persistent=0
value=Anim+3

[State 0]
type=ChangeState
trigger1=(var(59)>0)&&(p2bodydist y<-50)&&(vel y>0)
value=551
ctrl=1

[State 0]
type=ChangeState
trigger1=(var(59)>0)&&(random>100)&&(p2bodydist x=[0,30])&&(p2bodydist y=[-70,0])
value=ifelse(random>500,410,ifelse(random>500,430,ifelse(random>500,440,ifelse(random>500,450,400))))

[State 0]
type=ChangeState
trigger1=time>10
trigger1=pos y>=0
value=50
;ctrl=1

[State 500, 1]
type = AfterImage
trigger1 = time = 0
time = 23
length = 5
palcontrast = 255+(var(25)=3)*50,255+(var(25)=3)*50,255-(var(25)=3)*100
paladd = -25+(var(25)=3)*15,-25+(var(25)=3)*15,-10-(var(25)=3)*15
palmul = .65+(var(25)=3)*.1,.65+(var(25)=3)*.1,.75-(var(25)=3)*.1
timegap = 2
framegap = 1
trans = add
;---------------------------------------------------------------------
;Genkidama
[Statedef 1900]
type    = S
movetype= A
physics = S
poweradd= -2000
ctrl = 0
anim = 1900
velset = 0

[State 1800, BGColorFX]
type = BGPalFX
trigger1 = Time = 1
time = 520
add = Var(13),Var(13),Var(13)
mul = 56,116,70;115

[State 1900, 1]
type = SuperPause
trigger1 = Time = 0
time = 430
Pos = 99999, -99999
movetime = 350
Darken = 0

[State 1700, ball]
type = Explod
trigger1 = AnimElem = 2
anim = 1905
pos = 5,-290
velocity = 0,0.36
bindtime = 3
sprpriority = 4
removetime = 470
scale = 1.25,1.25
supermove = 1

;[State 2000,NoHit]
;type = NotHitBy
;trigger1 = Time > 234
;value = ,NP,SP,NA,SA

[State 1211, 1]
type = velset
trigger1 = time >= 0
trigger1 = time <= 48
x = 0
y = 0

[State 1900, 3]
type = PlaySnd
trigger1 = Time = 70
value = 3,4

[State 1900, 3]
type = PlaySnd
trigger1 = time = 45
value = 3,6

[State 1900, 4]
type = AfterImage
trigger1 = Time = 1
Time = 45
TimeGap  = 1
FrameGap = 4

[State 1900, 3]
type = PlaySnd
trigger1 = time = 383
value = 3,5

[State 3021,ProjUp]
type = Projectile
trigger1 = AnimElem = 4
trigger1 = Command = "holdup"
ProjAnim = 1905
;ProjHitAnim = 18999
projscale = 1.25,1.25
offset = 35, -50
velocity = 9,-9
remvelocity = 0,0
accel = 0, 0
ProjPriority = 6
attr = S, NA
animtype = MEDIUM
hitflag = MAFP
damage    = 550,250
getpower = 0
guardflag = MA
pausetime = 0,12
sparkno = S18999
guard.sparkno = S18999
hitsound = S1100, 2
guardsound = S1100, 2
ground.type = Trip
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8,-6
guard.velocity = -3.5
airguard.velocity = -3.5,-2.75
air.type = Low
air.velocity = -8,-6
fall = 1

[State 3021,GroundProjStraight]
type = Projectile
trigger1 = AnimElem = 4
trigger1 = Pos Y >= 0
trigger1 = Command != "holdup"
ProjAnim = 1905
projscale = 1.45,1.45
offset = 35, -50
velocity = 8.5, 0
remvelocity = 0,0
;velmul = 1.005, 1
accel = 0, 0
ProjPriority = 6
attr = S, NA
animtype = MEDIUM
hitflag = MAFP
;HitDef part
;attr = S, HP
damage    = 550,250
getpower = 0
givepower = 10
guardflag = MA
pausetime = 0,12
sparkno = S18999
guard.sparkno = S18999
hitsound = S1100, 2
guardsound = S1100, 2
ground.type = Trip
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8,-6
guard.velocity = -3.5
airguard.velocity = -3.5,-2.75
air.type = Low
air.velocity = -8,-6
fall = 1

[State 3021,AirProjStraight]
type = Projectile
trigger1 = AnimElem = 4
trigger1 = Pos Y < 0
trigger1 = Command != "holdup"
trigger1 = Command != "holddown"
ProjAnim = 1905
projscale = 1.45,1.45
offset = 35, -50
velocity = 8.5, 0
remvelocity = 0,0
;velmul = 1.005, 1
accel = 0, 0
ProjPriority = 6
attr = S, NA
animtype = MEDIUM
hitflag = MAFP
;HitDef part
;attr = S, HP
damage    = 550,250
getpower = 0
givepower = 10
guardflag = MA
pausetime = 0,12
sparkno = S18999
guard.sparkno = S18999
hitsound = S1100, 2
guardsound = S1100, 2
ground.type = Trip
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8,-6
guard.velocity = -3.5
airguard.velocity = -3.5,-2.75
air.type = Low
air.velocity = -8,-6
fall = 1

[State 3021,ProjDown]
type = Projectile
trigger1 = AnimElem = 4
trigger1 = Command != "holdup"
trigger1 = Command = "holddown"
trigger1 = Pos Y < 0
ProjAnim = 1905
projscale = 1.45,1.45
ProjID = 555
offset = 35, -50
velocity = 9,9
remvelocity = 0,0
;velmul = 1.005, 1
accel = 0, 0
ProjPriority = 6
attr = S, NA
animtype = MEDIUM
hitflag = MAFP
;HitDef part
;attr = S, HP
damage    = 550,250
getpower = 0
givepower = 10
;hitflag = MAFD
guardflag = MA
pausetime = 0,12
sparkno = S18999
guard.sparkno = S18999
hitsound = S1100, 2
guardsound = S1100, 2
ground.type = Trip
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8,-6
guard.velocity = -3.5
airguard.velocity = -3.5,-2.75
air.type = Low
air.velocity = -8,-6
fall = 1

[State 1500, 3]
type = ChangeState
trigger1 = Time = 490
trigger1 = Pos Y < 0
value = 1500

[State 1900, end]
type = ChangeState
trigger1 = Time = 490
value = 0
ctrl = 1

;--------------------------------------------------------------------
;Super Imperfect Cell
[Statedef 2999]
type = S
movetype = I
physics = S
anim = 500
velset = 0,0
poweradd = -2500
ctrl = 0

[State 2999,PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = 7,3
Volume = 0

[State 2999,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2999, 1]
type = superpause
trigger1 = time = 1
time = 140
movetime = 140
anim = -1

[State 191, Shake]
type = EnvShake
trigger1 = time >= 10
trigger1 = Timemod = 8,0
Time = 8
freq = 60
ampl = -2
phase = 0

[state 191, ColorFX]
type = PalFX
trigger1 = Time > 100
trigger1 = TimeMod = 9,0
time = 12
add = 64,64,64

[state 191, AllColorFX]
type = AllPalFX
trigger1 = animtime = -1
time = 14
add = 256,256,256

;[State 2999,BgPalFx]
;type=BgPalFx
;trigger1=(!Time)
;add=0,0,0
;sinadd=-80,-80,-80,100;-255,-255,-255,100
;time=30

[State 2999, Explod]
type = Explod
trigger1 = time = 125
anim = 15070
pos = 0,12
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.73,0.76
vel = 0,0
accel = 0,0
random = 0,0
supermovetime= 60
sprpriority = 4
ontop = 1
shadow = 0,0,0
ownpal = 1
removetime = 650
;removeongethit = 1

[State 2999,PlaySnd]
type = PlaySnd
trigger1 = time = 125
value = 7,8
Volume = 0

[State 2999,PlaySnd]
type = PlaySnd
trigger1 = time = 140
value = 7,9
Volume = 0

[State 2999,VarSet]
type = VarSet
trigger1 = (!Time)
v = 4
value = 1

[State 2999,ChangeState]
type = ChangeState
trigger1 = (!AnimTime)
value = 0
ctrl = 1

;~~~~~~~~~~~~~~~~~~~~~---------------------------------------------------------
;Hited StateS
[Statedef 3001]
type = S
movetype = H
physics = S
ctrl = 1
anim = 0

[State 3000,PosSet]
type = PosSet
trigger1 = (Pos Y!= 0)
y = 0

[State 3000,ChangeState]
type = ChangeState
trigger1 = (Pos Y = 0)
value = 0
;-------------------------------------------------------------------------------
;Hited StateC
[Statedef 3002]
type = C
movetype = H
physics = C
ctrl = 1
anim = 11

[State 3001,PosSet]
type = PosSet
trigger1 = (Pos Y != 0)
y = 0

[State 3001, 0]
type = ChangeState
trigger1 = (time!= 0)&&(Pos Y = 0)
value = 11
;-------------------------------------------------------------------------------
;Hited StateA
[Statedef 3003]
type = A
movetype = H
physics = A
ctrl = 1

[State 3002,CtrlSet]
type = CtrlSet
trigger1 = (!time)
value = 1
;-------------------------------------------------------------------------------


;----------------------------------------------------------------------
;Combo_X!!
;Primer Golpe X
[StateDef 3105]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 100
poweradd = -200
sprpriority = 2

[State 3105]
type = AfterImage
trigger1 = time = 1
time = 12
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 256,256,256
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 0, VarAdd]
type = VarAdd
trigger1 = !time && var(3) <= 2
v = 3
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = !time
flag = invisible

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 2
value =  3102
ctrl = 0

;.............................................
[StateDef 3102]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 100
poweradd = 0;0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S700,0
volume = 255
channel = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Pause]
type = Pause
trigger1 = P2MoveType = H
time = 15
movetime = 15

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 =Pos Y < 0
statetype = A
movetype = A
physics = N

[State 0, PosSet]
type = PosSet
trigger1 = !time && numtarget
x = ifelse(  facing = -1,(target, pos X-20), (target, pos X+20)  )
y = target, pos Y

[State 0, PosSet]
type = PosSet
trigger1 = !time && !numtarget
x = ifelse(  facing = -1,(enemynear, pos X-20), (enemynear, pos X+20)  )
y = enemynear, pos Y

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animTime
value =  3103
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime
value =  0+(statetype=A)*8074
ctrl = 1
;.............................................
[StateDef 3103]
type = U
movetype= A
physics = U
velset = 0,0
ctrl = 0
anim = 3100
poweradd = 0;0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 40, 15
animtype = Back
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15, 15
sparkno = S9052
guard.sparkno = S9053
sparkxy = -10, -45
hitsound = S1,3
guardsound = S1,3
ground.type = High
ground.slidetime = 30
ground.hittime  = 35
ground.velocity = -6,-6.5
Air.Fall = 1
air.type = High
air.hittime = 35
air.velocity = -6,-6.5
airguard.velocity = -4.5,0
getpower = 0;0
envshake.time = 15
envshake.freq = 120
envshake.ampl = 6

[State 0, EnvColor]
type = EnvColor
trigger1 =movehit
value = 255,255,255
time = 2
ignorehitpause = 1
persistent = 0

[State 1000, VarSet]
type = VarSet
trigger1 = time = 0
v = 16
value = 0

[State 1000, VarSet]
type = VarSet
triggerall = (Var(16) = 0 && time > 1)
trigger1 = (command = "x" || command = "x") || Var(39) = 1
v = 16
value = 1

[State 1000, Next]
type = ChangeState
trigger1 = Time >= 20 && Var(16) = 1 && power > 200
value = 3106
ctrl = 1

[State 7000, 6]
type = ChangeState
trigger1 = MoveHit != 1
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;.............................................
[StateDef 3106]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 100
poweradd = -200
sprpriority = 2

[State 3105]
type = AfterImage
trigger1 = time = 1
time = 12
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 256,256,256
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 0, VarAdd]
type = VarAdd
trigger1 = !time && var(3) <= 2
v = 3
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = !time
flag = invisible

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S700,0
volume = 255
channel = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 2
value =  3107
ctrl = 0

;.............................................
[StateDef 3107]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 3101
poweradd = 0;0
sprpriority = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Pause]
type = Pause
trigger1 = P2MoveType = H
time = 15
movetime = 15

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 =Pos Y > 0
statetype = A
movetype = A
physics = N

[State 0, PosSet]
type = PosSet
trigger1 = !time && numtarget
x = ifelse(  facing = -1,(target, pos X-20), (target, pos X+20)  )
y = target, pos Y

[State 0, PosSet]
type = PosSet
trigger1 = !time && !numtarget
x = ifelse(  facing = -1,(enemynear, pos X-20), (enemynear, pos X+20)  )
y = enemynear, pos Y

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animTime
value =  3108
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime
value =  0+(statetype=A)*3104
ctrl = 1

;.............................................
[StateDef 3108]
type = U
movetype= A
physics = U
velset = 0,0
ctrl = 0
anim = 260
poweradd = 0;0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 40, 15
animtype = Back
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15, 15
sparkno = S9052
guard.sparkno = S9053
sparkxy = -10, -45
hitsound = S1,3
guardsound = S1,3
ground.type = High
ground.slidetime = 30
ground.hittime  = 35
ground.velocity = -7,-11
Air.Fall = 1
air.type = High
air.hittime = 35
air.velocity = -7,-11
airguard.velocity = -4.5,0
getpower = 0;0
envshake.time = 15
envshake.freq = 120
envshake.ampl = 6

[State 0, EnvColor]
type = EnvColor
trigger1 =movehit
value = 255,255,255
time = 2
ignorehitpause = 1
persistent = 0

[State 1000, VarSet]
type = VarSet
trigger1 = time = 0
v = 15
value = 0

[State 1000, VarSet]
type = VarSet
triggerall = (Var(15) = 0 && time > 1)
trigger1 = (command = "x" || command = "x") || Var(39) = 1
v = 15
value = 1

[State 1000, Next]
type = ChangeState
trigger1 = Time >= 20 && Var(15) = 1 && power > 100
value = 3110
ctrl = 1

[State 7000, 6]
type = ChangeState
trigger1 = MoveHit != 1
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;..........................................
[StateDef 3109]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 100
poweradd = -200
sprpriority = 2

[State 3105]
type = AfterImage
trigger1 = time = 1
time = 12
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 256,256,256
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 0, VarAdd]
type = VarAdd
trigger1 = !time && var(3) <= 2
v = 3
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = !time
flag = invisible

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 2
value =  3110
ctrl = 0

;.............................................
[StateDef 3110]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 100
poweradd = 0;0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S700,0
volume = 255
channel = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Pause]
type = Pause
trigger1 = P2MoveType = H
time = 17
movetime = 17

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 =Pos Y < 0
statetype = A
movetype = A
physics = N

[State 0, PosSet]
type = PosSet
trigger1 = !time && numtarget
x = ifelse(  facing = -1,(target, pos X-25), (target, pos X+25)  )
y = target, pos Y

[State 0, PosSet]
type = PosSet
trigger1 = !time && !numtarget
x = ifelse(  facing = -1,(enemynear, pos X-25), (enemynear, pos X+25)  )
y = enemynear, pos Y

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animTime
value =  3111
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime
value =  0+(statetype=A)*8074
ctrl = 1

;.............................................
[StateDef 3111]
type = U
movetype= A
physics = U
velset = 0,0
ctrl = 0
anim = 3102
poweradd = 0;0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 40, 15
animtype = Back
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15, 15
sparkno = S9052
guard.sparkno = S9053
sparkxy = -10, -45
hitsound = S1,1
guardsound = S1,1
ground.type = High
ground.slidetime = 30
ground.hittime  = 35
ground.velocity = -5,-1.5
Air.Fall = 1
air.type = High
air.hittime = 35
air.velocity = -5,-1.5
airguard.velocity = -4.5,0
getpower = 0;0
envshake.time = 15
envshake.freq = 120
envshake.ampl = 6

[State 0, EnvColor]
type = EnvColor
trigger1 =movehit
value = 255,255,255
time = 2
ignorehitpause = 1
persistent = 0


[State 1000, VarSet]
type = VarSet
trigger1 = time = 0
v = 16
value = 0

[State 1000, VarSet]
type = VarSet
triggerall = (Var(16) = 0 && time > 1)
trigger1 = (command = "x" || command = "x") || Var(39) = 1
v = 16
value = 1

[State 1000, Next]
type = ChangeState
trigger1 = Time >= 20 && Var(16) = 1 && power > 200
value = 3112
ctrl = 1

[State 7000, 6]
type = ChangeState
trigger1 = MoveHit != 1
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[State 7000, 6]
type = ChangeState
trigger1 = MoveHit != 1
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------------
[StateDef 3104]
type = A
movetype= A
physics = A
ctrl = 1
anim = 44
poweradd = 0;0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = !time

;------------------------------------------------------------------
;Final X
[StateDef 3112]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 100
poweradd = -200
sprpriority = 2

[State 3105]
type = AfterImage
trigger1 = time = 1
time = 12
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 256,256,256
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 0, VarAdd]
type = VarAdd
trigger1 = !time && var(3) <= 2
v = 3
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = !time
flag = invisible

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 2
value =  3113
ctrl = 0

;.............................................
[StateDef 3113]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 100
poweradd = 0;0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S700,0
volume = 255
channel = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Pause]
type = Pause
trigger1 = P2MoveType = H
time = 15
movetime = 15

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 =Pos Y < 0
statetype = A
movetype = A
physics = N

[State 0, PosSet]
type = PosSet
trigger1 = !time && numtarget
x = ifelse(  facing = -1,(target, pos X-90), (target, pos X+90)  )
y = target, pos Y

[State 0, PosSet]
type = PosSet
trigger1 = !time && !numtarget
x = ifelse(  facing = -1,(enemynear, pos X-90), (enemynear, pos X+90)  )
y = enemynear, pos Y

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animTime
value =  3114
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime
value =  0+(statetype=A)*8074
ctrl = 1
;.............................................
[StateDef 3114]
type = U
movetype= A
physics = U
velset = 0,0
ctrl = 0
anim = 3114
poweradd = 0;0
sprpriority = 2

[State 1200,AfterImage]
type=AfterImage
trigger1=(!Time)
time=7
timegap=3
framegap=1
length=10
paladd=0,0,0
palmul=.50,.50,.50
palcontrast=110,110,110
trans=add

[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 1
time = 30
move = 30
anim = -1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 7
y = 0
ignorehitpause = 1
;persistent =

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 40, 15
animtype = Back
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15, 15
sparkno = -1
guard.sparkno = -1
sparkxy = -10, -45
hitsound = S1,5
guardsound = S1,5
ground.type = High
ground.slidetime = 30
ground.hittime  = 35
ground.velocity = -6,-4.5
Air.Fall = 1
air.type = High
air.hittime = 35
air.velocity = -6,-4.5
airguard.velocity = -4.5,0
getpower = 0;0
envshake.time = 15
envshake.freq = 120
envshake.ampl = 6

[State 0, EnvColor]
type = EnvColor
trigger1 =movehit
value = 255,255,255
time = 2
ignorehitpause = 1
persistent = 0

[State 7000, 6]
type = ChangeState
trigger1 = MoveHit != 1
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------

;Begin Fly
[Statedef 1510]
type = A
movetype = A
physics = A
velset = 0,-5.5
anim = 1510
ctrl = 0

[State 192]
type=Explod
trigger1=time=2
anim=6310
ID=192
pos=0,23
scale = 0.50,0.50
bindtime=1
sprpriority=3
ownpal=1

[State 1510, subindo]
type = PlaySnd
trigger1 = animelem = 1
value = S7, 1
volume = 255

[State 1510, subindo]
type = PlaySnd
trigger1 = animelem = 1
value = S40, 0
volume = 255

[State 1510, 1]
type = AfterImage
trigger1 = Time = 0
time = 10
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 1510, 2]
type = AfterImage
trigger1 = Time = 0
time = 10
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 1510, 3]
type = changestate
trigger1 = animtime = 0
value = 1500
ctrl = 1

;VoLar
[Statedef 1500]
type = S
movetype = I
physics = N
ctrl = 0
velset = 0,0

;raYos
[State 1,raios]
type = Explod
triggerall = power >= 3000
triggerall = NumExplod(1) = 0
triggerall = stateno = 1500
trigger1 = Time = 0
trigger2   = TimeMod = 30,0
anim = 1
id = 1
pos = 0,0
postype = p1
sprpriority = 2
removetime = 26
removeongethit = 1

[State 1500, VarSet]
type = VarSet
Trigger1 = Time = 0
var(3) = 1

[State 1500, Block1]
type = ReversalDef
Trigger1 = command = "holdback"
reversal.attr = SCA, NA, SA, HA
pausetime = 0,15
hitsound = S20, 3
p1stateno = 150

[State 1500, Stop1]
type = VelSet
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
Trigger1 = var(2) = 0
Trigger2 = Pos Y < -405
x = 0
y = 0

[State 1510, Stop2]
type = ChangeAnim
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
Trigger1 = Anim != 1500
value = 1500

[State 1500,fuwavar(1)]
type = VarSet
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
Trigger1 = var(2) != 2
Trigger2 = var(2) = 2
Trigger2 = Vel Y >= 1.6
v = 2
value = 1

[State 1500,fuwavar(2)]
type = VarSet
Triggerall = var(2) = 1
Trigger1 = Vel Y <= -1.6
Trigger2 = P2BodyDist Y > 250
Trigger2 = Vel Y < 0
v = 2
value = 2

[State 1500,fuwaUp]
type = VelAdd
Trigger1 = var(2) = 1
y = -0.1

[State 1500,fuwaDown]
type = VelAdd
Trigger1 = var(2) = 2
y = 0.1

[State 1500,fuwaEnd]
type = VelSet
Triggerall = var(2) != 0
Trigger1 = command = "holdfwd"
Trigger2 = command = "holdback"
Trigger3 = command = "holdup"
Trigger4 = command = "holddown"
y = 0

[State 1500,fuwaEndVar]
type = VarSet
Trigger1 = command = "holdfwd"
Trigger2 = command = "holdback"
Trigger3 = command = "holdup"
Trigger4 = command = "holddown"
v = 2
value = 0

[State 1500, UpBorder1]
type = PosSet
Trigger1 = Pos Y < -400
y = -400

[State 1500, UpBorder2a]
type = PosAdd
Trigger1 = P2BodyDist Y > 250
Trigger1 = Vel Y < 0
y = 1

[State 1500, UpBorder2b]
type = VelSet
Trigger1 = P2BodyDist Y > 250
Trigger1 = Vel Y < 0
y = 0

[State 1500, GoDown1]
type = VelAdd
Trigger1 = command = "holddown"
y = 0.25

[State 1500,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = Vel Y < 0
y = 0

[State 1500, GoUp1]
type = VelAdd
Trigger1 = command = "holdup"
y = -0.2

[State 1500,GoUp2]
type = VelSet
Trigger1 = command = "holdup"
Trigger1 = Vel Y > 0
y = 0

[State 1500, GoUpAnim]
type = ChangeAnim
Trigger1 = Anim != 1504
Trigger1 = command = "holdup"
value = 1504

[State 1500, GoBack1]
type = VelAdd
Trigger1 = command = "holdback"
x = -0.2

[State 1500,GoBack2]
type = VelSet
Trigger1 = command = "holdback"
Trigger1 = Vel X > 0
x = 0

[State 1500, GoBackAnim]
type = ChangeAnim
Triggerall = Anim != 1502
Trigger1 = command = "holdback"
Trigger2 = command = "holddown"
value = 1502

[State 1500, GoFwd1]
type = VelAdd
Trigger1 = command = "holdfwd"
x = 0.25

[State 1500,GoFwd2]
type = VelSet
Trigger1 = command = "holdfwd"
Trigger1 = Vel X < 0
x = 0

[State 1500, GoFwdAnim]
type = ChangeAnim
Trigger1 = Anim != 1501
Trigger1 = command = "holdfwd"
value = 1501

[State 1500, GoDownAnim]
type = ChangeAnim
triggerall = Anim != 1503
trigger1 = command = "holddown"
value = 1503

[State 1500, Turn]
type = Turn
Trigger1 = P2Dist X < 0

[State 1900,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 50
ctrl = 1

[State 2000,End]
type = ChangeState
trigger1 = command = "holdb"
trigger1 = command = "holdy"
trigger1 = command = "holddown"
value = 50
ctrl = 1

[State 2000,WinALose]
type = ChangeState
trigger1 = Win = 1
trigger2 = Lose = 1
value = 50

;--------------------------------------------

[State 900, deslizar adelante]
type = ChangeState
Trigger1 = command ="FF"
value = 1901
ctrl = 1

[State 900, deslizar atras]
type = ChangeState
Trigger1 = command ="BB"
value = 1902
ctrl = 1

[State 900, deslizar ARRIBA]
type = ChangeState
Trigger1 = command ="UU"
value =  1903
ctrl = 1

[State 900, deslizar ABAJO]
type = ChangeState
Trigger1 = command ="DD"
value = 1904
ctrl = 1

[State 900, deslizar DIAGONAL ABAJO]
type = ChangeState
Trigger1 = command ="FD"
value = 1905;1904
ctrl = 1

[State 900, deslizar DIAGONAL ARRIBA]
type = ChangeState
Trigger1 = command ="FU"
value = 1906;1903
ctrl = 1

[State 900, deslizar DIAGONAL ABAJO ATRAS]
type = ChangeState
Trigger1 = command ="BD"
value = 1907; 1904
ctrl = 1

[State 900, deslizar DIAGONAL ARRIBA ATRAS]
type = ChangeState
Trigger1 = command ="BU"
value = 1908; 1903
ctrl = 1

;----------------------------------------------------------------------

;deslizamiento aire ADELANTE modo vuelo
[Statedef 1901]
type    = S
movetype= A
physics = N
juggle  = 0
Anim = 1501
poweradd= 0
ctrl = 0
velset = 0

[State 730]
type = Playsnd
trigger1 = AnimElem = 1
value = 7,1
volume = 255

[State 100]
type = AfterImage
trigger1 = animelem = 1
time = 10
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

;[State 60 ];viento
;type = Explod
;trigger1 = time%2=1
;Anim = 9011
;pos = 0,-20
;random = 60,30
;facing = -1
;ontop = 1
;accel = -0.3,0
;scale = 0.7,0.5

[State 0, ]
type = VelSet
trigger1 = AnimElem = 1
y = 0

[State 0,]
type = VelSet
trigger1 = AnimElem = 1
x = 9

[State 915 ]
type = ChangeState
trigger1 = time = 15
value = 1500
ctrl = 1
;-------------------------------------------------------------------------
;deslizamiento aire atras modo vuelo
[Statedef 1902]
type    = S
movetype= A
physics = N
juggle  = 0
Anim = 1502
poweradd= 0
ctrl = 0
velset = 0


[State 730]
type = Playsnd
trigger1 = AnimElem = 1
value = 7,1
volume = 255

[State 915]
type = AfterImage
trigger1 = animelem = 1
time = 10
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 915];Viento
type = Explod
trigger1 = time%2=1
Anim = 9011
pos = 0,-25
random = 60,30
facing = 1
ontop = 1
accel = 0.3,0
scale = 0.6,0.5


[State 915]
type = VelSet
trigger1 = AnimElem = 1
y = 0

[State 915 ]
type = VelSet
trigger1 = AnimElem = 1
x = -9

[State 915 ]
type = ChangeState
trigger1 = time = 15
value = 1500
ctrl = 1
;==========================================================================
;deslizamiento aire arriba modo vuelo
[Statedef 1903]
type    = S
movetype= A
physics = N
juggle  = 0
Anim = 1503
poweradd= 0
ctrl = 0
velset = 0

[State 730]
type = Playsnd
trigger1 = AnimElem = 1
value = 7,1
volume = 255

[State 916];deslizamiento aire arriba modo vuelo cerrado
type = ChangeAnim
triggerall = P2BodyDist X <= 4
triggerall = P2BodyDist y >= 0
trigger1 = Time = 0
value = 918
ctrl = 1


[State 915]
type = AfterImage
trigger1 = animelem = 1
time = 10
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 900 ];VIENT0
type = Explod
trigger1 = time%2=1
Anim = 9010
pos = 0,0
random = 60,30
ontop = 1
accel = 0,-0.3
scale = 0.5,0.6

[State 915]
type = VelSet
trigger1 = AnimElem = 1
y = -9

[State 915 ]
type = VelSet
trigger1 = AnimElem = 1
x = 0

[State 915 ]
type = ChangeState
trigger1 = time = 15
value = 1500
ctrl = 1
;----------------------------------------------------------------------------
;deslizamiento aire ABAJO modo vuelo
[Statedef 1904]
type    = S
movetype= A
physics = N
juggle  = 0
Anim = 1504
poweradd= 0
ctrl = 0
velset = 0

[State 730]
type = Playsnd
trigger1 = AnimElem = 1
value = 7,1
volume = 255

[State 915]
type = AfterImage
trigger1 = animelem = 1
time = 10
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 900 ];VIENT0
type = Explod
trigger1 = time%2=1
Anim = 9010
pos = 0,-20
random = 60,30
ontop = 1
accel = 0,-0.3
scale = 0.5,0.6

[State 915]
type = VelSet
trigger1 = AnimElem = 1
y = 9

[State 915 ]
type = VelSet
trigger1 = AnimElem = 1
x = 0

[State 900, Land1]
type = ChangeState
Trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 915 ]
type = ChangeState
trigger1 = time = 15
value = 1500
ctrl = 1

[State 1900,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 50
ctrl = 1

;----------------------------------------------------------------------

;deslizamiento aire ADELANTE modo vuelo
[Statedef 1905]
type    = S
movetype= A
physics = N
juggle  = 0
Anim = 1504
poweradd= 0
ctrl = 0
velset = 0

[State 730]
type = Playsnd
trigger1 = AnimElem = 1
value = 7,1
volume = 255

[State 100]
type = AfterImage
trigger1 = animelem = 1
time = 10
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 60 ];viento
type = Explod
trigger1 = time%2=1
Anim = 9011
pos = 0,-20
random = 60,30
facing = -1
ontop = 1
accel = -0.3,0
scale = 0.7,0.5

[State 0, ]
type = VelSet
trigger1 = AnimElem = 1
y = 8

[State 0,]
type = VelSet
trigger1 = AnimElem = 1
x = 8

[State 915 ]
type = ChangeState
trigger1 = time = 15
value = 1500
ctrl = 1

[State 1900,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------
;deslizamiento aire atras modo vuelo
[Statedef 1906]
type    = S
movetype= A
physics = N
juggle  = 0
Anim = 1503
poweradd= 0
ctrl = 0
velset = 0

[State 730]
type = Playsnd
trigger1 = AnimElem = 1
value = 7,1
volume = 255

[State 915]
type = AfterImage
trigger1 = animelem = 1
time = 10
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 915];Viento
type = Explod
trigger1 = time%2=1
Anim = 9011
pos = 0,-25
random = 60,30
facing = 1
ontop = 1
accel = 0.3,0
scale = 0.6,0.5


[State 915]
type = VelSet
trigger1 = AnimElem = 1
y = -8

[State 915 ]
type = VelSet
trigger1 = AnimElem = 1
x = 8

[State 915 ]
type = ChangeState
trigger1 = time = 15
value = 1500
ctrl = 1

[State 1900,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 50
ctrl = 1
;==========================================================================
;deslizamiento aire arriba modo vuelo
[Statedef 1907]
type    = S
movetype= A
physics = N
juggle  = 0
Anim = 1504
poweradd= 0
ctrl = 0
velset = 0

[State 730]
type = Playsnd
trigger1 = AnimElem = 1
value = 7,1
volume = 255

[State 916];deslizamiento aire arriba modo vuelo cerrado
type = ChangeAnim
triggerall = P2BodyDist X <= 4
triggerall = P2BodyDist y >= 0
trigger1 = Time = 0
value = 918
ctrl = 1


[State 915]
type = AfterImage
trigger1 = animelem = 1
time = 10
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 900 ];VIENT0
type = Explod
trigger1 = time%2=1
Anim = 9010
pos = 0,0
random = 60,30
ontop = 1
accel = 0,-0.3
scale = 0.5,0.6

[State 915]
type = VelSet
trigger1 = AnimElem = 1
y = 8

[State 915 ]
type = VelSet
trigger1 = AnimElem = 1
x = -8

[State 915 ]
type = ChangeState
trigger1 = time = 15
value = 1500
ctrl = 1

[State 1900,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 50
ctrl = 1
;----------------------------------------------------------------------------
;deslizamiento aire ABAJO modo vuelo
[Statedef 1908]
type    = S
movetype= A
physics = N
juggle  = 0
Anim = 1503
poweradd= 0
ctrl = 0
velset = 0

[State 730]
type = Playsnd
trigger1 = AnimElem = 1
value = 7,1
volume = 255

[State 915]
type = AfterImage
trigger1 = animelem = 1
time = 10
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 900 ];VIENT0
type = Explod
trigger1 = time%2=1
Anim = 9010
pos = 0,-20
random = 60,30
ontop = 1
accel = 0,-0.3
scale = 0.5,0.6

[State 915]
type = VelSet
trigger1 = AnimElem = 1
y = -8

[State 915 ]
type = VelSet
trigger1 = AnimElem = 1
x = -8

[State 915 ]
type = ChangeState
trigger1 = time = 15
value = 1500
ctrl = 1

[State 1900,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1202]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1202

[State 210, 3]
type = VelAdd
trigger1 = AnimElem = 1
trigger1 = AnimElem <= 2
x = -0.3

[State 210, 3]
type = VelSet
trigger1 = AnimElem = 3
x = 0

[State 3021, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 210, 3]
type = ChangeState
trigger1 = time = 60
value = 1203

;---------------------------------------------------------------------------
[Statedef 1203]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0

[State 1531, 5]
type = PlaySnd
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
persistent = 0
value = 21,4

[State 52, 3]
type = PosSet
trigger1 = Vel Y = 0
y = 0

[State 209, 1]
type = ChangeAnim
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 1203

[State 209, 1]
type = Velset
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
y = 0

[State 3021, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;----Transformacion CELL--------------------------------------------------
[Statedef 8925]
type = S
physics = S
ANIM = 8925
poweradd = -3000
ctrl = 0
velset = 0,0


[State 3231, 1]
type = superpause
trigger1 = time = 0
time = 155
movetime = 155
anim = -1
darken = 0

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1600,0
volume = 255

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 10
value = 1601,0
volume = 255

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1601,1
volume = 255

[State 3231: magia]
type = Explod
trigger1 = time = 8
anim = 778
ID = 2620
pos = 70,22
postype = p1
facing = 1
bindtime = -1
removetime = 27
supermove = -1
removeongethit = 1
sprpriority = 3

[State 210, 3]
type = ChangeState
trigger1 = ANIMtime = 0
value = 3231
ctrl = 0

[Statedef 3231]
type = S
physics = S
anim = 3231
poweradd = 0
ctrl = 0
velset = 0,0,0

[State 3231, RaYo]
type = RemoveExplod
ID = 1
trigger1 = time = 1

[State 3231,2]
type = AfterImage
trigger1 = AnimElem = 23
time = 400
length = 20
palbright = 10,10,-40
palcontrast = 190,190,210
palpostbright = -5,-5,-10
timegap = 2
flamegap = 1
trans = add1

[State 3231,2]
type = AfterImage
trigger1 = AnimElem = 22
time = 400
length = 20
palbright = 10,10,-40
palcontrast = 190,190,210
palpostbright = -5,-5,-10
timegap = 2
flamegap = 1
trans = add1

[State 3231,2]
type = AfterImage
trigger1 = AnimElem = 17
time = 400
length = 20
palbright = 10,10,-40
palcontrast = 190,190,210
palpostbright = -5,-5,-10
timegap = 2
flamegap = 1
trans = add1

[State 3231, 1]
type = superpause
trigger1 = time = 0
time = 1250
movetime = 1250
anim = -1
darken = 0

[State 1800, BGColorFX]
type = BGPalFX
trigger1 = Time = 1
time = 1903
add = Var(13),Var(13),Var(13)
mul = 56,116,70;115

[State 3231: magia]
type = Explod
trigger1 = AnimElem = 22
anim = 2620
ID = 2620
pos = -12,-42
postype = p1
facing = 1
bindtime = -1
removetime = 148
supermove = -1
removeongethit = 1
sprpriority = 3

[State 3231: magia]
type = Explod
trigger1 = AnimElem = 22
anim = 2605
ID = 2605
pos = -15,-47
postype = p1
facing = 1
bindtime = -1
removetime = 135
supermove = -1
removeongethit = 1
sprpriority = 2

[State 2500: Ki]
type = Explod
trigger1 = AnimElem = 11
anim = 731
ID = 731
pos = 2,10
postype = p1
facing = 1
bindtime = -1
removetime = 500
supermove = -1
removeongethit = 1
sprpriority = 1
scale = 0.70,0.70

[State 5040, Ring]
type = Explod
triggerall = pos y = 0
trigger1 = AnimElem = 11
Anim = 10010
Pos = -2, 7
Id = 10010
sprpriority = -2
removeongethit = 0
removetime = 500
Postype = p1
Bindtime = 12
SuperMove = 1
ownpal = 1
scale = 0.55,0.55

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 11
value = 730,1
volume = 255

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 12
value = 730,1
volume = 255

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 13
value = 730,1
volume = 255

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 14
value = 730,1
volume = 255

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 15
value = 730,1
volume = 255

[State 2500, Remove ki]
type = RemoveExplod
ID = 731
trigger1 = AnimElem = 22

[State 2500:]
type = Explod
trigger1 = AnimElem = 21
anim = 735
ID = 735
pos = 2,10
postype = p1
facing = 1
bindtime = -1
removetime = 100
supermove = -1
removeongethit = 1
sprpriority = 13
scale = 0.74,0.74

[State 5040, Ring]
type = Explod
triggerall = pos y = 0
trigger1 = AnimElem = 21
Anim = 10010
Pos = -2, 7
Id = 10010
sprpriority = -2
removeongethit = 0
removetime = 100
Postype = p1
Bindtime = 12
SuperMove = 1
ownpal = 1
scale = 0.55, 0.55

[State 5040, electricidad]
type = Explod
triggerall = pos y = 0
trigger1 = AnimElem = 21
Anim = 10030
Pos = 8, -25
Id = 10030
sprpriority = 4
removeongethit = 0
removetime = 100
Postype = p1
Bindtime = 12
SuperMove = 1
ownpal = 1
scale = 0.7, 0.7

[State 3231, 2]
type = PlaySnd
trigger1 = animelem = 21
value = 730,1
volume = 255

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4,0
volume = 255

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 16
value = 4,1
volume = 255

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 22
value = 5,1
volume = 255

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 23
value = 5,0
volume = 255

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 23
value = 5,4
volume = 255

[State 3231, Beam]
type = Projectile
trigger1 = AnimElem = 23
getpower  = 0
projanim = 2515
projhitanim = -1
projpriority = 5
projremovetime = 60
supermovetime = 200
PROJSCALE = 0.55,0.55
projid = 2515
projhits = 120
projmisstime = 2
numhits = 4
velocity = 0
accel = 0
offset = 27,-57
attr = S, NA
damage   = 180,80
animtype = Hard
guardflag = MA
hitflag = MAFP
pausetime = 1,1
hitsound   = S15,0
sparkno = -1
guard.sparkno = -1
guardsound = S16,0
ground.type = High
ground.slidetime = 25
ground.hittime  = 15
ground.velocity = -8
air.animtype = High
air.velocity = -2
air.juggle = 2
down.velocity = -4,-6
down.hittime = 30
down.bounce = 0
palfx.time = 23
palfx.add = 0,128,255
fall = 1
air fall = 1

;[State 3231, 4]
;type = Envcolor
;trigger1 = time = 1043
;time = 50

[State 3231, end]
type = ChangeState
trigger1 = Time = 1353
value = 1933
ctrl = 1

; normalidad
[Statedef 1933]
type = S
ctrl = 0
anim = 1934
velset = 0,0,0

[State 3231, 1]
type = superpause
trigger1 = time = 0
time = 550
movetime = 550
anim = -1
darken = 0

[State 1934, 2]
type = PlaySnd
trigger1 = animelem = 2
value = 4,2
volume = 255

[State 3231, end]
type = ChangeState
trigger1 = Time = 550
value = 0
ctrl = 1
;---------------------------------------------------------------------------

;Combo Y
[Statedef 1182]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1057; animacion de teletransportacion
poweradd = -200

[State 1157]
type = VelSet
trigger1 = AnimElem = 1
x = 7.5

[State 1200,AfterImage]
type=AfterImage
trigger1=(!Time)
time=7
timegap=3
framegap=1
length=10
paladd=0,0,0
palmul=.50,.50,.50
palcontrast=110,110,110
trans=add

[State 1155, 1]
type = PlaySnd
trigger1 = time = 0
value = 700, 0

[State 1155, 1]
type = posadd
trigger1 = time = 10
x = p2bodydist x - 10
y = p2bodydist y + 0

[State 1155, turn]
type = Turn
trigger1 = P2dist X < 0

[State 1155,2 ]
type = ChangeState
trigger1 = Time = 11
value = 1183
ctrl = 1

;--------------------------------------------------------------------------------------------------
[Statedef 1183]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 250
poweradd = -30

[State 1183]
type = VelSet
trigger1 = AnimElem = 2
x = 2

[State 1183]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Medium
damage    = 30,5
guardflag = -1
pausetime = 1,25
sparkno = -1
sparkxy = -10,-55
guard.sparkno = -1
hitsound   = S1,1
guardsound = S1,1
ground.type = High
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = -2
airguard.velocity = -1
air.velocity = -2,-2


[State 1000, VarSet]
type = VarSet
trigger1 = time = 0
v = 15
value = 0

[State 1000, VarSet]
type = VarSet
triggerall = (Var(15) = 0 && time > 1)
trigger1 = (command = "y" || command = "y") || Var(39) = 1
v = 15
value = 1

[State 1000, Next]
type = ChangeState
trigger1 = Time >= 20 && Var(15) = 1 && power > 100 && movecontact
value = 1184
ctrl = 1


[State 1000, VarSet]
type = VarSet
trigger1 = time = 0
v = 17
value = 0

[State 1000, VarSet]
type = VarSet
triggerall = (Var(17) = 0 && time > 1)
trigger1 = (command = "x" || command = "x") || Var(39) = 1
v = 17
value = 1

[State 1000, Next]
type = ChangeState
trigger1 = Time >= 20 && Var(17) = 1 && power > 100
value = 3105
ctrl = 1


[State 7000, 6]
type = ChangeState
trigger1 = MoveHit != 1
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;[State 1183, 4]
;type = ChangeState
;trigger1 = AnimTime = 0
;value = 1184
;ctrl = 1
;------------------------------------------------------------------------------
[Statedef 1184]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
poweradd = -30
ctrl = 0
anim = 251

[State 1157]
type = VelSet
trigger1 = AnimElem = 2
x = 2

[State 1156]
type = HitDef
trigger1 = time = 0
attr = S,NA
hitflag = MAFD
guardflag = MA
affectteam = E
animtype = Hard
priority = 4,Hit
damage = 62, 21
pausetime = 5,5
sparkno = S9013
sparkxy = 17,-6
hitsound = S1,1
guardsound = S1,3
ground.type = Trip
ground.slidetime = 10
ground.hittime = 20
ground.velocity = -1,-3
air.velocity = -1,-3
fall = 1
getpower = 0,0
givepower = 0,0
envshake.time = 10
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
kill = !var(58) || 1*p2stateno = 003

[State 1000, VarSet]
type = VarSet
trigger1 = time = 0
v = 15
value = 0

[State 1000, VarSet]
type = VarSet
triggerall = (Var(15) = 0 && time > 1)
trigger1 = (command = "y" || command = "y") || Var(39) = 1
v = 15
value = 1

[State 1000, Next]
type = ChangeState
trigger1 = Time >= 20 && Var(15) = 1 && power > 100
value = 1185
ctrl = 1

[State 1000, VarSet]
type = VarSet
trigger1 = time = 0
v = 17
value = 0

[State 1000, VarSet]
type = VarSet
triggerall = (Var(17) = 0 && time > 1)
trigger1 = (command = "x" || command = "x") || Var(39) = 1
v = 17
value = 1

[State 1000, Next]
type = ChangeState
trigger1 = Time >= 20 && Var(17) = 1 && power > 100
value = 3105
ctrl = 1


[State 7000, 6]
type = ChangeState
trigger1 = MoveHit != 1
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------------------------------------------
[Statedef 1185]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 270
poweradd = -30

[State 1185]
type = VelSet
trigger1 = AnimElem = 3
x = 1

[State 1185, 2]
type = HitDef
trigger1 = animelem = 3
attr = S,NA
hitflag = MAF
guardflag =MA
animtype = Light
air.animtype = Light
fall.animtype = Back
damage = 20,2
pausetime = 5,10
animtype =light
ground.type = high
ground.velocity = -7,-13
air.velocity =  -7,-13
ground.slidetime =10
ground.hittime = 12
sparkxy = -20,-40
sparkno = S9013
hitsound= S1,1
kill = !var(58) || 1*p2stateno = 003

[State 1000, VarSet]
type = VarSet
trigger1 = time = 0
v = 15
value = 0

[State 1000, VarSet]
type = VarSet
triggerall = (Var(15) = 0 && time > 1)
trigger1 = (command = "y" || command = "y") || Var(39) = 1
v = 15
value = 1

[State 1000, Next]
type = ChangeState
trigger1 = Time >= 20 && Var(15) = 1 && power > 100
value = 360
ctrl = 1

[State 1000, VarSet]
type = VarSet
trigger1 = time = 0
v = 17
value = 0

[State 1000, VarSet]
type = VarSet
triggerall = (Var(17) = 0 && time > 1)
trigger1 = (command = "x" || command = "x") || Var(39) = 1
v = 17
value = 1

[State 1000, Next]
type = ChangeState
trigger1 = Time >= 20 && Var(17) = 1 && power > 100
value = 3105
ctrl = 1


[State 7000, 6]
type = ChangeState
trigger1 = MoveHit != 1
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;_----------------------------------------------------
; FireBall combo Final
[Statedef 360]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -100
anim = 360

[State 3600]
type = Superpause
trigger1 = time = 10
time = 35
movetime = 35
anim = 360

[State 730, PlaySND]
type = PlaySnd
trigger1 = time = 7
value = S3,5
volume = 255

[State 360,2]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "Fireball"
id = 365
pos = 0,-60
stateno = 365
keyctrl = 1
ownpal = 1

[State 2500, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 360, 4]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

; Fireball: Helper
[Statedef 365]
type    = S
movetype= A
physics = S
anim = 365
ctrl = 0

[State 365, sem sombra]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 365, 1]
type = HitDef
trigger1 = Time >= 0
attr = S, HA
animtype  = Hard
velocity = 0,-2.7
accel = 0,0.1
damage    = 20,8
numhits = 1
guardflag = MA
pausetime = 1,8
getpower = 0
sparkno = -1
guard.sparkno = -1
sparkxy = -10,40
hitsound   = S3,3
ground.type = Trip
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -2,-10
air.velocity = -2,-4
down.velocity = -5,0
down.hittime = 20
fall = 1
;ground.type = Hard
;ground.slidetime = 22
;ground.hittime  = 11
;ground.velocity = -3
;air.velocity = -3,-2

[State 3600]
type = explod
trigger1 = movecontact
anim = 18998
pos = -10,-25
postype = p2
sprpriority = 15
bindtime = 1
scale = 1,1

[State 365, 2]
type = AfterImage
trigger1 = time = 0
time = 30
trans = add
PalContrast = 204,198,116
TimeGap = 2
FrameGap = 1
length = 15

[State 365,4]
type = VelSet
trigger1 = time >= 0
x = 12
y = -12

[State 365,GetHit]
type = HitOverride
trigger1 = time = 0
time = -1
attr = SCA,NP,SP,HP
slot = 0

[State 365, 5]
type = DestroySelf
trigger1 = movecontact

[State 365, 6]
type = Envcolor
trigger1 = movecontact
time = 4

[State 365, 7]
type = DestroySelf
trigger1 = time = 30

;------------------------------------------------------------------------------
;Zanzouken
[statedef 1100]
type = S
Movetype = I
physics = S
Anim = IfElse(command="holdback",1101,1100)
poweradd = 0
ctrl = 0

[State 1100,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1200, VelSet]
type = VelSet
trigger1 =(!time)
x = IfElse(Anim=1101,-15,15)
y = 0

[State 1200,AfterImage]
type=AfterImage
trigger1=(!Time)
time=7
timegap=3
framegap=1
length=10
paladd=0,0,0
palmul=.50,.50,.50
palcontrast=110,110,110
trans=add

[State 1200,PlaySnd]
type = PlaySnd
trigger1 =(!time)
value = 1600,2

[State 1200,ChangeState]
type = ChangeState
trigger1 =(!AnimTime) && (Pos Y < 0)
value = 1500

[state 1200,changestate]
type = changestate
trigger1 = (!animtime)
value = 0
ctrl = 1

;-------------------------------------------------------------------------
; Ataque Rapido
[Statedef 1610]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= -20
ctrl = 0
velset = 0,0
anim = 1610
sprpriority = -1

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 9
trigger4 = AnimElem = 12
trigger5 = AnimElem = 15
trigger6 = AnimElem = 18
value = 0, 4

[State 210, 1]
type = PlaySnd
trigger1 = time = 1
value = 7, 7

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 9
trigger4 = AnimElem = 11
trigger5 = AnimElem = 15
attr = S, NA
animtype  = Medium
damage    = 15,5
guardflag = MA
pausetime = 5,6
sparkno = S11000
guard.sparkno = S8050
sparkxy = -10,-56
hitsound = S1,1
guardsound = S3,0
ground.type = High
ground.slidetime = 4;12
ground.hittime  = 4;15
ground.velocity = -0.8;-5.5
air.velocity = -0.8;-2.5,-4

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 17
attr = S, NA
animtype  = Medium
damage    = 15, 5
guardflag = MA
pausetime = 5,6
sparkno = S11000
guard.sparkno = S8050
sparkxy = -10,-56
hitsound = S1,1
guardsound = S3,0
ground.type = High
ground.slidetime = 4;12
ground.hittime  = 4;15
ground.velocity = -4;-5.5
air.velocity = -4;-2.5,-4

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 210, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------
;Colazo
[Statedef 2225]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
ctrl = 0
anim = 7
poweradd = -95

[State 0, ]
type = PlaySnd
trigger1 = !time
value = S1601,5
volume = 255
channel = 1

[State 3231,2]
type = AfterImage
trigger1 = AnimElem = 1
time = 55
length = 20
palbright = 10,10,-40
palcontrast = 190,190,210
palpostbright = -5,-5,-10
timegap = 2
flamegap = 1
trans = add1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 7
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = hard
air.animtype = hard
;fall.animtype = Back
priority = 4,Hit
damage = 95,35
pausetime = 10,10
;guard.pausetime = 0,0
sparkno = S11001
guard.sparkno = S8050
sparkxy = -10,-52
hitsound = S1,1
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 2
guard.slidetime = 2
ground.hittime = 2
guard.hittime = 2
air.hittime = 2
ground.velocity = -8,-10
air.velocity = -7,-9
givepower = 60, 60
getpower = 120,120
fall = 1
air fall = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------

;Rock Helper 00
[StateDef 15200]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 15200 + Parent, Var(16)
ctrl = 0
sprpriority = 4

[State 15200, VelSet]
type = VelSet
triggerall = time = 0
trigger1 = parent, stateno = 5040
y = -2

[State 15200, VelAdd]
type = VelAdd
trigger1 = parent, stateno != 5040
y = 0.08

[State 15201, VelAdd]
type = VelAdd
triggerall = vel y > -3
trigger1 = parent, stateno = 5040
y = -0.08

[State 15200, Next]
type = ChangeState
trigger1 = pos Y < -240 && parent, stateno = 5040
value = 15255

[State 15200, Next]
type = ChangeState
trigger1 = pos y >= 0 && time > 0
value = 15255
;---------------------------------------------------------------------------
;Rock Helper 01
[StateDef 15201]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 15200 + Parent, Var(16)
ctrl = 0
sprpriority = 4

[State 15201, VelSet]
type = VelSet
triggerall = time = 0
trigger1 = parent, stateno = 5040
y = -3

[State 15201, VelAdd]
type = VelAdd
trigger1 = parent, stateno != 5040
y = 0.08

[State 15201, VelAdd]
type = VelAdd
triggerall = vel y > -3
trigger1 = parent, stateno = 5040
y = -0.08

[State 15201, Next]
type = ChangeState
trigger1 = pos Y < -240 && parent, stateno = 5040
value = 15255

[State 15201, Next]
type = ChangeState
trigger1 = pos y >= 0 && time > 0
value = 15255
;---------------------------------------------------------------------------
;Rock Helper 02
[StateDef 15202]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 15200 + Parent, Var(16)
ctrl = 0
sprpriority = 4

[State 15202, VelSet]
type = VelSet
triggerall = time = 0
trigger1 =  parent, stateno = 5040
y = -4

[State 15202, VelAdd]
type = VelAdd
trigger1 = parent, stateno != 5040
y = 0.08

[State 15201, VelAdd]
type = VelAdd
triggerall = vel y > -4
trigger1 = parent, stateno = 5040
y = -0.08

[State 15202, Next]
type = ChangeState
trigger1 = pos Y < -240 && parent, stateno = 5040
value = 15255

[State 15202, Next]
type = ChangeState
trigger1 = pos y >= 0 && time > 0
value = 15255
;---------------------------------------------------------------------------
;Rock Helper Die
[StateDef 15255]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 15255
ctrl = 0
sprpriority = 4

[State 15202, PlaySND]
type = PlaySnd
trigger1 = time= 0
value = 1720,0
volume = 245

[State 15255, DestroySelf]
type = DestroySelf
trigger1 = time = 4

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------


;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
;--(Super Cell)-------------------------------------------------------------------------
[statedef -3]
[State -3]
type = PalFX
trigger1 = (timemod = 4,0)&&(var(4) > 0)
trigger1 = (var(4) < 710)
time = 60
TimeGap  = 2
FrameGap = 7
trans = add
add = 32,32,-256
sinadd = 32,32,-256,3

;[State 2999,PlaySnd]
;type = PlaySnd
;trigger1 = (time = 15)&&(var(4) > 0)
;trigger1 = (var(4) < 600)
;value = 7,9
;Volume = 255

[State -3,Powerset]
type = Powerset
trigger1 = (var(4) > 0)
value = 0

[State -3,Varadd]
type = VarAdd
trigger1 = (var(4) > 0)
v = 4
value = 1

[State -3,VarSet]
type = VarSet
trigger1 = (var(4) = 760)
v = 4
value = 0

;Hited State S
[State -3,HitOverRide]
type = HitOverRide
triggerall =(Alive = 1)
trigger1 = (Var(4) > 0)&&(StateType = S)
trigger1 = (stateno!= 120)
trigger1 = (stateno!= 130)
time = 1
attr = SCA, NA, SA, NP, SP
slot = 0
stateno = 3001

;Hited State C
[State -3,HitOverRide]
type = HitOverRide
triggerall =(Alive = 1)
trigger1 = (Var(4) > 0)&&(StateType = C)
trigger1 = (stateno!= 120)
trigger1 = (stateno!= 131)
time = 1
attr = SCA, NA, SA, NP, SP
slot = 1
stateno = 3002

;Hited State A
[State -3,HitOverRide]
type = HitOverRide
triggerall = (Alive = 1)
trigger1 = (Var(4) > 0)&&(StateType = A)
time = 1
attr = SCA, NA, SA, NP, SP
slot = 2
stateno = 3003

;--(Damage/Defense/Power System)------------------------------------------------------

;Damage Sistem
[State -3, VarSet]
type = VarSet
trigger1 = 1
fvar(10) = IfElse(power >=3000,.3,IfElse(power >=2000,.2,IfElse(power>=1000,.1,0)))
IgnoreHitPause=1

[State -3, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value =  IfElse(var(5)= 0,fvar(10)+1,1.5)
ignorehitpause = 1

;Defense Sistem
[State -3,DefenceMulset]
type=DefenceMulset
trigger1 = 1
value =  IfElse(var(5) > 0,0.5,1)
ignorehitpause=1

;Power Sistem
[State -3,Poweradd]
type = Poweradd
trigger1= (timemod = 2,0)
value = 1
