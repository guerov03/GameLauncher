
[Data]
life = 1100
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 0
IntPersistIndex = 60
FloatPersistIndex = 40
[Size]
xscale = 1
yscale = 1
ground.back = 15
ground.front = 16
air.back = 12
air.front = 12
height = 60
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = -5, -90
mid.pos = -5, -60
shadowoffset = 0
draw.offset = 0,0
[Velocity]
walk.fwd  		= 2.1
walk.back 		= -2.0
run.fwd  		= 12,0
run.back 		= -12,0
jump.neu 		= 0,-9.5
jump.back 		= -4.0
jump.fwd 		= 4.0
runjump.back 	        = -2.0,-8
runjump.fwd 	        = 4,-8
airjump.neu 	        = 0,-8
airjump.back 	        = -2.0.-8
airjump.fwd 	        = 2.0,-8
[Movement]
airjump.num = 1
airjump.height = 35
yaccel = .44
stand.friction = .85
crouch.friction = .82

[Statedef 7575]
type = S
movetype = A
physics = S
anim = 7575
poweradd = -2500
velset = 0,0
ctrl = 0
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -80
[State 0]
type = SuperPause
trigger1 = time = 1
anim = -1
movetime = 60
time = 60
darken = 0
[State 0]
type = Explod
trigger1 = time = 0
anim =7160
pos = 0,0
ownpal = 1
scale = 0.3,0.4
postype = p1
bindtime = -1
sprpriority = 3
removetime =50
supermovetime = 50
removeongethit = 1
[State 0, EnvColor]
type = EnvColor
trigger1 = projcontact = 1
time = 3
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S777,31
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem = 3
value = S777,47
volume = 255
channel = -1
[State 0]
type = BgPalfx
trigger1 = Time = 0
time = 220
color = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S777,4
volume = 255
channel = -1
[State 0]
type = projectile
trigger1 = animelem = 3
projanim = 716091
projhitanim = 7100
projremanim =  7100
projcancelanim = 7100
projpriority = 8
offset = 40,-29
velocity = 8.5,7
hitflag = MAFD
attr = S, HP
animtype  = Heavy
damage    = 100,50
getpower  = 0
sparkno = s41009
sparkxy = 30,-100
guard.sparkno = -1
priority  = 1
guardflag = MA
pausetime = 1,20
hitsound   = S777,0
guardsound = 6,0
ground.type = trip
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -2
air.velocity = -2
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = stateno = 7575
flag = nobardisplay
[State 0, EnvShake]
type = EnvShake
trigger1 = projhit= 1
time = 10
freq = 60
ampl = -16
phase = 90
[State 0, Explod]
type = Explod
trigger1 = projcontact = 1
anim = 527
pos = 0,30
postype = p2
ID = 1
facing = 1
vfacing = 1
vel = 0,-1
accel = 0,-1
bindtime = 1
supermove
pausemove
scale = 1,1
sprpriority = 5
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = projcontact = 1
anim = 527
pos = 0,30
postype = p2
ID = 1
facing = 1
vfacing = 1
vel = 1,-1
accel = 1,-1
bindtime = 1
supermove
pausemove
scale = 1,1
sprpriority = 5
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = projcontact = 1
anim = 528
pos = 0,30
postype = p2
ID = 1
facing = 1
vfacing = 1
vel = -1,-1
accel = -1,-1
bindtime = 1
supermove
pausemove
scale = 1,1
sprpriority = 5
removeongethit = 1
[state 7200,fim]
type = changestate
trigger1 = time = 220
value = 2891
ctrl = 1
[Statedef 2891]
type = S
movetype = A
physics = S
anim =2029
poweradd = 0
velset = 0,0
ctrl = 0
[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S777,4
volume = 255
channel = -1
[state 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
[Statedef 2221]
movetype = A
ctrl = 0
velset = 0,0,0
poweradd = -300
anim = 2221
[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=1
value = 333,4
volume = 255
channel = -1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 2
time = 5
add = 256,256,256
[State 0]
type = projectile
trigger1 = animelem = 2
projanim = 22211
offset = 47, 0
velocity = 20,0
attr = S, NA
damage = 90, 30
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 7,10
sparkno = S3311
sparkxy = 0,-57
hitsound = S333,5
guardsound = 6,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 11
ground.velocity = -8
air.velocity = -8
envshake.time =20
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90
fall = 1
fall.recover = 0
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;------------------------------------------------------------------------

[Statedef 1616]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -200
anim = 1616

[State 1001];sonido grito
type = PlaySnd
trigger1 = animelem = 2
value = 3,0

[State 1001];sonido fireball
type = PlaySnd
trigger1 = animelem = 2
value = 1000,0


[State 1001]
type = Helper
trigger1 = AnimElem = 2
trigger1 = Pos Y >= 0
helpertype = normal
name = "Fireball_recta"
id = 1616
postype = p2
pos =0,(0-floor(pos y))
size.xscale = 1.3
size.yscale = 1.3
stateno = 16161



[State 1000]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

[State 1001]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1
;------------------------------------------------------

[Statedef 16161]
type 			= A
movetype		= A
physics		= N
anim			= 7210
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3



[State 1002]
type			= NotHitBy
trigger1		= 1
value			= SCA



[State 1002:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 1002]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1



[State 1002, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 7040
id			= 7040
pos			= 10,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.4,0.4
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 408, Hit Definition ]
type = HitDef
trigger1 = time=0
attr = S,NA
hitflag = MAF
guardflag =MA
animtype = Hard
air.animtype = Back
fall.animtype = Back
damage = 30,10
pausetime = 5,10
ground.type = high
ground.velocity = 4,0
air.velocity = 4,0
ground.slidetime =10
ground.hittime = 12
hitsound		= S9000,0
guardsound		= S9000,0
sparkxy = 0,-30
sparkno = -1
guard.sparkno = -1
fall =1
fall.recover = 0
envshake.time =20
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90

[State 1002:	DestroySelf]
type			= DestroySelf
trigger1		= animtime = 0
ignorehitpause	= 1
;-----------------------------------------------------------------------

[Statedef 3131]
type = S
movetype= I
physics	= N
anim= 8190
velset= 0,0
ctrl= 0
facep2	= 0
hitdefpersist= 0
movehitpersist= 0
hitcountpersist	= 0
sprpriority= 2
[State 0]
type= NotHitBy
trigger1= 1
value= SCA
[State 0]
type= Turn
trigger1= P2Dist X < 0
[State 0]
type= AssertSpecial
trigger1= (AnimElem = 1) || (AnimElem = 2, < 16)
flag= Invisible
flag2= NoWalk

[State 0]
type= PalFX
trigger1= (AnimElem = 1, = 0) || (AnimElem = 2, = 16)
time= 10
add= 100,100,100
mul= 256,256,256
sinadd = 50,50,50,20
[State 0]
type= PlaySnd
trigger1= (AnimElem = 1, = 7) || (AnimElem = 2, = 7 )
value= S777,4
volume = 255
[State 0]
type			= PosAdd
trigger1		= AnimElem = 1, = 16
x			= (P2Dist X) + 50
[State 0]
type= Projectile
trigger1= AnimElem = 1, = 15
projid	= 3131
projanim= 3131
projhitanim= -1
projremanim= 111111
projcancelanim	= -1
projremove= 1
projremovetime= 30
velocity= 0,0
remvelocity= 1,0
accel= 0,0
velmul= 1,1
projhits= 1
projmisstime= 0
projpriority= 1
projsprpriority	= -1
projedgebound	= 1000
projstagebound	= 1000
projheightbound	= -1000,1
offset	= 0,0
postype	= p1
projshadow= 0,0,0
supermovetime= 0
pausemovetime= 10
[State 0]
type = AfterImage
trigger1 = AnimElem = 2
time = 15
framegap = 1
length = 2
paladd = 0, 0, 0
palmul = .50, .50, .50
palcontrast = 140, 140, 140
trans = add
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl= 1
[Statedef 8989]
type = S
movetype= A
physics= S
velset= 0,0
anim = 699
ctrl= 0
[State 0]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
anim = 7170
pos = -25,4
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
sprpriority = 3
removeongethit = 1


[State 0]
type= PlaySnd
trigger1= time = 5
value= s777, 4
volume = 255


[State 0, PosAdd]
type = PosAdd
trigger1= time = 5
x = p2bodydist x -10
y = 0

[State 0]
type = afterimage
trigger1 = time = 0
time = 20
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add


[State 0]
type= PlaySnd
trigger1= AnimElem= 1
value= s111, 0
volume = 255
[State 0]
type= VelSet
trigger1= AnimElem= 1
x= 33
[State 0]
type= HitDef
trigger1 = AnimElem = 1
attr= S, NA
animtype= Medium
damage = 10,5
guardflag= MA
pausetime= 0,2
sparkxy= 0,-57
sparkno= -1
hitsound= -1
guardsound= 6,0
ground.type= High
ground.slidetime= 12
ground.hittime= 60
ground.velocity= 3
air.velocity= 3
p1stateno = 8990

[State 0]
type= ChangeState
trigger1= Time= 10
value= 0
ctrl= 1



[Statedef 8990]
type = S
movetype = A
physics = S
ctrl = 0
anim = 8990
velset = 0,0,0
[State 0, PowerAdd]
type = PowerAdd
trigger1 = time >1
value = -4
[State 0]
type = Width
trigger1 = 1
edge = 40,
[State 0]
type = Explod
trigger1 = animelem = 12
anim = 2002
pos = -15,10
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 3
removeongethit = 1
[State 3010, palfx]
type = BgPalfx
trigger1 = Time = 10
time = 210
color = 0

[State 0]
type = velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 5
trigger4 = AnimElem = 7
x = 2
[State 0]
type = playsnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 5
trigger4 = AnimElem = 7
trigger5 = AnimElem = 9
trigger6 = AnimElem = 11
value = 333,3
volume = 255
channel = 5
[State 0]
type = playsnd
trigger1 = AnimElem = 1
value = 777,45
volume = 255
channel = -1

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Hard
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s398
guard.sparkno = 2
sparkxy = -20,-40
hitsound   = S333,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s398
guard.sparkno = 2
sparkxy = -20,-60
hitsound   = S333,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
animtype  = Hard
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s398
guard.sparkno = 2
sparkxy = -20,-40
hitsound   = S333,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90


[State 0]
type = HitDef
trigger1 = AnimElem = 8
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s398
guard.sparkno = 2
sparkxy = -20,-60
hitsound   = S333,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 10
attr = S, NA
animtype  = Hard
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s398
guard.sparkno = 2
sparkxy = -20,-40
hitsound   = S333,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = Explod
trigger1 = animelem = 1
anim = 7160
pos = 0,5
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 210
sprpriority = 10
scale = 0.3,0.3
removeongethit = 1

[State 0]
type = Explod
trigger1 = animelem = 1
anim = 196
pos = 0,-30
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 210
sprpriority = 10
;scale = 0.3,0.3
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0
value = S830,1
volume = 255
channel = 30


[State 2040, 4]
type = afterimage
trigger1 = time = 0
time = 200
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add

[State 2040, 5]
type = changestate
trigger1 = time = 210
value = 8991
ctrl = 1

[Statedef 8991]
type = S
movetype = A
physics = S
ctrl = 0
anim = 8991
velset = 0,0,0


[State 0]
type = Explod
trigger1 = animelem = 2
anim = 2002
pos = -15,10
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 3
removeongethit = 1

[State 0]
type = Explod
trigger1 = animelem = 1
anim = 7160
pos = 0,-10
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 15
sprpriority = 10
scale = 0.3,0.3
removeongethit = 1






[State 0]
type = Explod
trigger1 = animelem = 1
anim = 196
pos = 0,-40
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 15
sprpriority = 10
;scale = 0.3,0.3
removeongethit = 1


[State 0]
type = Explod
trigger1 = animelem = 2
anim = 7160
pos = 0,5
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 30
sprpriority = 10
scale = 0.5,0.3
removeongethit = 1

[State 0]
type = Explod
trigger1 = animelem = 2
anim = 196
pos = 0,-30
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 30
sprpriority = 10
;scale = 0.3,0.3
removeongethit = 1




[State 3010, palfx]
type = BgPalfx
trigger1 = Time = 0
time = 15
color = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S333,6
volume = 200
channel = -1



[State 0]
type = Explod
trigger1 = animelem = 2
anim = 398
pos = 15,-50
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
scale = 2,2
sprpriority = 5
removeongethit = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = AnimElem = 2
time = 30
add = 156,0,0


[State 2040, 4]
type = afterimage
trigger1 = time = 0
time = 50
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Hard
damage    = 150, 7
guardflag = MA
pausetime = 1,0
sparkno = S398
guard.sparkno = S2
sparkxy = -50,-45
hitsound   = S777,46
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -10,0
air.velocity = 0,0
fall = 1
fall.recover = 0
envshake.time =20
envshake.freq = 60
envshake.ampl = -7
envshake.phase = 90

[State 0: Pause]
type                    = Pause
triggerall              = movehit
trigger1                = gametime%4 = 0
time                    = 6

[State 0, TargetState]
type = TargetState
trigger1 = time = 38
value = 565

[State 2040, 5]
type = changestate
trigger1 = p2life = 0
value = 0
ctrl = 1




[State 2040, 5]
type = changestate
trigger1 = animtime = 0
value = 8992
ctrl = 1
[Statedef 8992]
type = S
movetype = A
physics = S
poweradd = -1600
ctrl = 0
anim = 8992
velset = 0,0,0
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  stateno = 8992
flag = nobardisplay



[State 0]
type = Explod
trigger1 = animelem = 1
anim = 7953
pos = 0,-30
postype = left
facing = 1
vfacing = 1
bindtime = -1
supermove =-1
pausemove  =-1
removetime = 150
sprpriority = 200
scale = 1.4,1.3
ignorehitpause = 1
persistent = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S777,4
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S777,11
volume = 255
channel = -1

[State 2040, 4]
type = afterimage
trigger1 = time = 0
time = 100
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add

[State 3010, palfx]
type = BgPalfx
trigger1 = Time =0
time = 59
color = 0

[State 2002, BGPalFX]
type = BGPalFX
trigger1 = Time >60
trigger1 = Time <139
time = 1
add = var(10),var(10),var(10)
color = 0
[State 2002, varrandom]
type = varrandom
trigger1 = time >= 0
v = 10
range = 0,255

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 4
x = p2bodydist x -10
y = p2bodydist y -20




[State 2030, 5]
type = projectile
trigger1 = animelem = 5
velocity = 0,0
projanim = 754
projremovetime = 70
offset = 30, -48
projhits = 99
projmisstime = 3
projpriority = 9999
attr = S, HP
guardflag = MA
animtype = Medium
damage = 6,6
pausetime = 1,5
guard.pausetime =  0,30
sparkno = -1
guardsparkno -1
sprpriority = 80
hitsound = S333,10
guardsound =6,0
ground.type = Low
ground.slide = 12
ground.hittime = 12
ground.velocity = 0,0
air.velocity = 0,-0
fall = 1
fall.recover = 0
palfx.time = 50
palfx.mul = 76,0,0
palfx.add = 76,0,0
[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 5
time = 80
freq = 60
ampl = -6
phase = 90

[State 0, EnvShake]
type = EnvShake
trigger1 = time= 150
time = 30
freq = 60
ampl = -8
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 140
value = S777,19
volume = 255
channel = -1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 145
time = 20
add = 256,256,256


[State 0, Explod]
type = Explod
trigger1 = time = 140
anim =  7100
pos = 0,0
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 40
scale = 1,1
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = time = 140
anim = 527
pos = 0,0
postype = p2
ID = 1
facing = 1
vfacing = 1
vel = 0,-1
accel = 0,-1
bindtime = 1
supermove
pausemove
scale = 1,1
sprpriority = 5
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 140
anim = 527
pos = 0,0
postype = p2
ID = 1
facing = 1
vfacing = 1
vel = 1,-1
accel = 1,-1
bindtime = 1
supermove
pausemove
scale = 1,1
sprpriority = 5
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 140
anim = 528
pos = 0,0
postype = p2
ID = 1
facing = 1
vfacing = 1
vel = -1,-1
accel = -1,-1
bindtime = 1
supermove
pausemove
scale = 1,1
sprpriority = 5
removeongethit = 1

[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1



[Statedef 565]
type = S
movetype = A
physics = S
ctrl = 0
anim = 5300
velset = 0,0,0


[State 0, SelfState]
type = SelfState
trigger1 = time = 200
value = 0
ctrl = 1

[Statedef 1212]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1212
poweradd = -300
velset = 0,0,0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S333,4
volume = 255
channel = -1



[State 1212]
type	= ReversalDef
trigger1 = time < 100
reversal.attr	= SCA, AA, AP, AT , NA
p1stateno = 1213

[State 0]
type = ChangeState
trigger1 =  animtime = 0
value = 0
ctrl = 1


[Statedef 1213]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1213
poweradd = -300
velset = 0,0,0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S777,4
volume = 255
channel = -1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 2
x = p2bodydist x-1

[State 0]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = medium
damage    = 30
guardflag = MA
pausetime = 1,100
sparkno = s502
guard.sparkno = s502
sparkxy = -30,-60
hitsound   = S200,3
guardsound = 6,0
ground.type = low
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,0
air.velocity = 0,0
fall = 1
p1stateno = 1214





[State 0]
type = ChangeState
trigger1 =  animtime = 0
value = 0
ctrl = 1



[Statedef 1214]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1214
poweradd = -300
velset = 0,0,0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 2
x = p2bodydist x-1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S333,0
volume = 255
channel = -1
[State 0]
type = Projectile
trigger1 = animelem = 2
ProjAnim = 70352
ProjHitAnim = -1
ProjRemAnim = -1
offset = 0, -20
velocity = 10, 0
remvelocity = 0, 0
accel = 0,0
attr = S, SP
damage    = 80,4
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = S7045
sparkxy = 40, -30
hitsound   = S777,0
guardsound = S777,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = 0,-15
airguard.velocity = 0,-15
air.type = Low
air.velocity = 0,-4.5
air.juggle = 3
fall = 1
fall.recover = 0
envshake.time =20
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90


[State 0, Explod]
type = Explod
trigger1 = projcontact = 1
anim =  7100
pos = 0,-30
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = 30
scale = 1,1
sprpriority = 20


[State 0]
type = ChangeState
trigger1 =  animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Perder por Tiempo...
[Statedef 170]
type = S ; S-parado
ctrl = 0 ;Configura el ctrl (Def: sin cambio)
anim = 170 ;Cambia animción (Def: sin cambio)
velset = 0,0 ;Configura velocidad (ejesx,y) (Def: sin cambio)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S777,24
volume = 255
channel = -1



[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; WIN....
[Statedef 180]
type = S ; S-parado

[State 180, 1]
type = ChangeState
trigger1 = Random >= 500
value = 181

[State 180, 1]
type = ChangeState
trigger1 = Random >= 500
value = 182

[State 180, 1]
type = ChangeState
trigger1 = Random >= 500
value = 183

;---------------------------------------------------------------------------
; Win pose 1 

[Statedef 183]
type = S ; S-parado
ctrl = 0 ;Configura el ctrl (Def: sin cambio)
anim = 183;Cambia animción (Def: sin cambio)
velset = 0,0 ;Configura velocidad (ejesx,y) (Def: sin cambio)
[State 181, 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S777,43
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S777,4
volume = 255
channel = -1


[State 0, Explod]
type = Explod
trigger1 = time = 50
anim = 184
pos = 50,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
scale = 1,1
sprpriority = 0


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,350]
flag = roundnotover

[Statedef 181]
type = S ; S-parado
ctrl = 0 ;Configura el ctrl (Def: sin cambio)
anim = 181 ;Cambia animción (Def: sin cambio)
velset = 0,0 ;Configura velocidad (ejesx,y) (Def: sin cambio)
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S777,22
volume = 255
channel = -1
[State 181, 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,480]
flag = roundnotover

[Statedef 182]
type = S ; S-parado
ctrl = 0 ;Configura el ctrl (Def: sin cambio)
anim = 182;Cambia animción (Def: sin cambio)
velset = 0,0 ;Configura velocidad (ejesx,y) (Def: sin cambio)
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S777,23
volume = 255
channel = -1
[State 181, 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,250]
flag = roundnotover

;------------------------------------------------
; Intro state decider
[Statedef 190]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Random >= 500
value = 191

[State 180, 1]
type = ChangeState
trigger1 = Random >= 500
value = 192

[State 180, 1]
type = ChangeState
trigger1 = Random >= 500
value = 1949

;---------------------------------------------------------------------------
; Intro
[Statedef 1949]
type = S ; S-parado
ctrl = 0 ;Configura el ctrl (Def: sin cambio)
anim = 1949 ;Cambia animción (Def: sin cambio)
velset = 0,0 ;Configura velocidad (ejesx,y) (Def: sin cambio)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S777,9
volume = 255
channel = 18


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S777,20
volume = 255
channel = 18



[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 200
value = S777,42
volume = 255
channel = 18

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2121
pos = 80,0
postype = p1
facing = 1
vfacing = 1
removetime = 400
scale = 1,1
sprpriority = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 390
value = S777,4
volume = 255
channel = -1



[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
trigger1 = time < 400
time = 10
freq = 60
ampl = -4

[State 830,	BGPalFX]
type			= BGPalFX
trigger1		= Time = 50
trigger2		= Time = 250
time			= 40
add			= 20,20,20
mul			= 256,256,256
sinadd		= 200,200,200,4
invertall		= 1
color			= 256


[State 0, Explod]
type = Explod
trigger1 = time = 1
anim = 71609
pos = 0,15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 400
scale = 1,1
sprpriority = 8

[State 0, Explod]
type = Explod
trigger1 = time = 1
anim = 7180
pos = 0,-20
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 400
scale = 1,1
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = time = 1
anim = 196
pos = 0,-50
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 400
scale = 1,1
sprpriority = 8

[State 0, Explod]
type = Explod
trigger1 = time = 1
anim = 7160
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 400
scale = 0.4,0.4
sprpriority = 10

[State 191, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0



;---------------------------------------------------------------------------
; Intro
[Statedef 191]
type = S ; S-parado
ctrl = 0 ;Configura el ctrl (Def: sin cambio)
anim = 190 ;Cambia animción (Def: sin cambio)
velset = 0,0 ;Configura velocidad (ejesx,y) (Def: sin cambio)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 18
value = S777,12
volume = 255
channel = 18

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 5
time = 50
freq = 60
ampl = -4



[State 191, 0]
type = ChangeAnim ; cambio de animacion
trigger1 = RoundState = 0 
value = 190

[State 191, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------

; Intro
[Statedef 192]
type = S ; S-parado
ctrl = 0 ;Configura el ctrl (Def: sin cambio)
anim = 192 ;Cambia animción (Def: sin cambio)
velset = 0,0 ;Configura velocidad (ejesx,y) (Def: sin cambio)


[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 777,16
volume = 255
channel = 18

[State 202, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 777,4
volume = 255
channel = 18


[State 202, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 777,41
volume = 100
channel = 18


[State 0, Explod]
type = Explod
trigger1 = time = 1
anim = 193
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
OFFSET = 190, 150
vel = 0,0
accel = 0,0
random = 0,0
removetime = 40
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
;persistent =

[State 191, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0


;-----------------------------------------------------------------------



[Statedef 696969]
type = S
movetype= A
physics= S
velset= 0,0
anim = 699
ctrl= 0
[State 0]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
anim = 7170
pos = -25,4
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
sprpriority = 3
removeongethit = 1
[State 0]
type= PlaySnd
trigger1= AnimElem= 1
value= s111, 0
volume = 255
[State 0]
type= VelSet
trigger1= AnimElem= 1
x= 33
[State 0]
type= HitDef
trigger1 = AnimElem = 1
attr= S, NA
animtype= Medium
damage = 10,5
guardflag= MA
pausetime= 0,2
sparkxy= 0,-57
sparkno= -1
hitsound= -1
guardsound= 6,0
ground.type= High
ground.slidetime= 12
ground.hittime= 60
ground.velocity= 3
air.velocity= 3
p1stateno = 70

[State 0]
type= ChangeState
trigger1= Time= 33
value= 0
ctrl= 1


[Statedef 70]
type = S
movetype = A
physics = S
ctrl = 0
anim = 7070
velset = 0,0,0
[State 0, PowerAdd]
type = PowerAdd
trigger1 = time >1
value = -4
[State 0]
type = Width
trigger1 = 1
edge = 40,
[State 0]
type = Explod
trigger1 = animelem = 12
anim = 2002
pos = -15,10
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 3
removeongethit = 1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
trigger3 = AnimElem = 6
trigger4 = AnimElem = 8
trigger5 = AnimElem = 10
time = 2
add = 76,0,0
[State 0, BGPalFX]
type = BGPalFX
trigger1 = AnimElem = 12
time = 10
add = 76,0,0
[State 0]
type = velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 5
trigger4 = AnimElem = 7
x = 2
[State 0]
type = playsnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 5
trigger4 = AnimElem = 7
trigger5 = AnimElem = 9
trigger6 = AnimElem = 11
value = 333,3
volume = 255
channel = 5
[State 0]
type = playsnd
trigger1 = AnimElem = 1
value = 777,27
volume = 255
channel = -1

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Hard
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s398
guard.sparkno = 2
sparkxy = -20,-40
hitsound   = S333,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s398
guard.sparkno = 2
sparkxy = -20,-60
hitsound   = S333,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
animtype  = Hard
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s398
guard.sparkno = 2
sparkxy = -20,-40
hitsound   = S333,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90


[State 0]
type = HitDef
trigger1 = AnimElem = 8
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s398
guard.sparkno = 2
sparkxy = -20,-60
hitsound   = S333,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 10
attr = S, NA
animtype  = Hard
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s398
guard.sparkno = 2
sparkxy = -20,-40
hitsound   = S333,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 12
attr = S, NA
animtype  = Hard
damage    = 40, 7
guardflag = MA
pausetime = 1,0
sparkno = S398
guard.sparkno = S2
sparkxy = -50,-45
hitsound   = S333,11
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,0
air.velocity = 0,0
fall = 1
fall.recover = 0
envshake.time =10
envshake.freq = 60
envshake.ampl = -7
envshake.phase = 90


[State 2040, 4]
type = afterimage
trigger1 = time = 0
time = 50
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add

[State 2040, 5]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 797979]
type = S
movetype= A
physics= S
velset= 0,0
anim = 6991
ctrl= 0
[State 0]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
anim = 7170
pos = -25,4
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
sprpriority = 3
removeongethit = 1
[State 0]
type= PlaySnd
trigger1= AnimElem= 1
value= s111, 0
volume = 255
[State 0]
type= VelSet
trigger1= AnimElem= 1
x= 33
[State 0]
type= HitDef
trigger1 = AnimElem = 1
attr= S, NA
animtype= Medium
damage = 10,5
guardflag= MA
pausetime= 0,2
sparkxy= 0,-57
sparkno= -1
hitsound= -1
guardsound= 6,0
ground.type= High
ground.slidetime= 12
ground.hittime= 60
ground.velocity= 3
air.velocity= 3
p1stateno = 890

[State 0]
type= ChangeState
trigger1= Time= 33
value= 0
ctrl= 1
[Statedef 890]
type = S
movetype = A
physics = S
ctrl = 0
anim = 8080
velset = 0,0,0
[State 0, PowerAdd]
type = PowerAdd
trigger1 = time >1
value = -4
[State 0]
type = Width
trigger1 = 1
edge = 40,
[State 0]
type = Explod
trigger1 = animelem = 10
anim = 398
pos = 40,-55
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 40
sprpriority = 3
scale = 2,2
removeongethit = 1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
trigger3 = AnimElem = 6
trigger4 = AnimElem = 8
time = 2
add = 256,256,256
[State 0, BGPalFX]
type = BGPalFX
trigger1 = AnimElem = 10
time = 20
add = 76,0,0
[State 0]
type = velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 5
trigger4 = AnimElem = 7
x = 2
[State 0]
type = playsnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 5
trigger4 = AnimElem = 7
trigger5 = AnimElem = 9
trigger6 = AnimElem = 11
value = 3,7
volume = 255
channel = 5
[State 0]
type = playsnd
trigger1 = AnimElem = 1
value = 777,28
volume = 255
channel = -1

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Hard
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s502
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S333,5
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s502
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S333,5
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
animtype  = Hard
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s502
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S333,5
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90


[State 0]
type = HitDef
trigger1 = AnimElem = 8
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s502
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S333,5
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 10
attr = S, NA
animtype  = Hard
damage    = 40, 7
guardflag = MA
pausetime = 1,30
sparkno = s398
guard.sparkno = 2
sparkxy = -20,-50
hitsound   = S333,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90
[State 0]
type = HitDef
trigger1 = AnimElem = 12
attr = S, NA
animtype  = Hard
damage    = 20, 7
guardflag = MA
pausetime = 1,0
sparkno = S81
guard.sparkno = S2
sparkxy = -45,-55
hitsound   = S777,6
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,-3
air.velocity = -10,-5
fall = 1
envshake.time =10
envshake.freq = 60
envshake.ampl = -7
envshake.phase = 90
[State 0]
type = afterimage
trigger1 = time = 0
time = 100
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add
[State 0]
type = changestate
trigger1 = animtime = 0
value = 81
ctrl = 1


[Statedef 81]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
anim = 82

[State 0]
type = afterimage
trigger1 = time = 0
time = 50
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add
[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Hard
damage    = 20, 7
guardflag = MA
pausetime = 1,0
sparkno = S81
guard.sparkno = S2
sparkxy = -50,-45
hitsound   = S777,6
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,0
air.velocity = -10,-2
fall = 1
fall.recover = 0
envshake.time =10
envshake.freq = 60
envshake.ampl = -7
envshake.phase = 90
[State 0]
type = posadd
trigger1 = animelem = 1
x = P2bodydist X+60
[State 0]
Type = Turn
Trigger1 = P2Dist X < 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S777,4
volume = 255
channel = -1



[State 0]
type = changestate
trigger1 = animtime = 0
value = 82
ctrl = 1

[Statedef 82]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
anim = 82

[State 0]
type = afterimage
trigger1 = time = 0
time = 50
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add
[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Hard
damage    = 20, 7
guardflag = MA
pausetime = 1,0
sparkno = S81
guard.sparkno = S2
sparkxy = -50,-45
hitsound   = S777,6
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,0
air.velocity = -10,-2
fall = 1
fall.recover = 0
envshake.time =10
envshake.freq = 60
envshake.ampl = -7
envshake.phase = 90
[State 0]
type = posadd
trigger1 = animelem = 1
x = P2bodydist X+60
[State 0]
Type = Turn
Trigger1 = P2Dist X < 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S777,4
volume = 255
channel = -1



[State 0]
type = changestate
trigger1 = animtime = 0
value = 83
ctrl = 1


[Statedef 83]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
anim = 83

[State 0]
type = afterimage
trigger1 = time = 0
time = 50
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add
[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Hard
damage    = 20, 7
guardflag = MA
pausetime = 1,0
sparkno = S81
guard.sparkno = S2
sparkxy = -50,-45
hitsound   = S777,6
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,0
air.velocity = -10,-2
fall = 1
fall.recover = 0
envshake.time =10
envshake.freq = 60
envshake.ampl = -7
envshake.phase = 90
[State 0]
type = posadd
trigger1 = animelem = 1
x = P2bodydist X+60
[State 0]
Type = Turn
Trigger1 = P2Dist X < 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S777,4
volume = 255
channel = -1



[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;======================

[Statedef 381]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -2000
anim = 381

[State 3010, palfx]
type = BgPalfx
trigger1 = Time = 0
time = 40
color = 0

[State 3050,2]
type = AfterImage
trigger1 = Time = 0
time = 40
length = 20
palbright = 10,10,-40
palcontrast = 190,190,210
palpostbright = -5,-5,-10
timegap = 2
flamegap = 1
trans = add1

[State 195, 0]
type = CtrlSet
trigger1 = Time < 140
value = 0

[State 1200,0]
type = PlaySnd
trigger1 = AnimElem= 1
value =300,3

[State 1200,0]
type = PlaySnd
trigger1 = AnimElem= 4
value =777,21
volume = 255

[State 1200,1]
type = Helper
trigger1 = AnimElem = 5
helpertype = normal
name = "fogo"
id = 120189
pos = 30,-70
postype = p1
size.xscale = 1
size.yscale = 1
stateno = 120189
keyctrl = 0



[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim =  7150
pos = 0,-70
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 10
scale = 0.3,0.3
sprpriority = 10
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim =  7150
pos = 0,-70
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 10
scale = 0.3,0.3
sprpriority = 10
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim =  7150
pos = 5,-70
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 10
scale = 0.3,0.3
sprpriority = 10
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim =  7150
pos = 15,-65
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 10
scale = 0.3,0.3
sprpriority = 10
removeongethit = 1


[State 0, NotHitBy]
type = NotHitBy
trigger1 =  time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 180


[State 1200,2]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

;------------------------------------------------------

[Statedef 120189]
type 			= S
movetype		= A
physics		= S
anim			= 712099
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 1201,0]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 1201:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 1201:HitDef]
type			= HitDef
trigger1 = animelem = 5
attr = S, NA
animtype  = Medium
damage    = 40,20
guardflag = MAFD
pausetime = 1,5
guardsparkno = -1
sparkno = -1
sparkxy = 0,0
hitsound   = S777,5
guardsound = S777,5
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1, -0.2
air.velocity = -0.5,-0.2
fall = 1
palfx.time		= 12
palfx.mul		= 250,224,120
palfx.add		= 240,50,0
palfx.sinadd	= 110,55,85,10
envshake.time =8
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90

[State 1201:	DestroySelf]
type			= DestroySelf
trigger1		= time = 100
ignorehitpause	= 1

;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
;Saludo

[Statedef 195]
type = S ; S-parado
ctrl = 0  ;Configura el ctrl (Def: sin cambio)
anim = 195 ;Cambia animción (Def: sin cambio)
velset = 0,0 ;Configura velocidad (ejesx,y) (Def: sin cambio)
movetype = I ;Tipo de movimiento: A-ataque, I-reposo, H-gethit (golpe recibido)
physics = S  ;Físicos: S-parado, C-agachado, A-aire
sprpriority = 2 ;Configura la prioridad de las capas de sprites del p1 sobre la del p2 (en frente)
[State 195, 0]
type = CtrlSet
trigger1 = Time = 290
value = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S777,18
volume = 255
channel = 31
[State 195, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



[Statedef 9169]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 75002
poweradd = -500
ctrl = 0
facep2 = 1

[State 0]
Type = SuperPause
Trigger1 = Time = 0
MoveTime = 20
Time = 20
Pos = 9999, -9999
Darken = 0

[State 0]
Type = SuperPause
Trigger1 = Time = 0
Trigger2 = AnimTime = 0
MoveTime = 25
Time = 25
Pos = 9999, -9999
Darken = 0
[State 0]
type = NotHitBy
Trigger1 = Time = 0
value = SCA
time = 25


[State 0]
type = PosAdd
Trigger1 = AnimElem = 3
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
x = 400
y = 0
[State 0]
type = PosAdd
Trigger1 = AnimElem = 3
Trigger1 = command = "holdup"
Trigger1 = command = "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holddown"
x = 400
y = -100
[State 0]
type = PosAdd
Trigger1 = AnimElem = 3
Trigger1 = command = "holdback"
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdup"
x = -400
y = 0
[State 0]
type = PosAdd
Trigger1 = AnimElem = 3
Trigger1 = command = "holdback"
Trigger1 = command = "holdup"
Trigger1 = command != "holdfwd"
Trigger1 = command != "holddown"
x = -400
y = -100
[State 0]
type = PosAdd
Trigger1 = AnimElem = 3
Trigger1 = command = "holdup"
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdback"
x = 0
y = -100
[State 0]
type = Turn
Trigger1 = P2Dist X < 0
[State 0]
type = ChangeState
Trigger1 = AnimTime = 0
value = 2003
ctrl = 1
[State 0]
type = ScreenBound
Trigger1 = Time = 0
Trigger2 = Time >= 10
Trigger3 = AnimElem = 2
Trigger4 = AnimElem = 3
Trigger5 = AnimElem = 4
Trigger6 = AnimTime = 0
value = 0
movecamera = 1,1
[State 0]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 777,17
volume = 255


[State 0]
type = ChangeState
triggerall = command = "bola de fogo"
triggerall = power > 1500
trigger1 = time > 30
ignorehitpause
value =30009
ctrl = 0

[State 0]
type = ChangeState
trigger1 = time = 999
value =0
ctrl = 0





;---------------------------------------------------------------------------
; Stand Puño debil
[Statedef 216]
type    = S                      ;State-type: S-parado, C-agachado, A-aire, L-derribado
movetype= A                      ;Tipo de movimiento: A-ataque, I-reposo, H-gethit (golpe recibido)
physics = S                      ;Físicos: S-parado, C-agachado, A-aire
juggle  = 1                      ;Número de puntos de juggle aereo que el movimiento toma
velset = 0,0                     ;Configura velocidad (ejesx,y) (Def: sin cambio)
ctrl = 0                         ;Configura el ctrl (Def: sin cambio)
anim = 216                       ;Change animation (Def: no change)
poweradd = 20                    ;Poder a añadir (Def: 0)
sprpriority = 2                  ;Configura la prioridad de las capas de sprites del p1 sobre la del p2 (en frente)

;Define un "Hit" (golpe bien sucededido). Si la caja de colisión Clsn1 de su personaje
;(caja de ataque, roja en el AirView) entra en contacto con la caja Clsn2 (caja de "Hit",azul en el AirView) del adversario, y un HitDef fue definido en el instante, o antes, entonces el efecto específico será aplicado.Este es un de los controles más complejos, y también el más utilizado.
;Un HitDef es válido sólo para un "Hit".Para hacer un movimiento que tiene varios "Hits", usted debe colocar más de un trigger en el HitDef durante el ataque.



[State 200, 0]; hitdef
type = HitDef
trigger1 = AnimElem = 3          ; hit p2 en animelem 2(sprite 2 de la animacion)
attr = S, NA                     ;Este es el atributo de ataque. Él es usado para determinar si el ataque puede acertar el P2.De momento, usted sólo menciona el atributo,diciendo cual el tipo de ataque es. Debe ser del formato:
                                 ;attr = arg1, arg2.

                                 ;arg1
                                 ;"S" - ataque en pie
                                 ;"C" - ataque agachado
                                 ;"A" - ataque en el aire

                                 ;arg2 es compuesto por dos letras.
                                 ;"N" - para "normal" 2 a
                                 ;"La" - para "ataque"
                                 ;"S" - para "especial"
                                 ;"T" - para "agarre" (throw)
                                 ;"H" - para "hyper" (o super)
                                 ;"P" - para "projéctil"

damage = 38, 0                   ;damage = hitdamage, guarddamage (entero)
                                 ;hitdamage es el daño que el adversario lleva.guarddamage es opcional, y es el daño que el adversario lleva cuando defiende.El padron para ambos es cero.


animtype = Light                 ;Este se refiere al tipo de animación que el adversario irá a tener cuando sea acertado.

                                 ;"light" - acierto leve
                                 ;"medium" - acierto medio
                                 ;"hard" - acierto fuerte
                                 ;"back" - derrumbar
                                 ;"up" - con caída tipo "uppercut" (de MK).
                                 ;"diagup" - acierto con caída en el aire, con caída de cabeza.El padron(por default) es "Light".
                                 ;air.animtype = animtype

                                 ;igual al parámetro "animtype", este hace la animación cuando el adversario está en el aire.El padron(por default)es utilizar la misma animación del "animtype".osea la del suelo
                                 ;fall.animtype = animtype

                                 ;Similar al parámetro "animtype", este seta a animación cuando el adversario está cayendo.El padron es utilizar la misma animación del "animtype". El padron es "Up" si el air.animtype es "Up",y "Back" de lo contrario.

guardflag = MA                   ;Esto determina como P2 se puede defender el ataque.si no se pone nada p2 no
                                 ;consigue defenderse o atacar (anular movimiento). hitflags es la "string" que contiene una combinación de los siguientes caracteres:
                                 ;"H" - para "high" (alto)
                                 ;"L" - para "low" (bajo)
                                 ;"La" - para "air" (aéreo)
                                 ;"M" - para "mid" (equivalente a decir HL)

                                 ;Parámetros opcionales:

                                 ;affectteam = teamtype

                                 ;teamtype especifica que equipo será afectado por el Hitdef. El padron(por default) es

                                 ;"Y".
                                 ;"B" - para "both" (Hitdef afectará todos los luchadores alcanzados)
                                 ;"Y" - para "enemy" (afecta sólo el equipo enemigo)
                                 ;"F" - para "friendly" (afecta sólo sus compañeros)

hitflag = MAF                    ;Esto determina que tipo de estado P2 debe estar,para que P1 pueda pegarle. hitflags es una variable "string" (que guarda letras) que contiene una combinación de los siguientes caracteres:
                                 ;"H" - para "high" (alto)
                                 ;"L" - para "low" (bajo)
                                 ;"La" - para "air" (aéreo)
                                 ;"M" - para "mid" (equivalente a decir HL)
                                 ;"F" - para "fall" (en caída, incluyendo el efecto de juggle)
                                 ;"D" - para "lying Down" (adversario caído)

                                 ;Dos caracteres opcionales son (+) y (-). Si "+" fuera añadido, entonces el "Hit" sólo
                                 ;afecta el adversario en un estado de "gethit". Esto puede ser muy útil en combos,
                                 ;chain-mueves, ... donde este Hitdef no irá a afectar el adversario, a menos que él ya haya sido alcanzado por el ataque inicial del combo. Si "-" fuera añadido, entonces el Hitdef sólo afecta adversarios que no están en un estado de "Hit". Usted puede usar "-" para agarrones, y otros movimientos que usted no quiera añadir en un combo. "+" y "-" no pueden ser utilizados al mismo tiempo.Si es omitido, el padron(por default) es
                                 ;MAF.

priority = 3, Hit                ;priority = hitprior (entero), hittype (string)

                                 ;Especifica la prioridad para este "Hit". Prioridad alta lleva precedencia sobre "Hits"
                                 ;de menor prioridad. Valores válidos para hitprior son de 1 a 7. El padron es 4.Hittype, cuando especificado, da la clase de la prioridad del "Hit". Clases válidas son:
                                 ;"Hit" - siempre lleva precedencia sobre la clase Dodge. Es el padron es 0.
                                 ;"Dodge" - siempre lleva precedencia sobre la clase Miss.
                                 ;"Miss" - Falla menor prioridad

pausetime = 11, 11               ;pausetime = p1pausetime, p2shaketime (entero)

                                 ;Este es el tiempo que cada luchador irá a parar durante el "Hit".
                                 ;p1pausetime es el tiempo a parar P1, medidos en game-ticks.
                                 ;p2pausetime es el tiempo que el adversário balancea antes de ser reculado debido al golpe. El padron es 0,0 si es omitido.
                                 ;guard.pausetime = p1pausetime, p2shaketime (entero)
                                 ;Similar al "pausetime", hay un tiempo de pausa para cada jugador si el golpe fuera defendido.Cuando es omitido, el padron son los mismos valores de "pausetime".

sparkno = s501                  ;sparkno = actionen el (entero)
                                 ;Esto define el número de la animación (Action) del "Hit" ("sparks", sangre, luces, ...).
                                 ;Para utilizar una animación fuera del archivo AIR de su personaje, preceda el número de la animación por una S (eso sólo vale para versión 27/06+).El padron es definido por las variables del personaje.En la versión antigua (01/01) era necesario colocar sparkno = 0,6; a partir de la versión 27/06, basta sparkno = 6.

guard.sparkno = s501                ;Esto define el número de la animación (Action) del golpe cuando defendido ("sparks", ...).Para utilizar una animación fuera del archivo AIR de su personaje, preceda el número de la animación por un S. El padron es definido por las variables del personaje.



sparkxy = -15, -56               ;Esto define donde colocar el "spark".
                                 ;sparkx es la coordinada relativa a frente de P2.sparky es relativo al P1. Valores
                                 ;negativos hacen el "spark" subir.

                                 ;Usted puede utilizar el AirView para determinar que valor de la posición del cursor leyendo el valor en y-position. El padron es 0,0 se omitido.

hitsound = S200, 2                  ;Este es el sonido a ser tocado en el "Hit" (del archivo common.snd). La inclusión del archivo fight.snd permite usted escoger 5,0 ("Hit" leve) hasta 5,4 ("Hit" fuerte). Para tocar un sonido del archivo SND de su personaje, preceda el número por S.
                                 ;Por ejemplo:

                                 ;"hitsound = S1,0".
                                 ;El padron es definido por las variables de su personaje.

guardsound = S200, 2                ;Este es el sonido para tocar cuando el adversario defiende (del archivo common.snd). Sólo el sonido 6,0 está disponible. Para tocar un sonido del archivo SND de su personaje, preceda el número por S. No se puede tocar un sonido del adversario. El padron es definido por las variables de su personaje.

ground.type = High               ;ground.type = attacktype
                                 ;Este es el grupo de ataque si el adversario está en el suelo. Escoja "High" para ataques que hagan el adversario hacer la cabeza para tras, "Low" para ataques que sean en el estómago, "Trip" para arrastrarse(resbala), o "None" para no hacer nada al adversario. Si usted escoge "High" o "Low" es la misma cosa, si AnimType estuviera en "Back". El padron es "High" si es omitido.

ground.slidetime = 12             ;Este es el tiempo en game-ticks que el adversario resbala para tras después de ser alcanzado por el "Hit" (no está incluso el tiempo de pausetime para P2). Aplicable sólo para golpes que mantienen al adversario en el suelo. El padron es cero, si es omitido.

ground.hittime  = 15             ;Tiempo que el adversario lleva para recuperarse de un estado de "Hit". Incrementar
                                 ;este valor mantiene el adversario en uno estado de "Hit" por tiempo mayor, tal vez para tornar el combo más fácil. Aplicable sólo en "Hits" que mantengan el adversario en el suelo. El padron es 0, si omitido.

ground.velocity = -5             ;Velocidad inicial para dar al P2 después de ser acertado, si el P2 está en el suelo.
                                 ;Si la velocidad Y no fuera cero, P2 va a ser jugado para arriba. El valor padron para los
                                 ;dos es 0 si son omitidos. Usted puede dejar de fuera la velocidad de Y se quiera que el oponente continúe en el suelo.

airguard.velocity = -1.9,-.8     ;Velocidad a ser dada al P2 si se defiende de un ataque en el aire. El valor padron es x_
                                 ;velocity*1.5, yvelocity/2, donde la velocidad de X y Y son los valores de "air.velocity".

air.type = High                  ;air.type = attacktype
                                 ;Este es el grupo de ataque para el adversario en el aire. El padron es el mismo valor de "ground.type" se omitido.

air.velocity = -1.4,-3           ;Velocidad inicial a ser dada para el P2 si él fuera acertado por el ataque en el aire.
                                 ;El valor padron es para 0,0 si es omitido.


air.hittime = 12                 ;Tiempo que el adversario queda en estado de "Hit" después de recibir el golpe, en el o llendo para el aire, antes de ir para el estado de "air recover". Este parámetro no tienen efecto si el parámetro "fall" esta en 1. El padron es 20 (o sea, si fall = 0, él se
                               ;auto-recupera en el aire después de 20 game-ticks).

[State 200, 1] ; grito dabura
type = PlaySnd
trigger1 = Animelem = 2
value = 210, 1
volume = 250

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900
ctrl = 0

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------

[Statedef 113]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -3000
anim = 113
[State 0]
type = PlaySnd
trigger1 = AnimElem= 1
value =777,30
volume = 255
[State 0]
type = PlaySnd
trigger1 = AnimElem= 21
value =777,31
volume = 255
[State 0]
type = PlaySnd
trigger1 = AnimElem= 22
value =333,11
volume = 255

[State 0]
type = PlaySnd
trigger1 = time = 400
value =777,32
volume = 255
[State 1100,1]
type = Explod
trigger1 = animelem = 22
anim = 7100
ID = 7100
postype = p1
pos = -30,-70
sprpriority = 20
bindtime = -1
supermove =-1
pausemove =-1
ownpal = 1
ontop = 0
scale = 0.3,0.3
removeongethit = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 350
anim = 7130
pos = 10,-30
movetime = 350
darken = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 380
anim = 7130
pos = -10,-30
movetime = 380
darken = 0

[State 1100,2]
type = Helper
trigger1 = AnimElem = 23
helpertype = normal
name = "lanza"
id = 114
pos = 20,-60
size.xscale = 1
size.yscale = 1
stateno = 114
keyctrl = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 21
anim = 7160
pos = 0,5
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 200
supermove =-1
pausemove =-1
scale = 0.4,0.4
sprpriority = 10
removeongethit = 1
[State 0]
type = BgPalfx
trigger1 = animelem = 21
time = 200
color = 0
[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 21
time = 200
freq = 60
ampl = -4
phase = 90
[State 0, Explod]
type = Explod
trigger1 = animelem = 21
anim = 7180
pos = 0,-10
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 150
supermove =-1
pausemove =-1
scale = 1.4,1.4
sprpriority = 11
removeongethit = 1


[State 0]
type=ChangeState
trigger1=Time=450
value=0
ctrl=1



;------------------------------------------------------
;sprites de Lanza
[Statedef 114]
type 			= A
movetype		= A
physics		= N
anim			= 1101
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 7000: 	AfterImage]
type 			= AfterImage
trigger1 		= (!time)
time 			= 0
timegap		= 1
framegap 		= 2
length 		= 9
paladd 		= 0, 0, 0
palmul 		= 1, 1, 1
palcontrast 	= 110,110,110
trans 		= add

[State 1101, 0]
type = Explod
trigger1 = time%5 = 0
anim = 9014
postype = p1
pos = -20,0
sprpriority = 3
supermove = 1
scale = 0.4,0.4
ownpal = 1
random = 0,20
vel = -.5,ifelse(random <500,.5,-.5)


[State 1101,1]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 1101,2]
type			= VelSet
trigger1		= (!Time)
x			= 14



[State 1101:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 1101, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 11022
pos			= 25,-60
postype		= p2
facing		= -1
vfacing		= -1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 200
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.6,1
sprpriority		= 30
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1101, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 11023
pos			= -10,-60
postype		= p2
facing		= -1
vfacing		= -1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 200
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.6,1
sprpriority		= -1
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1101, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 398
pos			= -20,-62
postype		= p2
facing		= -1
vfacing		= -1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 200
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1.2,1.2
sprpriority		= -1
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1101, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 398
pos			= 10,-62
postype		= p2
facing		= -1
vfacing		= -1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 200
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1.2,1.2
sprpriority		= 40
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1101, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 500
pos			= 10,-60
postype		= p2
facing		= -1
vfacing		= -1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 200
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,0.5
sprpriority		= 35
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1101:	HitDef]
type			= HitDef
trigger1		= !MoveContact
attr			= S, HP
hitflag		= MAFDP
animtype		= Hard
priority		= 7, Hit
damage		= 9999
pausetime		= 0,200
guard.pausetime	= 0,20
sparkno		= s503
guard.sparkno	= S503
sparkxy		= -15,-4
hitsound		= S777,6
guardsound		= S777,6
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 744
getpower		= 0
givepower		= 25
palfx.time		= 200
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0


[State 1101:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10)
ignorehitpause	= 1
;---------------------------------------------------------------------------
; Standing rodillazo
[Statedef 217]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 217
sprpriority = 2

[State 230, 0] ;sonido rodillazo
type = PlaySnd
trigger1 = animelem = 2
value = 210, 4

[State 230, 1]; hitdef
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 26
guardflag = MA
pausetime = 1,11
sparkno = s500
guard.sparkno = s500
sparkxy = -10,-40
hitsound   = S200,5
guardsound = S200,5
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = 0 ,0
air.velocity = -2.5,0

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 218
ctrl = 1

[Statedef 218]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2

[State 230, 0] ;sonido rodillazo
type = PlaySnd
trigger1 = animelem = 2
value = 210, 4

[State 230, 1]; hitdef
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = hard
damage    = 26
guardflag = MA
pausetime = 1,7
sparkno = s500
guard.sparkno = s500
sparkxy = -10,-50
hitsound   = S200,5
guardsound = S200,5
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -4.5,0

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900
ctrl = 0

[State 230, 3];cambio de estado
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1






[Statedef 219]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2029
poweradd = 0

[State 300, AfterImageLeft]
type = Explod
Trigger1 = AnimElem = 1
anim = 202
removetime = 6
velocity = -1
offset = 0

[State 300, AfterImageRight]
type = Explod
Trigger1 = AnimElem = 1
anim = 202
removetime = 6
velocity = 1
offset = 0

[State 0]
type = AfterImage
trigger1 = Time = 0
time = 6
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200, 10

[State 0, PosSet]
type = PosSet
trigger1 = animelem = 1
x = ifelse(  facing = -1,(target, pos X-40), (target, pos X+40)  )
y = target, pos Y -2

[State 0, PosSet]
type = PosSet
trigger1 =  animelem = 1
x = ifelse(  facing = -1,(enemynear, pos X-40), (enemynear, pos X+40)  )
y = enemynear, pos Y -2


[State 0]
type = PlaySnd
trigger1 = time = 0
value = 202, 0
volume = 200


[State 210, 3]
type = ChangeState
trigger1 = time = 10
value = 2203
ctrl = 1

;----------------------------------------------------------------------------

; Standing uppercut
[Statedef 2203]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 2169
sprpriority = 4


[State 3010, Turn]
Type = Turn
Trigger1 = P2Dist X < 0

[State 250,3] ;Polvo
type = Explod
trigger1 = time = 1
Anim = 7020
pos = 15,4
Id = 7020
velocity = 0,0
sprpriority = 8
removeongethit = 0
scale = 0.4,0.4
removetime = 20
Postype = p1


[State 210, 0] ; grito dabura
type = PlaySnd
trigger1 = animelem = 2
value = 210,1
volume = 250

[State 210, 1];hitdef
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 30
guardflag = MA
pausetime = 11,11
sparkno = s502
guard.sparkno = s502
sparkxy = -20,-75
hitsound   = S200,3
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0, -10
air.velocity = -2.5,-4
fall = 1


[State 210, 3] ; cambio de estado
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; teleport + codazo
[Statedef 20222]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 202
poweradd = 0

[State 300, AfterImageLeft]
type = Explod
Trigger1 = AnimElem = 1
anim = 202
removetime = 25
velocity = -1
offset = 0

[State 300, AfterImageRight]
type = Explod
Trigger1 = AnimElem = 1
anim = 202
removetime = 25
velocity = 1
offset = 0

[State 260,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 202, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200, 10

[State 202, 1]
type = posadd
trigger1 = time = 10
x = p2bodydist x + 10
y = p2bodydist y -10

[State 210, 0]; grito dabura
type = PlaySnd
trigger1 = time = 0
value = 202, 0
volume = 200

[State 407,2 ]
type = ChangeState
trigger1 = time = 10
value = 20322
ctrl = 1
;----------------------------------------------------------------

[Statedef 20322]
type = S
MoveType =A
physics = S
sprpriority = 0
ctrl=0
anim = 20522
VelSet = 0,0




[State 300, AfterImageRight]
type =  Explod
Trigger1 = AnimElem = 1
anim = 7045
pos = 0,-50
postype = p2
removetime = 25
bindtime = -1
velocity = 1
sprpriority = 6
offset = 0



[State 260,sound];grito dabura
type = PlaySnd
trigger1 = animelem = 2
value = 240, 1
volume = 200

[State 408, Hit Definition ]
type = HitDef
trigger1 = time=0
attr = S,NA
hitflag = MAF
guardflag =MA
animtype = Hard
air.animtype = Back
fall.animtype = Back
damage = 30,4
pausetime = 15,1
ground.type = high
ground.velocity = -1,0
ground.hittime = 12
hitsound   = S9000,0
sparkxy = -18,-69
ground.velocity = 0,7
air.velocity = 0, 7
sparkno = s7110
fall = 1
air.fall = 1


[State 407,2 ]
type = ChangeState
trigger1 = animtime = 0
value = 900
ctrl = 0

;---------------------------------------------------------------------------
; Stand Puño debil
[Statedef 200]
type    = S                      ;State-type: S-parado, C-agachado, A-aire, L-derribado
movetype= A                      ;Tipo de movimiento: A-ataque, I-reposo, H-gethit (golpe recibido)
physics = S                      ;Físicos: S-parado, C-agachado, A-aire
juggle  = 1                      ;Número de puntos de juggle aereo que el movimiento toma
velset = 0,0                     ;Configura velocidad (ejesx,y) (Def: sin cambio)
ctrl = 0                         ;Configura el ctrl (Def: sin cambio)
anim = 240                       ;Change animation (Def: no change)
poweradd = 20                    ;Poder a añadir (Def: 0)
sprpriority = 2                  ;Configura la prioridad de las capas de sprites del p1 sobre la del p2 (en frente)

;Define un "Hit" (golpe bien sucededido). Si la caja de colisión Clsn1 de su personaje
;(caja de ataque, roja en el AirView) entra en contacto con la caja Clsn2 (caja de "Hit",azul en el AirView) del adversario, y un HitDef fue definido en el instante, o antes, entonces el efecto específico será aplicado.Este es un de los controles más complejos, y también el más utilizado.
;Un HitDef es válido sólo para un "Hit".Para hacer un movimiento que tiene varios "Hits", usted debe colocar más de un trigger en el HitDef durante el ataque.



[State 200, 0]; hitdef
type = HitDef
trigger1 = AnimElem = 2          ; hit p2 en animelem 2(sprite 2 de la animacion)
attr = S, NA                     ;Este es el atributo de ataque. Él es usado para determinar si el ataque puede acertar el P2.De momento, usted sólo menciona el atributo,diciendo cual el tipo de ataque es. Debe ser del formato:
                                 ;attr = arg1, arg2.

                                 ;arg1
                                 ;"S" - ataque en pie
                                 ;"C" - ataque agachado
                                 ;"A" - ataque en el aire

                                 ;arg2 es compuesto por dos letras.
                                 ;"N" - para "normal" 2 a
                                 ;"La" - para "ataque"
                                 ;"S" - para "especial"
                                 ;"T" - para "agarre" (throw)
                                 ;"H" - para "hyper" (o super)
                                 ;"P" - para "projéctil"

damage = 38, 0                   ;damage = hitdamage, guarddamage (entero)
                                 ;hitdamage es el daño que el adversario lleva.guarddamage es opcional, y es el daño que el adversario lleva cuando defiende.El padron para ambos es cero.


animtype = Light                 ;Este se refiere al tipo de animación que el adversario irá a tener cuando sea acertado.

                                 ;"light" - acierto leve
                                 ;"medium" - acierto medio
                                 ;"hard" - acierto fuerte
                                 ;"back" - derrumbar
                                 ;"up" - con caída tipo "uppercut" (de MK).
                                 ;"diagup" - acierto con caída en el aire, con caída de cabeza.El padron(por default) es "Light".
                                 ;air.animtype = animtype

                                 ;igual al parámetro "animtype", este hace la animación cuando el adversario está en el aire.El padron(por default)es utilizar la misma animación del "animtype".osea la del suelo
                                 ;fall.animtype = animtype

                                 ;Similar al parámetro "animtype", este seta a animación cuando el adversario está cayendo.El padron es utilizar la misma animación del "animtype". El padron es "Up" si el air.animtype es "Up",y "Back" de lo contrario.

guardflag = MA                   ;Esto determina como P2 se puede defender el ataque.si no se pone nada p2 no
                                 ;consigue defenderse o atacar (anular movimiento). hitflags es la "string" que contiene una combinación de los siguientes caracteres:
                                 ;"H" - para "high" (alto)
                                 ;"L" - para "low" (bajo)
                                 ;"La" - para "air" (aéreo)
                                 ;"M" - para "mid" (equivalente a decir HL)

                                 ;Parámetros opcionales:

                                 ;affectteam = teamtype

                                 ;teamtype especifica que equipo será afectado por el Hitdef. El padron(por default) es

                                 ;"Y".
                                 ;"B" - para "both" (Hitdef afectará todos los luchadores alcanzados)
                                 ;"Y" - para "enemy" (afecta sólo el equipo enemigo)
                                 ;"F" - para "friendly" (afecta sólo sus compañeros)

hitflag = MAF                    ;Esto determina que tipo de estado P2 debe estar,para que P1 pueda pegarle. hitflags es una variable "string" (que guarda letras) que contiene una combinación de los siguientes caracteres:
                                 ;"H" - para "high" (alto)
                                 ;"L" - para "low" (bajo)
                                 ;"La" - para "air" (aéreo)
                                 ;"M" - para "mid" (equivalente a decir HL)
                                 ;"F" - para "fall" (en caída, incluyendo el efecto de juggle)
                                 ;"D" - para "lying Down" (adversario caído)

                                 ;Dos caracteres opcionales son (+) y (-). Si "+" fuera añadido, entonces el "Hit" sólo
                                 ;afecta el adversario en un estado de "gethit". Esto puede ser muy útil en combos,
                                 ;chain-mueves, ... donde este Hitdef no irá a afectar el adversario, a menos que él ya haya sido alcanzado por el ataque inicial del combo. Si "-" fuera añadido, entonces el Hitdef sólo afecta adversarios que no están en un estado de "Hit". Usted puede usar "-" para agarrones, y otros movimientos que usted no quiera añadir en un combo. "+" y "-" no pueden ser utilizados al mismo tiempo.Si es omitido, el padron(por default) es
                                 ;MAF.

priority = 3, Hit                ;priority = hitprior (entero), hittype (string)

                                 ;Especifica la prioridad para este "Hit". Prioridad alta lleva precedencia sobre "Hits"
                                 ;de menor prioridad. Valores válidos para hitprior son de 1 a 7. El padron es 4.Hittype, cuando especificado, da la clase de la prioridad del "Hit". Clases válidas son:
                                 ;"Hit" - siempre lleva precedencia sobre la clase Dodge. Es el padron es 0.
                                 ;"Dodge" - siempre lleva precedencia sobre la clase Miss.
                                 ;"Miss" - Falla menor prioridad

pausetime = 11, 11               ;pausetime = p1pausetime, p2shaketime (entero)

                                 ;Este es el tiempo que cada luchador irá a parar durante el "Hit".
                                 ;p1pausetime es el tiempo a parar P1, medidos en game-ticks.
                                 ;p2pausetime es el tiempo que el adversário balancea antes de ser reculado debido al golpe. El padron es 0,0 si es omitido.
                                 ;guard.pausetime = p1pausetime, p2shaketime (entero)
                                 ;Similar al "pausetime", hay un tiempo de pausa para cada jugador si el golpe fuera defendido.Cuando es omitido, el padron son los mismos valores de "pausetime".

sparkno = s501                  ;sparkno = actionen el (entero)
                                 ;Esto define el número de la animación (Action) del "Hit" ("sparks", sangre, luces, ...).
                                 ;Para utilizar una animación fuera del archivo AIR de su personaje, preceda el número de la animación por una S (eso sólo vale para versión 27/06+).El padron es definido por las variables del personaje.En la versión antigua (01/01) era necesario colocar sparkno = 0,6; a partir de la versión 27/06, basta sparkno = 6.

guard.sparkno = s501                ;Esto define el número de la animación (Action) del golpe cuando defendido ("sparks", ...).Para utilizar una animación fuera del archivo AIR de su personaje, preceda el número de la animación por un S. El padron es definido por las variables del personaje.



sparkxy = -15, -56               ;Esto define donde colocar el "spark".
                                 ;sparkx es la coordinada relativa a frente de P2.sparky es relativo al P1. Valores
                                 ;negativos hacen el "spark" subir.

                                 ;Usted puede utilizar el AirView para determinar que valor de la posición del cursor leyendo el valor en y-position. El padron es 0,0 se omitido.

hitsound = S200, 2                  ;Este es el sonido a ser tocado en el "Hit" (del archivo common.snd). La inclusión del archivo fight.snd permite usted escoger 5,0 ("Hit" leve) hasta 5,4 ("Hit" fuerte). Para tocar un sonido del archivo SND de su personaje, preceda el número por S.
                                 ;Por ejemplo:

                                 ;"hitsound = S1,0".
                                 ;El padron es definido por las variables de su personaje.

guardsound = S200, 2                ;Este es el sonido para tocar cuando el adversario defiende (del archivo common.snd). Sólo el sonido 6,0 está disponible. Para tocar un sonido del archivo SND de su personaje, preceda el número por S. No se puede tocar un sonido del adversario. El padron es definido por las variables de su personaje.

ground.type = High               ;ground.type = attacktype
                                 ;Este es el grupo de ataque si el adversario está en el suelo. Escoja "High" para ataques que hagan el adversario hacer la cabeza para tras, "Low" para ataques que sean en el estómago, "Trip" para arrastrarse(resbala), o "None" para no hacer nada al adversario. Si usted escoge "High" o "Low" es la misma cosa, si AnimType estuviera en "Back". El padron es "High" si es omitido.

ground.slidetime = 12             ;Este es el tiempo en game-ticks que el adversario resbala para tras después de ser alcanzado por el "Hit" (no está incluso el tiempo de pausetime para P2). Aplicable sólo para golpes que mantienen al adversario en el suelo. El padron es cero, si es omitido.

ground.hittime  = 15             ;Tiempo que el adversario lleva para recuperarse de un estado de "Hit". Incrementar
                                 ;este valor mantiene el adversario en uno estado de "Hit" por tiempo mayor, tal vez para tornar el combo más fácil. Aplicable sólo en "Hits" que mantengan el adversario en el suelo. El padron es 0, si omitido.

ground.velocity = -5             ;Velocidad inicial para dar al P2 después de ser acertado, si el P2 está en el suelo.
                                 ;Si la velocidad Y no fuera cero, P2 va a ser jugado para arriba. El valor padron para los 
                                 ;dos es 0 si son omitidos. Usted puede dejar de fuera la velocidad de Y se quiera que el oponente continúe en el suelo.

airguard.velocity = -1.9,-.8     ;Velocidad a ser dada al P2 si se defiende de un ataque en el aire. El valor padron es x_
                                 ;velocity*1.5, yvelocity/2, donde la velocidad de X y Y son los valores de "air.velocity".

air.type = High                  ;air.type = attacktype
                                 ;Este es el grupo de ataque para el adversario en el aire. El padron es el mismo valor de "ground.type" se omitido.

air.velocity = -1.4,-3           ;Velocidad inicial a ser dada para el P2 si él fuera acertado por el ataque en el aire.
                                 ;El valor padron es para 0,0 si es omitido.


air.hittime = 12                 ;Tiempo que el adversario queda en estado de "Hit" después de recibir el golpe, en el o llendo para el aire, antes de ir para el estado de "air recover". Este parámetro no tienen efecto si el parámetro "fall" esta en 1. El padron es 20 (o sea, si fall = 0, él se
                               ;auto-recupera en el aire después de 20 game-ticks).

[State 200, 1] ; grito dabura
type = PlaySnd
trigger1 = Animelem = 2
value = 210, 1
volume = 250

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900
ctrl = 0

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 18972]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2029
poweradd = 0

[State 300, AfterImageLeft]
type = Explod
Trigger1 = AnimElem = 1
anim = 202
removetime = 6
velocity = -1
offset = 0

[State 300, AfterImageRight]
type = Explod
Trigger1 = AnimElem = 1
anim = 202
removetime = 6
velocity = 1
offset = 0

[State 0]
type = AfterImage
trigger1 = Time = 0
time = 6
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200, 10

[State 0, PosSet]
type = PosSet
trigger1 = animelem = 1
x = ifelse(  facing = -1,(target, pos X-40), (target, pos X+40)  )


[State 0, PosSet]
type = PosSet
trigger1 =  animelem = 1
x = ifelse(  facing = -1,(enemynear, pos X-40), (enemynear, pos X+40)  )



[State 0]
type = PlaySnd
trigger1 = time = 0
value = 202, 0
volume = 200


[State 210, 3]
type = ChangeState
trigger1 = time = 10
value = 20192
ctrl = 1

;----------------------------------------------------------------------------

; Standing uppercut
[Statedef 20192]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 201
sprpriority = 4


[State 3010, Turn]
Type = Turn
Trigger1 = P2Dist X < 0

[State 250,3] ;Polvo
type = Explod
trigger1 = time = 1
Anim = 7020
pos = 15,4
Id = 7020
velocity = 0,0
sprpriority = 8
removeongethit = 0
scale = 0.4,0.4
removetime = 20
Postype = p1


[State 210, 0] ; grito dabura
type = PlaySnd
trigger1 = animelem = 2
value = 210,1
volume = 250

[State 210, 1];hitdef
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 30
guardflag = MA
pausetime = 11,11
sparkno = s502
guard.sparkno = s502
sparkxy = -20,-75
hitsound   = S200,3
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0, -10
air.velocity = -2.5,-4
fall = 1


[State 210, 3] ; cambio de estado
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1897]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2029
poweradd = 0

[State 300, AfterImageLeft]
type = Explod
Trigger1 = AnimElem = 1
anim = 202
removetime = 6
velocity = -1
offset = 0

[State 300, AfterImageRight]
type = Explod
Trigger1 = AnimElem = 1
anim = 202
removetime = 6
velocity = 1
offset = 0

[State 0]
type = AfterImage
trigger1 = Time = 0
time = 6
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200, 10

[State 0, PosSet]
type = PosSet
trigger1 = animelem = 1
x = ifelse(  facing = -1,(target, pos X-40), (target, pos X+40)  )
y = target, pos Y -2

[State 0, PosSet]
type = PosSet
trigger1 =  animelem = 1
x = ifelse(  facing = -1,(enemynear, pos X-40), (enemynear, pos X+40)  )
y = enemynear, pos Y -2


[State 0]
type = PlaySnd
trigger1 = time = 0
value = 202, 0
volume = 200


[State 210, 3]
type = ChangeState
trigger1 = time = 10
value = 2019
ctrl = 1

;----------------------------------------------------------------------------

; Standing uppercut
[Statedef 2019]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 201
sprpriority = 4


[State 3010, Turn]
Type = Turn
Trigger1 = P2Dist X < 0

[State 250,3] ;Polvo
type = Explod
trigger1 = time = 1
Anim = 7020
pos = 15,4
Id = 7020
velocity = 0,0
sprpriority = 8
removeongethit = 0
scale = 0.4,0.4
removetime = 20
Postype = p1


[State 210, 0] ; grito dabura
type = PlaySnd
trigger1 = animelem = 2
value = 210,1
volume = 250

[State 210, 1];hitdef
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 30
guardflag = MA
pausetime = 11,11
sparkno = s502
guard.sparkno = s502
sparkxy = -20,-75
hitsound   = S200,3
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0, -10
air.velocity = -2.5,-4
fall = 1


[State 210, 3] ; cambio de estado
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 2039]
type = S
MoveType =A
physics = S
sprpriority = 0
ctrl=0
anim = 2059
VelSet = 0,0


[State 300, AfterImageRight]
type =  Explod
Trigger1 = AnimElem = 1
anim = 7045
pos = 0,-50
postype = p2
removetime = 25
bindtime = -1
velocity = 1
sprpriority = 6
offset = 0



[State 260,sound];grito dabura
type = PlaySnd
trigger1 = animelem = 2
value = 240, 1
volume = 200

[State 408, Hit Definition ]
type = HitDef
trigger1 = time=0
attr = S,NA
hitflag = MAF
guardflag =MA
animtype = Hard
air.animtype = Back
fall.animtype = Back
damage = 30,4
pausetime = 15,1
ground.type = high
ground.velocity = -1,0
ground.hittime = 12
hitsound   = S260,0
sparkxy = -8,-20
ground.velocity = 00,7
air.velocity = 0, 7
sparkno = s502
fall = 1
air.fall = 1


[State 407,2 ]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
--------------------------------
[Statedef 215]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 215
poweradd = 10

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 210,2
volume = 250
channel = 1

[State 200]
type = PlaySnd
triggerall = random >= 300
trigger1 = Time = 1
value = 0, 9

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype = Light
guardflag = MA
hitflag = MAF
;affectteam = E
air.animtype = Light
;fall.animtype = Back
priority = 3,Hit
damage = 25,5
pausetime = 8,8
;guard.pausetime = 0,0
sparkno = s500
guard.sparkno = s500
sparkxy = -10,-53
hitsound   = S200,1
Guardsound = S200,1
ground.type = High
air.type = High
ground.slidetime = 10
guard.slidetime = 10
ground.hittime = 10
guard.hittime = 10
air.hittime = 10
ground.velocity = -4,0
air.velocity = -4,-2
givepower = 40, 40
getpower = 80,80

[State 200, 2] ;si esta en el aire,ve a modo fly.
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900

[State 0, ]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 212]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 212
poweradd = 10

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 210,3
volume = 250
channel = 1

[State 200]
type = PlaySnd
triggerall = random >= 300
trigger1 = Time = 1
value = 0, 9

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Light
air.animtype = Light
;fall.animtype = Back
priority = 3,Hit
damage = 25,5
pausetime = 8,20
;guard.pausetime = 0,0
sparkno = s500
guard.sparkno = s500
sparkxy = -10,-25
hitsound   = S200,4
Guardsound = S200,4
ground.type = High
air.type = High
ground.slidetime = 1
guard.slidetime = 1
ground.hittime = 1
guard.hittime = 1
air.hittime = 1
ground.velocity = -4,0
air.velocity = -4,-2
givepower = 40, 40
getpower = 80,80

[State 0] ;si esta en el aire,ve a modo fly.
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900
ctrl = 0

[State 0]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;----------------------------------------------------------------------------

; Standing uppercut
[Statedef 201]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 201
sprpriority = 4

[State 260,7]
type = VelSet
trigger1 = animelem = 2
x = 10
y = 0

[State 250,3] ;Polvo
type = Explod
trigger1 = time = 1
Anim = 7020
pos = 15,4
Id = 7020
velocity = 0,0
sprpriority = 8
removeongethit = 0
scale = 0.4,0.4
removetime = 20
Postype = p1


[State 210, 0] ; grito dabura
type = PlaySnd
trigger1 = animelem = 2
value = 210,1
volume = 250

[State 210, 1];hitdef
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 30
guardflag = MA
pausetime = 11,11
sparkno = s502
guard.sparkno = s502
sparkxy = -20,-75
hitsound   = S200,3
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0, -10
air.velocity = -2.5,-4
fall = 1


[State 200, 2] ;si esta en el aire,ve a modo fly.
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900
ctrl = 0


[State 210, 3] ; cambio de estado
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; teleport + Espadazo
[Statedef 222]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1600
poweradd = 0


[State 260,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 202, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 777,4

[State 0, PosSet]
type = PosSet
trigger1 = animelem = 5;!time && numtarget
x = ifelse(  facing = -1,(target, pos X-20), (target, pos X+20)  )
y = target, pos Y -2

[State 0, PosSet]
type = PosSet
trigger1 =  animelem = 5;!time && numtarget
x = ifelse(  facing = -1,(enemynear, pos X-20), (enemynear, pos X+20)  )
y = enemynear, pos Y -2


[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1
y = 0

[State 0, Pause]
type = Pause
trigger1 = P2MoveType = H
time = 15
movetime = 15

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 =Pos Y > 0
statetype = A
movetype = A
physics = N

[State 407,2 ]
type = ChangeState
trigger1 = time = 15
value = 611
ctrl = 1


;---------------------------------------------------------------------------
; teleport + codazo
[Statedef 202]
type    = A                      
movetype= A                      
physics = N                      
juggle  = 1                      
velset = 0,0                 
ctrl = 0                     
anim = 202
poweradd = 0

[State 300, AfterImageLeft]
type = Explod
Trigger1 = AnimElem = 1
anim = 202
removetime = 25
velocity = -1
offset = 0

[State 300, AfterImageRight]
type = Explod
Trigger1 = AnimElem = 1
anim = 202
removetime = 25
velocity = 1
offset = 0

[State 260,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 202, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200, 10

[State 202, 1]
type = posadd
trigger1 = time = 10
x = p2bodydist x + 10
y = p2bodydist y -10

[State 210, 0]; grito dabura
type = PlaySnd
trigger1 = time = 0
value = 202, 0
volume = 200

[State 407,2 ]
type = ChangeState
trigger1 = time = 10
value = 203
ctrl = 1
;----------------------------------------------------------------

[Statedef 203]
type = S
MoveType =A
physics = S
sprpriority = 0
ctrl=0
anim = 205
VelSet = 0,0




[State 300, AfterImageRight]
type =  Explod
Trigger1 = AnimElem = 1
anim = 7045
pos = 0,-50
postype = p2
removetime = 25
bindtime = -1
velocity = 1
sprpriority = 6
offset = 0



[State 260,sound];grito dabura
type = PlaySnd
trigger1 = animelem = 2
value = 240, 1
volume = 200

[State 408, Hit Definition ]
type = HitDef
trigger1 = time=0 
attr = S,NA
hitflag = MAF
guardflag =MA 
animtype = Hard
air.animtype = Back
fall.animtype = Back
damage = 30,4
pausetime = 15,1
ground.type = high
ground.velocity = -1,0
ground.hittime = 12
hitsound   = S9000,0
sparkxy = -18,-69
ground.velocity = -20,0
air.velocity = -20, 0
sparkno = s7110
fall = 1
air.fall = 1


[State 407,2 ]
type = ChangeState
trigger1 = animtime = 0
value = 900
ctrl = 0

;_----------------------------------------------------

[Statedef 204]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -200                     
anim = 204

[State 1001];sonido grito 
type = PlaySnd
trigger1 = animelem = 2
value = 270,1
volume = 255

[State 1001];sonido fireball
type = PlaySnd
trigger1 = animelem = 2
value = 1000,0
volume = 255
    
[State 1001]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "Fireball_recta"
id = 204
pos = -20,0
size.xscale = 1
size.yscale = 1
stateno = 20598
keyctrl = 1
ownpal = 1


[State 1001]
type=ChangeState
trigger1=AnimTime=0 || (FrontEdgeBodyDist < -10) 
value=900
ctrl=1

;------------------------------------------------------
; sprites fireball recta
[Statedef 20598]
type 			= A
movetype		= A
physics		= N
anim			= 70301
velset		= 0,7
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3



[State 1002]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 1002]
type			= VelSet
trigger1		= (!Time)
x			= 0
y			= 20;IfElse(Random <= 499,-0.8,0.8)




[State 1002:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 1002]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1


[State 744, EXPLOSION SPRITES]
type			= Explod
trigger1          = Pos Y >= 0
anim			= 7040
id			= 7040
pos			= 45,-20
;postype		=
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.7,0.7
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1



[State 1002, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 7040
id			= 7040
pos			= 10,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.4,0.4
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1002:	HitDef]
type = HitDef
trigger1		= !MoveContact
attr			= A, HP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
air.animtype = Back
fall.animtype = Back
damage = 30,4
pausetime = 5,10
ground.type = high
ground.velocity = -25,0
air.velocity = 0,20
ground.slidetime =10
ground.hittime = 12
sparkxy = 0,-30
sparkno = s7040
fall =1
hitsound= s9000,0
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0


[State 1002:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10)
trigger2          = Pos Y >= 0
ignorehitpause	= 1
;------------------------------------------------------
; sprites fireball recta
[Statedef 205]
type 			= A
movetype		= A
physics		= N
anim			= 7030
velset		= 0,7
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3



[State 1002]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 1002]
type			= VelSet
trigger1		= (!Time)
x			= 0
y			= 15;IfElse(Random <= 499,-0.8,0.8)




[State 1002:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 1002]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1


[State 744, EXPLOSION SPRITES]
type			= Explod
trigger1          = Pos Y >= 0
anim			= 7040
id			= 7040
pos			= 45,-20
;postype		= 
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.7,0.7
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1



[State 1002, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 7040
id			= 7040
pos			= 10,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.4,0.4
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1002:	HitDef]
type = HitDef
trigger1		= !MoveContact
attr			= A, HP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
air.animtype = Back
fall.animtype = Back
damage = 30,4
pausetime = 5,10
ground.type = high
ground.velocity = -25,0
air.velocity = 0,20
ground.slidetime =10
ground.hittime = 12
sparkxy = 0,-30
sparkno = s7040
fall =1
hitsound= s9000,0
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0


[State 1002:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) 
trigger2          = Pos Y >= 0
ignorehitpause	= 1
;----------------------------------------------------------------------------

;mandando o p2 pra baixo
[Statedef 206]
type 			= A
movetype		= H
physics		= N
;anim			= 2026
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 2026:	ChangeAnim]
type			= ChangeAnim
trigger1		= Time = 0
value			= 206

[State 2026]
type = PlaySnd
trigger1 = Time = 0
value = S2026, 2
volume = 255

[State 2026:	LifeAdd]
type			= LifeAdd
trigger1		= Time = 0
value			= -15
kill			= 0

[State 2026:	VelSet]
type			= VelSet
trigger1		= Time = 0
x			= -5
y			= 20

[State 2026: 	VelAdd]
type 			= VelAdd
trigger1 		= Time > 10
y 			= .40

[State 2026:	ChangeState]
type			= ChangeState
trigger1		= Pos Y > -10
value			= 207

;---------------------------------------------------------------------------
;P2 batendo no chao
[Statedef 207]
type 			= S
movetype		= H
physics		= N
;anim			= 207
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= -2

[State 2027:	ChangeAnim]
type			= ChangeAnim
trigger1		= Time = 0
value			= 207

[State 2027:	PlaySnd]
type			= PlaySnd
trigger1		= Time = 0
value			= S11,0

[State 2027:	PosAdd]
type			= PosAdd
trigger1		= FrontEdgeBodyDist < 15
x			= -25

[State 2027:	PosFreeze]
type			= PosFreeze
trigger1		= 1
value			= 1

[State 2027:	VelSet]
type			= VelSet
trigger1		= Time = 0
x			= 0
y			= 0

[State 970, 4]
type = SelfState
trigger1 = time = 10
;trigger1 = Pos Y < 0
value = 5100 ;Hit ground

;---------------------------------------------------------------------------
; Standing Codazo basico
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 10,0
anim = 211
sprpriority = 4


[State 210, 0]; grito dabura
type = PlaySnd
trigger1 = animelem = 2
value = 210, 1
volume = 200

[State 210, 1];hitdef
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 30
guardflag = MA
pausetime = 11,11
sparkno = s501
guard.sparkno = s501
sparkxy = -30,-60
hitsound   = S200,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.5,-4
fall = 0

[State 200, 2] ;si esta en el aire,ve a modo fly.
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900
ctrl = 0

[State 210, 3] ; cambio de estado
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing rodillazo
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2

[State 230, 0] ;sonido rodillazo
type = PlaySnd
trigger1 = animelem = 2
value = 210, 4

[State 230, 1]; hitdef
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 26
guardflag = MA
pausetime = 11,11
sparkno = s500
guard.sparkno = s500
sparkxy = -10,-40
hitsound   = S200,5
guardsound = S200,5
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.5,-3.5

[State 200, 2] ;si esta en el aire,ve a modo fly.
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900
ctrl = 0

;[State 0]
;type = ChangeState
;triggerall = command = "a"
;trigger1 = Animelem = 2, > 1 && Animelem = 3, <= 20  && movecontact
;ignorehitpause
;value = 212
;ctrl = 0

[State 230, 3];cambio de estado
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
; Standing patada fuerte
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 45
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2

[State 240, 0];sonido patada
type = PlaySnd
trigger1 = animelem = 2
value = 210, 4

[State 240, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype = Light
damage    = 63
guardflag = MA
hitflag = MAF
pausetime = 11,11
sparkno = s501
guard.sparkno = s502
sparkxy = -10,-60
hitsound   = S200,5
guardsound =  S200,5
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -3, -5
air.velocity = -2.2,-4.2

[State 200, 2] ;si esta en el aire,ve a modo fly.
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900
ctrl = 0

[State 240, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------

; FireBall
[Statedef 360]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -100
anim = 360

[State 3600]
type = Superpause
trigger1 = time = 10
time = 35
movetime = 35
anim = 360

[State 730, PlaySND]
type = PlaySnd
trigger1 = time = 7
value = S3,5
volume = 255

[State 360,2]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "Fireball"
id = 365
pos = 25,15
stateno = 365
keyctrl = 1
ownpal = 1

[State 2500, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=900

[State 360, 4]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

; Fireball: Helper
[Statedef 365]
type    = S
movetype= A
physics = S
anim = 365
ctrl = 0

[State 365, sem sombra]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 365, 1]
type = HitDef
trigger1 = Time >= 0
attr = S, HA
animtype  = Hard
velocity = -2.7,0
accel = 0.1,0
damage    = 20,8
numhits = 1
guardflag = MA
pausetime = 1,8
getpower = 0
sparkno = -1
guard.sparkno = -1
sparkxy = -10,40
hitsound   = S3,3
ground.type = Trip
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -2,-10
air.velocity = -2,-4
down.velocity = -5,0
down.hittime = 20
fall = 1
;ground.type = Hard
;ground.slidetime = 22
;ground.hittime  = 11
;ground.velocity = -3
;air.velocity = -3,-2

[State 3600]
type = explod
trigger1 = movecontact
anim = 18998
pos = -10,-25
postype = p2
sprpriority = 15
bindtime = 1
scale = 1,1

[State 365, 2]
type = AfterImage
trigger1 = time = 0
time = 30
trans = add
PalContrast = 204,198,116
TimeGap = 2
FrameGap = 1
length = 15

[State 365,4]
type = VelSet
trigger1 = time >= 0
x = 12
y = 0

[State 365,GetHit]
type = HitOverride
trigger1 = time = 0
time = -1
attr = SCA,NP,SP,HP
slot = 0

[State 365, 5]
type = DestroySelf
trigger1 = movecontact

[State 365, 6]
type = Envcolor
trigger1 = movecontact
time = 4

[State 365, 7]
type = DestroySelf
trigger1 = time = 30

;-------------------------------------------------------------------------
; Standing patada fuerte
[Statedef 241]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2

[State 240, 0];sonido patada
type = PlaySnd
trigger1 = animelem = 2
value = 210, 4

[State 240, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 63
guardflag = MA
pausetime = 11,11
sparkno = s502
guard.sparkno = s502
sparkxy = -10,-60
hitsound   = S200,5
guardsound = S200,5
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3, -2
air.velocity = -1.2,-2.2

[State 200, 2] ;si esta en el aire,ve a modo fly.
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900
ctrl = 0

[State 240, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------
; codazo debil ...( corriendo)
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 211
sprpriority = 3

[State 250,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 250,1]
type = VelSet
trigger1 = time = 0
x = 20
y = 0

[State 250,1]
type = VelSet
trigger1 = time = 6
x = 15
y = 0

[State 250,1]
type = VelSet
trigger1 = time = 12
x = 10
y = 0

[State 250,1]
type = VelSet
trigger1 = time = 18
x = 5
y = 0

[State 250,1]
type = VelSet
trigger1 = time = 24
x = 0
y = 0

[State 250,2]; polvo que sigue
type = Explod
trigger1		= Time > 1
trigger1          = ((GameTime%5) = 0) 
anim = 7090
ID = 7090
pos = -5,0
scale = 1,1
postype = p1
sprpriority = 5
ownpal = 1
ignorehitpause = 1
spacing 		= 5


[State 250,3] ;Polvo
type = Explod
trigger1 = time = 1
Anim = 7020
pos = -5,0
Id = 7020
velocity = 0,0
sprpriority = 8
removeongethit = 0
scale = 0.4,0.4
removetime = 20
Postype = p1


[State 250, 4];sonido codazo
type = PlaySnd
trigger1 = animelem = 2
value = 210, 1


[State 250, 5]; hitdef
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 30
guardflag = MA
pausetime = 11,11
sparkno = s501
guard.sparkno = s501
sparkxy = -10,-70
hitsound   = S200,4
guardsound = S200,4
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6, 0
air.velocity = -2.5,-4
fall = 0


[State 250, 6]; cambio de estado
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------
; codazo fuerte... ( corriendo)
[Statedef 260]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 260
sprpriority = 3

[State 260,sound];grito dabura
type = PlaySnd
trigger1 = animelem = 2
value = 210, 1
volume = 250

[State 260,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 260,1]
type = VelSet
trigger1 = time = 0
x = 20
y = 0


[State 260,2]
type = VelSet
trigger1 = time = 3
x = 20
y = -1

[State 260,3]
type = VelSet
trigger1 = time = 6
x = 15
y = -2

[State 260,4]
type = VelSet
trigger1 = time = 9
x = 15
y = -1

[State 260,5]
type = VelSet
trigger1 = time = 12
x = 10
y = 0

[State 260,6]
type = VelSet
trigger1 = time = 15
x = 10
y = 1

[State 260,7]
type = VelSet
trigger1 = time = 18
x = 10
y = 2


[State 260,8] ;Polvo
type = Explod
trigger1 = time = 1
Anim = 7020
pos = -5,0
Id = 7020
velocity = 0,0
sprpriority = 8
removeongethit = 0
scale = 0.4,0.4
removetime = 20
Postype = p1


[State 260,9]; hitdef
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 30
guardflag = MA
pausetime = 11,11
sparkno = s502
guard.sparkno = s502
sparkxy = -10,-60
hitsound   = S200,4
guardsound = S200,4
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7, -3
air.velocity = -7, -3
fall = 1
envshake.time=20
envshake.freq= 50
envshake.ampl= -4

[State 260,10]; cambio de estado
type = ChangeState
trigger1 = animtime = 0
trigger1 = Pos Y >= 1
value = 50
ctrl = 1

;-------------------------------------------------------------------------
; patada  voladora...( corriendo)
[Statedef 270]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 3

[State 260,sound]
type = PlaySnd
trigger1 = animelem = 2
value = 210, 5
volume = 200

[State 100]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 250 ]
type = VelSet
trigger1 = time = 0
x = 20
y = 0


[State 250 ]
type = VelSet
trigger1 = time = 3
x = 20
y = -1

[State 250 ]
type = VelSet
trigger1 = time = 6
x = 15
y = -2

[State 250 ]
type = VelSet
trigger1 = time = 9
x = 15
y = -1

[State 250 ]
type = VelSet
trigger1 = time = 12
x = 10
y = 0

[State 250 ]
type = VelSet
trigger1 = time = 15
x = 10
y = 1

[State 250 ]
type = VelSet
trigger1 = time = 18
x = 10
y = 2


[State 100,humo]
type = Explod
trigger1 = time = 1
Anim = 7020
pos = -5,0
Id = 7020
velocity = 0,0
sprpriority = 8
removeongethit = 0
scale = 0.4,0.4
removetime = 20
Postype = p1



[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 30
guardflag = MA
pausetime = 11,11
sparkno = s501
guard.sparkno = s501
sparkxy = -20,-40
hitsound   = S200,4
guardsound = S200,4
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7, -3
air.velocity = -7, -3
fall = 1
envshake.time=20
envshake.freq= 50
envshake.ampl= -4

[State 210, 5]
type = ChangeState
trigger1 = animtime = 0
trigger1 = Pos Y >= 1
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; barrida ...( corriendo)
[Statedef 280]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 430
sprpriority = 3

[State 250,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 250,1]
type = VelSet
trigger1 = time = 0
x = 20
y = 0

[State 250,1]
type = VelSet
trigger1 = time = 6
x = 15
y = 0

[State 250,1]
type = VelSet
trigger1 = time = 12
x = 10
y = 0

[State 250,1]
type = VelSet
trigger1 = time = 18
x = 5
y = 0

[State 250,1]
type = VelSet
trigger1 = time = 24
x = 0
y = 0

[State 250,2]; polvo que sigue
type = Explod
trigger1		= Time > 1
trigger1          = ((GameTime%5) = 0) 
anim = 7090
ID = 7090
pos = -5,0
scale = 1,1
postype = p1
sprpriority = 5
ownpal = 1
ignorehitpause = 1
spacing 		= 5


[State 250,3] ;Polvo
type = Explod
trigger1 = time = 1
Anim = 7020
pos = -5,0
Id = 7020
velocity = 0,0
sprpriority = 8
removeongethit = 0
scale = 0.4,0.4
removetime = 20
Postype = p1


[State 250, 4];sonido codazo
type = PlaySnd
trigger1 = animelem = 2
value = 210, 5

[State 250, 5]; hitdef
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 30
guardflag = MA
pausetime = 11,11
sparkno = s500
guard.sparkno = s500
sparkxy = 0,-5
hitsound   = S200,0
guardsound = S200,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,-9
air.velocity = -2.5,-4
fall = 1

[State 250, 6]; cambio de estado
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------------
;Crouching light punch
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15
ctrl = 0
anim = 400
sprpriority = 2

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 210, 2

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 23
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 12,12
sparkno = S500
guard.sparkno = s500
sparkxy = -13,-48
hitsound   = S200,1
guardsound = S200,1
ground.type = Low
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -2;-4
air.velocity = -2.5,-1

[State 400, 3]
type = CtrlSet
trigger1 = Time = 5
value = 1

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;--------------------------------------------------------------------------
;Crouching light punch
[Statedef 405]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15
ctrl = 0
anim = 405
sprpriority = 2

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 210, 2

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 23
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 12,8
sparkno = S500
guard.sparkno = s500
sparkxy = -15,-46
hitsound   = S200,1
guardsound = S200,1
ground.type = Low
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = 0;-4
air.velocity = -1.5,-1

[State 400, 3]
type = CtrlSet
trigger1 = Time = 5
value = 1

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
;Crouching strong punch
; CNS difficulty: easy
; Description: This is a 2-hit move. It is done by having two HitDefs
;     triggered, one for each frame of animation that hits.
;     Notice how the first hit cannot be guarded by an opponent in the
;     air, because of the "M" in the guardflag, meaning it can only
;     be guarded "middle". The second hit has an "MA" guardflag, so
;     it can be guarded both on the ground and in the air.
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 410
sprpriority = 2

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

;This is the first hit, triggered on the 3rd element of animation.
[State 410, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage    = 37
animtype  = Medium
hitflag = MAF
guardflag = M
pausetime = 12,12
sparkno = 1
sparkxy = -10,-55
hitsound   = S200,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -3,-4

;This is the second hit, triggered on the 4th element of animation.
[State 410, 3]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
damage    = 36
animtype  = Medium
hitflag = MAF
guardflag = MA
pausetime = 12,12
sparkxy = -10,-83
guard.sparkno = s501
hitsound   = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -3,-4

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;--------------------------------------------------------------------------
;Crouching light punch
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 25
ctrl = 0
anim = 420
sprpriority = 2

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 210, 6

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 33
priority  = 3
animtype  = hard
hitflag = MAF
guardflag = L
pausetime = 12,12
sparkno = S502
guard.sparkno = s502
sparkxy = -10,-75
hitsound   = S200,2
guardsound = S200,2
ground.type = trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -3,-6
air.velocity = -3,-6

[State 400, 3]
type = CtrlSet
trigger1 = Time = 5
value = 1

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
;Crouching light kick
; CNS difficulty: easy
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 22
ctrl = 0
anim = 430
sprpriority = 2

[State 230, 0] ;sonido rodillazo
type = PlaySnd
trigger1 = animelem = 2
value = 210, 1

[State 430, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 24
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 13,13
sparkno = s500
guardsparkno = s500
sparkxy = -10,-8
hitsound   = S200,4
guardsound = S200,4
ground.type = Low
ground.slidetime = 6
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Strong Kick
; CNS difficulty: easy
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 440
sprpriority = 2

[State 440, 2]
type = PlaySnd
trigger1 = Time = 2
value = 210, 1

[State 440, 3]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 35
hitflag = MAFD
guardflag = HA
pausetime = 12,15
sparkno = s501
guardsparkno= s501
sparkxy = -15,-40
hitsound   = S200,4
guardsound = S200,4
ground.type = Low
ground.slidetime = 9
ground.hittime  = 30
ground.velocity = -3
air.velocity = -2,-2
down.velocity = -3,0
down.hittime = 20

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Strong Kick
; CNS difficulty: easy
[Statedef 450]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
velset = 0,0
ctrl = 0
anim = 450
sprpriority = 2

[State 440, 2]
type = PlaySnd
trigger1 = Time = 2
value = 210, 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 7
x = 12
y = 0
;ignorehitpause =
;persistent =


[State 440, 3]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 40
hitflag = MAFD
guardflag = HA
pausetime = 12,12
sparkno = s502
guardsparkno= s502
sparkxy = -15,-12
hitsound   = S200,2
guardsound = S200,2
ground.type = Low
ground.slidetime = 15
ground.hittime  = 30
ground.velocity = -3
air.velocity = -4,-4
down.velocity = -3.5,-3
down.hittime = 20
fall = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Weak Fireball 1
[Statedef 10000]
type    = S
movetype= A
physics = S
poweradd= -30
ctrl = 0
velset = 0
anim = 420

[State 10000, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -6

[State 10000, VelSetY]
Type = VelSet
Trigger1 = Time = 0
y = 0

[State 1001];sonido grito
type = PlaySnd
trigger1 = animelem = 2
value = 3,0

[State 1001];sonido fireball
type = PlaySnd
trigger1 = animelem = 2
value = 1000,0
volume = 255

[State 1001]
type = Explod
trigger1 = animelem = 2
anim = 7110
ID = 7110
postype = p1
pos = 56,-50
sprpriority = 10
bindtime = -1
ownpal = 1
ontop = 1
scale = 0.8,0.8
removeongethit = 1

[State 1000, Projectile]
type = Projectile
trigger1 = Time = 5
ProjAnim = 7035
ProjHitAnim = -1
ProjRemAnim = -1
projid = 18998
projscale = 0.65, 0.55
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 15, -20
velocity = 10, 0
remvelocity = 0, 0
accel = 0,0
attr = S, SP
damage    = 23,4
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = S7045
sparkxy = 40, -30
hitsound   = S777,0
guardsound = S777,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
airguard.velocity = -5.5
air.type = Low
air.velocity = -6.5,-4.5
air.juggle = 3

[State 1000, VarSet]
type = VarSet
trigger1 = time = 0
v = 14
value = 0

[State 1000, End]
type = ChangeState
trigger1 = animtime = 0
trigger2 = power < 50
value = 1033
ctrl = 1

;---------------------------------------------------------------------------
;Weak Fireball End
[Statedef 1033]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 410

[State 1003, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1



;---------------------------------------------------------------------------
;Jump Light Punch
; CNS difficulty: easy
[Statedef 6009]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 6109
sprpriority = 2

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 333, 3
volume = 255


[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 397
pos = 40,-70
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 10
removeongethit = 1


[State 600, 2]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
damage    = 80
guardflag = HA
priority = 3
pausetime = 12,8
sparkno = s398
guard.sparkno = s500
sparkxy = -15,-50
hitsound   = S333,2
guardsound = S333,1
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 15
ground.velocity = -4
air.hittime = 12
air.velocity = -1.3,-3
envshake.time =10
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1



;---------------------------------------------------------------------------
;Jump Light Punch
; CNS difficulty: easy
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 600
sprpriority = 2

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 210, 3

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 20
guardflag = HA
priority = 3
pausetime = 12,12
sparkno = s500
guard.sparkno = s500
sparkxy = 0,-25
hitsound   = S200,4
guardsound = S200,4
ground.type = High
ground.slidetime = 5
ground.hittime  = 15
ground.velocity = -4
air.hittime = 12 
air.velocity = -1.3,-3

;[State 600, 3]
;type = CtrlSet
;trigger1 = Time = 17
;value = 1

;---------------------------------------------------------------------------
;Jump Strong Punch
; CNS difficulty: easy
[Statedef 610]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
anim = 610
sprpriority = 2

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 333, 3
volume = 255


[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 397
pos = 40,-70
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 10
removeongethit = 1
[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 80
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = s398
guard.sparkno = 1
sparkxy = -30,-60
hitsound   = S333,2
guardsound = s333,1
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,-4
fall = 1

[State 200, 2] ;si esta en el aire,ve a modo fly.
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900
ctrl = 0

[State 240, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Jump Strong Punch
; CNS difficulty: easy
[Statedef 611]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
anim = 611
sprpriority = 2

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 333, 3
volume = 255


[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 397
pos = -60,-70
postype = p1
facing = -1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 10
removeongethit = 1

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 80
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = s398
guard.sparkno = 1
sparkxy = 40,-60
hitsound   = S333,2
guardsound = s333,1
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = 5
air.velocity = 3,4
fall = 1

[State 200, 2] ;si esta en el aire,ve a modo fly.
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900
ctrl = 0

[State 240, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
[Statedef 6309]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 20
ctrl = 0
anim = 6309
sprpriority = 2

[State 230, 0] ;sonido rodillazo
type = PlaySnd
trigger1 = animelem = 2
value = 210, 6

[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 630, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 50
attr = A, NA
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = Light
priority = 3,Hit
pausetime = 8,0
sparkno = s502
guard.sparkno = s502
sparkxy = -5,-15
hitsound   = S200,2
guardsound = S6,0
ground.type = Trip
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -4
air.velocity = -2,-3
envshake.time =15
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 0

;---------------------------------------------------------------------------
;Jump Light Kick
; CNS difficulty: easy
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 20
ctrl = 0
anim = 630
sprpriority = 2

[State 230, 0] ;sonido rodillazo
type = PlaySnd
trigger1 = animelem = 2
value = 210, 6

[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 630, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 26
attr = A, NA
hitflag = MAF
guardflag = MA
animtype = Light
air.animtype = Light
priority = 3,Hit
pausetime = 8,8
sparkno = s500
guard.sparkno = s500
sparkxy = -5,-15
hitsound   = S200,4
guardsound = S200,4
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -4
air.velocity = -2,-3

;---------------------------------------------------------------------------
;Jump Strong Kick
; CNS difficulty: easy
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 640
sprpriority = 2

[State 640, 2]
type = PlaySnd
trigger1 = Time = 2
value = 210, 6

[State 640, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 70
attr = A, NA
hitflag = MAF
guardflag = MA
animtype = Light
air.animtype = Light
priority = 3,Hit
pausetime = 12,12
sparkno = s500
guard.sparkno = s500
sparkxy = -10,-30
hitsound   = S200,4
guardsound = S200,4
animtype = Med
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.velocity = -3,-4

;---------------------------------------------------------------------------
;Jump Strong Kick
; CNS difficulty: easy
[Statedef 650]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 650
sprpriority = 2

[State 640, 2]
type = PlaySnd
trigger1 = Time = 4
value = 777, 7

[State 640, 3]
type = HitDef
trigger1 = animelem = 4
attr = A, NA
damage    = 80
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = s502
guard.sparkno = s502
sparkxy = -10,-65
hitsound   = S200,5
guardsound = S200,5
animtype = Med
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.velocity = -3,-4
fall = 1

;---------------------------------------------------------------------------
;Kung Fu Throw - Attempt
; CNS difficulty: medium-advanced
; Description: Throws are not difficult to make, although then can be
;     tedious at times. Throw attempt states have a HitDef of a
;     special format. The key parameters in a throw are p1stateno
;     and p2stateno. If the HitDef successfully connects, then
;     the attacker will change to the state number specified by
;     p1stateno, and the opponent will be change to the state
;     number assigned to p2stateno. The special thing about p2stateno
;     is that the opponent will be temporarily brought into the
;     attacker's state file. In this case, no matter who the
;     opponent is, he will be taken to state 820 of this file (kfm.cns)
;     and remain here until the end of the throw (look at his debug
;     information when he is being thrown; the text changes to yellow
;     to mean that he is in another player's state file).
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 800, 1]
type=HitDef
trigger1=AnimElem=1
attr=S, NT
priority=2, miss
sparkno=s502
hitsound = s777,25
sparkxy = -30,-80
snap=32,0,0,1
p1stateno=810
p2stateno=820

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 810]
type    = S
movetype= A
physics = N
anim = 810
poweradd = 60

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 20
time = 5
add = 256,256,256


[State 0, Explod]
type = Explod
trigger1 = time = 20
anim = 706
pos = 80,-65
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 2,0.1
removetime = 20
sprpriority = 10


[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 20
freq = 60
ampl = -4
phase = 90


[State 810, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 1

[State 810, Throw Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 777, 26
volume = 255

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 50, -20


[State 810, Hurt 11]
type = TargetLifeAdd
trigger1 = AnimElem = 2
value = -30

[State 810, Hurt 11]
type = TargetLifeAdd
trigger1 = time = [0,20]
value = -1

[State 810, Throw 11]
type = TargetState
trigger1 = AnimElem = 3
value = 821


[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0


[State 0, PalFX]
type = PalFX
trigger1 = time = 20
time = 20
add = 176,0,0



[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 4600
pos = 0,20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.5,1
sprpriority = 10




[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820


[Statedef 821]
type    = A
movetype= H
physics = N
velset = -2.8,-7
poweradd = 40

[State 821, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = .4

[State 821, 2] ; Recover near ground (use ChangeState)
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 821, 3] ; Recover in mid air (use SelfState)
type = SelfState
triggerall = Vel Y > 0
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 821, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground

;------------------------------------------------------------------------
;super jump
[Statedef 707]
type=A
movetype=I
physics=A
velset=0,0
ctrl=1

[State 0, ]
type = Explod
trigger1 = !time
anim = 7050
ID = 8901
pos = 0,0
postype = p1
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State 610, 2]
type = PlaySnd
trigger1 = time = 2
value = 333,6

[State 0]
type=Veladd
trigger1=Vel X>=0 && vel x<4 && vel y<0
trigger1=command="holdfwd"
x=2.4

[State 0]
type=Veladd
trigger1=Vel X<=0 && vel x>-4 && vel y<0
trigger1=command="holdback"
x=-2.4

[State x]
type=Veladd
trigger1=(command !="holdback") && (command !="holdfwd")
x=ifelse(Vel X<0,0.2,ifelse(Vel X>0,-0.2,0))

[State 0]
type=VelSet
trigger1=!time
x=const(velocity.jump.neu.x)
y=-16.0

[State 50,2]
type=ChangeAnim
trigger1=!time
value=ifelse(vel x=0,41,ifelse(vel x>0,42,43))

[State 50,3]
type=ChangeAnim
trigger1=Vel y>-2
trigger1=SelfAnimExist(anim+3)
persistent=0
value=Anim+3

[State 0]
type=ChangeState
trigger1=(var(59)>0)&&(p2bodydist y<-50)&&(vel y>0)
value=551
ctrl=1

[State 0]
type=ChangeState
trigger1=(var(59)>0)&&(random>100)&&(p2bodydist x=[0,30])&&(p2bodydist y=[-70,0])
value=ifelse(random>500,410,ifelse(random>500,430,ifelse(random>500,440,ifelse(random>500,450,400))))

[State 0]
type=ChangeState
trigger1=time>10
trigger1=pos y>=0
value=50
;ctrl=1

[State 500, 1]
type = AfterImage
trigger1 = time = 0
time = 23
length = 5
palcontrast = 255+(var(25)=3)*50,255+(var(25)=3)*50,255-(var(25)=3)*100
paladd = -25+(var(25)=3)*15,-25+(var(25)=3)*15,-10-(var(25)=3)*15
palmul = .65+(var(25)=3)*.1,.65+(var(25)=3)*.1,.75-(var(25)=3)*.1
timegap = 2
framegap = 1
trans = add

;=========================================================================

;===================
;ESTADOS ESPECIALES
;===================
;--------------------------------------------------------------------
; Cargar ki



[Statedef 989]
type  = S
movetype   = I
physics  = S
anim  = 989
ctrl   = 0
poweradd  = 0
juggle  = 0
facep2  = 1
hitdefpersist  = 0
movehitpersist  = 0
hitcountpersist = 0
sprpriority     = 0
[State 0 ]
type = VelSet
trigger1 = (!Time)
x  = 15
y  = 0
[State 0]
type   = PlayerPush
trigger1   = (1)
value  = 1
[State 0]
type            = NotHitBy
trigger1        = (1)
time            = 1
value           = SCA
[State 0]
type            = DestroySelf
trigger1        = (Time = 20)



[Statedef 830]
type    = S
movetype= I
physics = S
juggle  = 9
velset = 0,0
ctrl = 0
anim = 830
poweradd = 0


[State 0]
type = Helper
trigger1 = (TimeMod = 30,0)
helpertype= normal
name	= "Push Effect"
id  = 989
pos = 0,0
postype  = p1
facing = 1
stateno = 989
keyctrl	  = 0
supermovetime= 0
pausemovetime= 0
size.xscale = 1
size.yscale= 1

[State 830,	BGPalFX]
type			= BGPalFX
trigger1		= ((Time > 20) && ((GameTime%50) = 0))
time			= 10
add			= 20,20,20
mul			= 256,256,256
sinadd		= 200,200,200,4
invertall		= 1
color			= 256
;flash blanco 
[State 830,1]
type = Envcolor
trigger1 = animelem = 1
time = 5


[State 830, terremoto]
type			= EnvShake
trigger1          =((Time > 5) && ((GameTime%5) = 0))
time			= 5
freq			= 140
ampl			= -8
phase			= 90



[State 730]
type = Playsnd
trigger1 = AnimElem = 1
value = 830,0
volume = 255
channel = 31




[State 730,	remover efecto suelo ]
type			= RemoveExplod
id= 7250
trigger1		= (command != "carregarki") || (command != "carregarki1") || (life = 0) || stateno != 830;(Time = 90)

[State 730,	remover efecto suelo ]
type			= RemoveExplod
id= 7250
trigger1		= (command != "carregarki") || (command != "carregarki1") || (life = 0) || stateno != 830;(Time = 90)


[State 730,	remover efecto suelo ]
type			= RemoveExplod
id= 7250
trigger1		= (command != "carregarki") || (command != "carregarki1") || (life = 0) || stateno != 830;(Time = 90)

[State 730]
type = Poweradd
trigger1 = Time >= 0
value = 7


[State 730,grito ki ]
type = playsnd
trigger1 = animelem = 2
value = 740,0
channel = 1
volume = 255

[State 730,comienzo ki ]
type = PlaySnd
trigger1 = animelem = 2
value = 741,1
volume = 150
channel = 2

[State 730,terremoto ]
type = PlaySnd
trigger1 = animelem = 3
value = 748,10
volume = 210
channel = 7

[State 730, sonido ki]
type = PlaySnd
trigger1 = (Time > 2) && ((GameTime%20) = 0) 
value = 830,1
volume = 255

[State 730:	StopSnd]; detener grito ki 
type			= StopSnd
trigger1 = (command != "carregarki") || (command != "carregarki1") || (life = 0) || stateno != 830
channel		= 1

[State 730:	StopSnd];detener comienzo ki 
type			= StopSnd
trigger1 = (command != "carregarki") || (command != "carregarki1") || (life = 0) || stateno != 830
channel		= 2

[State 730:	StopSnd]; detener terremoto
type			= StopSnd
trigger1 = (command != "carregarki") || (command != "carregarki1") || (life = 0) || stateno != 830
channel		= 7

[State 730,Fantasmas ]
type			= Explod
trigger1		= animelem = 1
anim			= 7180
id= 7250
pos			= 0,-15
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.9,0.9
sprpriority		= -1
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1


[State 730,Fantasmas ]
type			= Explod
trigger1		= animelem = 1
anim			= 196
id= 7250
pos			= 0,-60
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.9,0.9
sprpriority		= -1
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 730,AURA ]
type			= Explod
trigger1		= animelem = 1
anim			= 7160
id= 7250
pos			= 0,5
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.38,0.36
sprpriority		= 8
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 730,AURA ]
type			= Explod
trigger1		= animelem = 1
anim			= 71609
id= 7250
pos			= 0,20
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1.5,1.5
sprpriority		= 10
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1



[State 730,	remover efecto suelo ]
type			= RemoveExplod
id= 7250
trigger1		= (command != "carregarki") || (command != "carregarki1") || (life = 0) || stateno != 830;(Time = 90)

[State 730,	remover efecto suelo ]
type			= RemoveExplod
id= 7250
trigger1		= (command != "carregarki") || (command != "carregarki1") || (life = 0) || stateno != 830;(Time = 90)

[State 830]
type = ChangeState
trigger1  = power =3000
value = 831

[State 830]
type = ChangeState
triggerall = (command != "carregarki") || (command != "carregarki1")
trigger1 = time >= 40
value = 831; ir a modo fin charge ki



[Statedef 831]
type = S
movetype = I
physics = N
anim = 831
ctrl = 0
poweradd = 0
juggle = 0
sprpriority = 1

[State 0]
type= RemoveExplod
id= 7250
trigger1 = stateno = 831

[State 0, StopSnd]
type = StopSnd
trigger1 = stateno = 831
channel = 31


;flash blanco
[State 831,Envcolor]
type = Envcolor
trigger1 = time = 0
time = 5

[State 831,efecto fin aura]
type = Explod
trigger1 = time = 5
anim = 7160
id = 831
pos = 0,10
postype = p1
facing = 1
bindtime = 1
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
ontop = 1
shadow = 0,0,0
scale			= 0.38,0.36
removeongethit	= 1

[State 831,desaparece ki]
type = playsnd
trigger1 = animelem = 1
value = 830,2
volume = 255

[State 831,Remover Aura]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------------------------------


;------------------------------------------------------------------
;super patada
[Statedef 860]
type=A
movetype=A
physics=N
sprpriority=0
velset=0,0
PowerAdd=0
juggle=5
anim= 630
hitcountpersist=1
ctrl=0

[State 250,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 230, 0] ;sonido rodillazo
type = PlaySnd
trigger1 = animelem = 2
value = 777, 13

[State 700]
type=VelSet
trigger1=animelem=2
x=12
y=6

[State 700]
type=StateTypeSet
trigger1=animelem=3
trigger2=pos y>-5
physics=A
ignorehitpause=1


[State 235, 4]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype  = Hard
damage    = 14
guardflag = MA
pausetime = 5,0
sparkno = s502
sparkxy=10,-5
hitsound   = s777,15
guardsound = s777,15
guard.sparkno = s502
ground.type = High
ground.slidetime = 0
ground.hittime  = 10
ground.velocity = .1
air.type = Low
air.velocity = 0
guard.velocity = -0.1
airguard.velocity = 0   
fall = 1

;[State 700]
;type=ChangeState
;trigger1=(movecontact)
;value=861

[State 700]
type=ChangeState
trigger1=(!animtime)
trigger2=(time>20)&&((screenpos x<=30)||(screenpos x>=290))
value=50
ctrl=1

;---------------------------------------------------------------------------
; Contacto
[Statedef 861]
type    = A     
movetype= A     
physics = N     
juggle  = 0     
velset = 0,0
ctrl = 0  
anim = 41

[State 701] 
type = VelSet
trigger1 = AnimElem = 1, [1, 8]
y = -3
x = -2

[State 450]
type = SuperPause
trigger1 = AnimElem = 1
time = 50
movetime = 50
darken = 0
pos = -5, -45
anim = S9999

[State 701]
type = VelAdd
trigger1 = Time > 0
y = .30


[State 700]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52

;------------------------------------------------------------------

;MODO FLY......Modelo del creador Bardock.

;Empezar a volar  
[Statedef 910] ;numero do state 
type = A
movetype = A
physics = A
velset = 0,-5.5 ; quanto ele sai do chao 
anim = 910 ; imagem no air dele indo pro alto
ctrl = 0

[State 900,humo]
type = Explod
trigger1 = time = 0
Anim = 7020
pos = -25,10
Id = 7020
velocity = 0,0
sprpriority = 2
removeongethit = 1
scale = 0.3,0.3
Postype = p1
sprpriority = -1
SuperMove = 1

[State 900,humo]
type = Explod
trigger1 = time = 0
Anim = 7020
pos = 25,10
Id = 7020
velocity = 0,0
sprpriority = 2
removeongethit = 1
facing = -1
scale = 0.3,0.3
Postype = p1
sprpriority = -1
SuperMove = 1

[State 1510, subindo]
type = PlaySnd
trigger1 = animelem = 1
value = S111, 0
volume = 255

[state 1899]
type = gravity
trigger1 = animelemtime(2) >= 0

[State 910, 3] ; vai pro state abaixo
type = changestate
trigger1 = animtime = 0
value = 900 ; state abaixo
ctrl = 1

;-----------
;Volando
[Statedef 900] ;numero do state 
type = S
movetype = I
physics = N
ctrl = 0
velset = 0,0

[State 900, VarSet]
type = VarSet
Trigger1 = Time = 0
var(3) = 1

[State 500, 1]
type = AfterImage
trigger1 = time >= 4 && (vel X> 0.1 || vel X< -0.1)
trigger2 = time >= 4 && (vel Y> 0.1 || vel Y< -0.1)
time = 10
length = 10
palcontrast = 255,255,255
paladd = -25,-25,-10
palmul = .65,.65,.75
timegap = 2
framegap = 1
trans = add
persistent = 9

[state 1900]
type = velmul
trigger1 = var(30) = 0 && (vel X> 0.1 || vel X< -0.1)
trigger2 = var(30) = 0 && (vel Y> 0.1 || vel Y< -0.1)
x = 0.92
y = 0.92

[State 900, Block1]
type = ReversalDef
Trigger1 = command = "holdback"
reversal.attr = SCA, NA, SA, HA
pausetime = 0,15
hitsound = S20, 3
p1stateno = 150

[State 900, Stop1]
type = VelSet
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
Trigger1 = var(2) = 0
Trigger2 = Pos Y < -405
x = 0
y = 0
v = 30
value = 0

[State 910, Stop2]
type = ChangeAnim
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
Trigger1 = Anim != 900 ; imagem parada no ar
value = 900 ; imagem parada no ar

[State 900,fuwavar(1)]
type = VarSet
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
Trigger1 = var(2) != 2
Trigger2 = var(2) = 2
Trigger2 = Vel Y >= 1.3 ;2.4
v = 30
value = 0

[State 900,fuwavar(2)]
type = VarSet
Triggerall = var(2) = 1
Trigger1 = Vel Y <= -1.3 ; -2.4
Trigger2 = P2BodyDist Y > 250
Trigger2 = Vel Y < 0
v = 30
value = 0

[State 900,fuwaUp]
type = VelAdd
Trigger1 = var(2) = 1
y = -0.1  ;-0.3

[State 900,fuwaDown]
type = VelAdd
Trigger1 = var(2) = 2
y = 0.1  ;0.3

[State 900,fuwaEnd]
type = VelSet
Triggerall = var(2) != 0
Trigger1 = command = "holdfwd"
Trigger2 = command = "holdback"
Trigger3 = command = "holdup"
Trigger4 = command = "holddown"
y = 0


[State 900,fuwaEndVar]
type = VarSet
Trigger1 = command = "holdfwd"
Trigger2 = command = "holdback"
Trigger3 = command = "holdup"
Trigger4 = command = "holddown"
v = 30
value = 0

[State 900, UpBorder1]
type = PosSet
Trigger1 = Pos Y < -400
y = -400

[State 900, UpBorder2a]
type = PosAdd
Trigger1 = P2BodyDist Y > 250
Trigger1 = Vel Y < 0
y = 1

[State 900, UpBorder2b]
type = VelSet
Trigger1 = P2BodyDist Y > 250
Trigger1 = Vel Y < 0
y = 0

[State 900, GoDown1]
type = VelAdd
Trigger1 = command = "holddown"
y = 0.4

[State 900,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = Vel Y < 0 
y = 0

[State 900, GoUp1]
type = VelAdd
Trigger1 = command = "holdup"
y = -0.3

[State 900,GoUp2]
type = VelSet
Trigger1 = command = "holdup"
Trigger1 = Vel Y > 0 
y = 0

[State 900, GoUpAnim]
type = ChangeAnim
Trigger1 = Anim != 904 ; imagem indo para cima 
Trigger1 = command = "holdup"
value = 904 ; imagem indo para cima 

[State 900, GoBack1]
type = VelAdd
Trigger1 = command = "holdback"
x = -0.3

[State 900,GoBack2]
type = VelSet
Trigger1 = command = "holdback"
Trigger1 = Vel X > 0 
x = 0

[State 900, GoBackAnim]
type = ChangeAnim
Triggerall = Anim != 902 ; imagem indo para traz
Trigger1 = command = "holdback"
Trigger2 = command = "holddown"
value = 902 ; imagem indo para traz

[State 900, GoFwd1]
type = VelAdd
Trigger1 = command = "holdfwd"
x = 0.4

[State 900,GoFwd2]
type = VelSet
Trigger1 = command = "holdfwd"
Trigger1 = Vel X < 0 
x = 0

[State 900, GoFwdAnim]
type = ChangeAnim
Trigger1 = Anim != 901 ; imagem indo para frente
Trigger1 = command = "holdfwd"
value = 901 ; imagem indo para frente

[State 900, GoDownAnim]
type = ChangeAnim
triggerall = Anim != 903 ; imagem indo para baixo
trigger1 = command = "holddown"
value = 903 ; imagem indo para baixo

[State 900, Turn]
type = Turn
Trigger1 = P2Dist X < 0

[State 900, Land1]
type = ChangeState
Trigger1 = Pos Y >= 0
value = 52
ctrl = 1


[State 900, deslizar adelante]
type = ChangeState
Trigger1 = command ="FF"
value = 914
ctrl = 1

[State 900, deslizar atras]
type = ChangeState
Trigger1 = command ="BB"
value = 915
ctrl = 1

[State 900, deslizar ARRIBA]
type = ChangeState
Trigger1 = command ="UU"
value = 916
ctrl = 1

[State 900, deslizar ABAJO]
type = ChangeState
Trigger1 = command ="DD"
value = 917
ctrl = 1

[State 900, Land2]
type = ChangeState
Trigger1 = command = "fly" ; nome do comando no CMD
Trigger1 = command = "holddown"
value = 50
ctrl = 1

[State 900,WinALose] ; quando ganhar vai pro state de baixo 
type = ChangeState
trigger1 = Win = 1
trigger2 = Lose = 1
value = 912 ;1202

;---------------------------------------------------------------------------

[Statedef 912]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 912 ; imagens dele decendo 

[State 912, 3]
type = VelAdd
trigger1 = AnimElem = 1
trigger1 = AnimElem <= 2
x = -0.3

[State 912, 3]
type = VelSet
trigger1 = AnimElem = 3
x = 0

[State 200, 2] ;si esta en el aire,ve a modo fly.
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900
ctrl = 0

[State 210, 3]
type = ChangeState
trigger1 = time = 60
value = 913 

;---------------------------------------------------------------------------
[Statedef 913]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0

[State 1531, 5]
type = PlaySnd
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
persistent = 0
value = 21,4

[State 52, 3]
type = PosSet
trigger1 = Vel Y = 0
y = 0

[State 209, 1]
type = ChangeAnim
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 913

[State 209, 1]
type = Velset
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
y = 0

[State 200, 2] ;si esta en el aire,ve a modo fly.
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900
ctrl = 0

[State 913, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------


;----------------------------------------------------------------------

;deslizamiento aire ADELANTE modo vuelo
[Statedef 914]
type    = S
movetype= A
physics = N
juggle  = 0
Anim = 901
poweradd= 0
ctrl = 0
velset = 0

[State 730]
type = Playsnd
trigger1 = AnimElem = 1
value = 100,0
volume = 255

[State 100]
type = AfterImage
trigger1 = animelem = 1
time = 10
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 60 ];viento
type = Explod
trigger1 = time%2=1
Anim = 9011
pos = 0,-20
random = 60,30
facing = -1
ontop = 1
accel = -0.3,0
scale = 0.7,0.5

[State 0, ]
type = VelSet
trigger1 = AnimElem = 1
y = 0

[State 0,]
type = VelSet
trigger1 = AnimElem = 1
x = 9

[State 0 ]
type = ChangeState
trigger1 = time = 15
value = 900
ctrl = 1
;-------------------------------------------------------------------------
;deslizamiento aire atras modo vuelo
[Statedef 915]
type    = S
movetype= A
physics = N
juggle  = 0
Anim = 902
poweradd= 0
ctrl = 0
velset = 0

[State 730]
type = Playsnd
trigger1 = AnimElem = 1
value = 100,0
volume = 255

[State 915]
type = AfterImage
trigger1 = animelem = 1
time = 10
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 915];Viento
type = Explod
trigger1 = time%2=1
Anim = 9011
pos = 0,-25
random = 60,30
facing = 1
ontop = 1
accel = 0.3,0
scale = 0.6,0.5


[State 915]
type = VelSet
trigger1 = AnimElem = 1
y = 0

[State 915 ]
type = VelSet
trigger1 = AnimElem = 1
x = -9

[State 915 ]
type = ChangeState
trigger1 = time = 15
value = 900
ctrl = 1
;==========================================================================
;deslizamiento aire arriba modo vuelo
[Statedef 916]
type    = S
movetype= A
physics = N
juggle  = 0
Anim = 40
poweradd= 0
ctrl = 0
velset = 0

[State 730]
type = Playsnd
trigger1 = AnimElem = 1
value = 100,0
volume = 255

[State 916];deslizamiento aire arriba modo vuelo cerrado
type = ChangeAnim
triggerall = P2BodyDist X <= 4
triggerall = P2BodyDist y >= 0
trigger1 = Time = 0
value = 918
ctrl = 1


[State 915]
type = AfterImage
trigger1 = animelem = 1
time = 10
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 900 ];VIENT0
type = Explod
trigger1 = time%2=1
Anim = 9010
pos = 0,0
random = 60,30
ontop = 1
accel = 0,-0.3
scale = 0.5,0.6

[State 915]
type = VelSet
trigger1 = AnimElem = 1
y = -9

[State 915 ]
type = VelSet
trigger1 = AnimElem = 1
x = 0

[State 915 ]
type = ChangeState
trigger1 = time = 15
value = 900
ctrl = 1
;----------------------------------------------------------------------------
;deslizamiento aire ABAJO modo vuelo
[Statedef 917]
type    = S
movetype= A
physics = N
juggle  = 0
Anim = 101
poweradd= 0
ctrl = 0
velset = 0

[State 730]
type = Playsnd
trigger1 = AnimElem = 1
value = 100,0
volume = 255

[State 915]
type = AfterImage
trigger1 = animelem = 1
time = 10
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 900 ];VIENT0
type = Explod
trigger1 = time%2=1
Anim = 9010
pos = 0,-20
random = 60,30
ontop = 1
accel = 0,-0.3
scale = 0.5,0.6

[State 915]
type = VelSet
trigger1 = AnimElem = 1
y = 9

[State 915 ]
type = VelSet
trigger1 = AnimElem = 1
x = 0

[State 900, Land1]
type = ChangeState
Trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 915 ]
type = ChangeState
trigger1 = time = 15
value = 900
ctrl = 1


;===========================================================================
;ATAQUES ESPECIALES (special atacks)
;===========================================================================

;BOLA FUEGO PEQUEÑA (inicio)

[Statedef 1000]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -70
anim = 1000

   
[State 1000,0] ; cambio de estado ; fireball diagonal
type=ChangeState
trigger1= p2bodydist Y < -60
trigger1= p2bodydist x < 150
value=1005
ctrl=1

[State 1000,1] ; cambiar estado al 1001 ; fireball recta
type=ChangeState
trigger1= AnimTime = 0
value= 1001
ctrl=1

;----------------------------------------------------
; fireball recta
[Statedef 1001]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -50
anim = 1001

[State 1001];sonido grito 
type = PlaySnd
trigger1 = animelem = 2
value = 3,0

[State 1001];sonido fireball
type = PlaySnd
trigger1 = animelem = 2
value = 1000,0
volume = 255
 
[State 1001]
type = Explod
trigger1 = animelem = 2
anim = 7110
ID = 7110
postype = p1
pos = 65,-60
sprpriority = 10
bindtime = -1
ownpal = 1
ontop = 1
scale = 0.8,0.8
removeongethit = 1
    
[State 1001]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "Fireball_recta"
id = 1002
pos = -13,-25
size.xscale = 0.6
size.yscale = 0.6
stateno = 1002
keyctrl = 1
ownpal = 1


[state 100:		changestate]
type			= changestate
trigger1 = command = "z"
trigger1  = Time > 12
value  = 1003
ctrl = 1

[State 1000]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

[State 1001]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1
;------------------------------------------------------
; sprites fireball recta
[Statedef 1002]
type 			= A
movetype		= A
physics		= N
anim			= 7030
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3



[State 1002]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 1002]
type			= VelSet
trigger1		= (!Time)
x			= 14
y			= IfElse(Random <= 499,-0.8,0.8)




[State 1002:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 1002]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1



[State 1002, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 7040
id			= 7040
pos			= 10,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.4,0.4
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1002:	HitDef]
type			= HitDef
trigger1		= !MoveContact
attr			= S, HP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage		= 20
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S9000,0 
guardsound		= S9000,0
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
;down.velocity	= -1,-2
;down.bounce		= 1
id			= 744
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 1002:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) 
ignorehitpause	= 1
;----------------------------------------------------------------------------
[Statedef 1003]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -50
anim = 1003


[State 1003];sonido grito 
type = PlaySnd
trigger1 = animelem = 2
value = 3,0

[State 1003];sonido fireball
type = PlaySnd
trigger1 = animelem = 2
value = 1000,0
volume = 255

[State 1001]
type = Explod
trigger1 = animelem = 2
anim = 7110
ID = 7110
postype = p1
pos = 55,-60
sprpriority = 10
;removetime =20
bindtime = -1
ownpal = 1
ontop = 1
scale = 0.8,0.8
removeongethit = 1
    
[State 1001]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "Fireball"
id = 1004
pos = -13,-25
size.xscale = 0.6
size.yscale = 0.6
stateno = 1004
keyctrl = 1
ownpal = 1

[state 100:		changestate]
type			= changestate
trigger1 = command = "z"
trigger1  = Time > 12
value  = 1000
ctrl = 1

[State 1000]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

[State 1001]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1
;------------------------------------------------------
[Statedef 1004]
type 			= A
movetype		= A
physics		= N
anim			= 7030
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3



[State 1002]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 1002]
type			= VelSet
trigger1		= (!Time)
x			= 14
y			= IfElse(Random <= 499,-0.8,0.8)




[State 1002:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 1002]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1



[State 1002, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 7040
id			= 7040
pos			= 10,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.4,0.4
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1002:	HitDef]
type			= HitDef
trigger1		= !MoveContact
attr			= S, HP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage		= 20
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S9000,0 
guardsound		= S9000,0
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
down.velocity	= -1,-2
down.bounce		= 1
id			= 744
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 1002:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) 
ignorehitpause	= 1


;-----------------------------------------------------------------------------

;BOLA FUEGO PEQUEÑA ( diagonal arriba)
;Fireball 
[Statedef 1005]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -200                     
anim = 1002

[State 1003]
type = PlaySnd
trigger1 = AnimElem= 2
value =  3,0
          
[State 1003]
type = PlaySnd
trigger1 = AnimElem= 2
value =  1000,0

[State 1003]
type = Explod
trigger1 = animelem = 1
anim = 7140
ID = 7140
postype = p1
pos = 50,-70
sprpriority = 10
;removetime =20
bindtime = -1
ownpal = 1
ontop = 1
scale = 0.8,0.8
removeongethit = 1
    
[State 743]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "Fireball"
id = 1006
pos = -2,-25
size.xscale = 0.6
size.yscale = 0.6
stateno = 1006
keyctrl = 1
ownpal = 1

[State 1000]
type = ChangeState
trigger1 = power = 0
trigger1=AnimTime=0
value = 5300
ctrl = 0

[State 743]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

;------------------------------------------------------
[Statedef 1006]
type 			= A
movetype		= A
physics		= N
anim			= 7030
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 0, 1]
type = Explod
trigger1 = time%5 = 0
anim = 9014
postype = p1
pos = -20,0
sprpriority = 3
supermove = 1
scale = 0.4,0.4
ownpal = 1
random = 0,20
vel = -.5,ifelse(random <500,.5,-.5)





[State 1003]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 1003]
type			= VelSet
trigger1          = time = 0
x			= 10
y			= IfElse(Random <= 499, -10,-8)

[State 744:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 738]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1



[State 744, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 7040
id			= 7040
pos			= 10,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.4,0.4
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 744:	HitDef]
type			= HitDef
trigger1		= !MoveContact
attr			= S, HP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage		= 20
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S9000,0 
guardsound		= S9000,0 
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 744
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 1001:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) 
ignorehitpause	= 1



;------------------------------------------------------------------------------

;Fireball  Aire 
[Statedef 1010]
type = A
movetype = A
physics = A
ctrl = 0
velset = 0,-4,0
poweradd= -200                     
anim = 1010


[State 743]
type = PlaySnd
trigger1 = AnimElem= 3
value = 1000,0
volume = 255

[State 743]
type = PlaySnd
trigger1 = AnimElem= 3
value = 3,0
          
[State 3000]
type = Explod
trigger1 = animelem = 3
anim = 7130
ID = 7130
postype = p1
pos = 40,-40
sprpriority = 10
;removetime =20
bindtime = -1
ownpal = 1
ontop = 1
scale = 0.8,0.8
removeongethit = 1
    

[State 100]
type = AfterImage
trigger1 = Time = 0
time = 15
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 743]
type = Helper
trigger1 = AnimElem = 3
helpertype = normal
name = "Fireball"
id = 1011
pos = -5,0
size.xscale = 0.6
size.yscale = 0.6
stateno = 1011
keyctrl = 1
ownpal = 1

[state 100:		changestate]
type			= changestate
trigger1 = command = "z"
trigger1  = Time > 12
value  = 1012
ctrl = 1

[State 743]
type=ChangeState
trigger1=AnimTime=0
;trigger1=Pos Y < 0
value = 50
ctrl= 1

;------------------------------------------------------
[Statedef 1011]
type 			= A
movetype		= A
physics		= N
anim			= 7030
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3


[State 743]
type = PlaySnd
trigger1 = AnimElem= 3
trigger2 = Pos Y >= 0
value = 9000,0

[State 0, 1]
type = Explod
trigger1 = time%5 = 0
anim = 9014
postype = p1
pos = -20,0
sprpriority = 3
supermove = 1
scale = 0.4,0.4
ownpal = 1
random = 0,20
vel = -.5,ifelse(random <500,.5,-.5)

[State 744]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 744]
type			= VelSet
trigger1		= (!Time)
x			= 10
y			= IfElse(Random <= 499, 10,8)

[State 744:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 738]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1

[State 744, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 7040
id			= 7040
pos			= 10,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.4,0.4
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 744, EXPLOSION SPRITES]
type			= Explod
trigger1          = Pos Y >= 0; >= 0
anim			= 7040
id			= 7040
pos			= 45,-10
;postype		= 
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,0.5
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 744:	HitDef]
type			= HitDef
trigger1		= !MoveContact
attr			= A, HP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage		= 20
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= 9000,0
guardsound		= 9000,0 
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
down.velocity	= -1,-2
down.bounce		= 1
id			= 744
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 1001:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) 
trigger2          = Pos Y >= 0
ignorehitpause	= 1
;--------------------------------------------------------------------------
;Fireball  Aire 
[Statedef 1012]
type = A
movetype = A
physics = A
ctrl = 0
velset = 0,-4,0
poweradd= -200                     
anim = 1011


[State 743]
type = PlaySnd
trigger1 = AnimElem= 3
value = 1000,0
volume = 255

[State 743]
type = PlaySnd
trigger1 = AnimElem= 3
value = 3,0
          
[State 3000]
type = Explod
trigger1 = animelem = 3
anim = 7130
ID = 7130
postype = p1
pos = 40,-40
sprpriority = 10
;removetime =20
bindtime = -1
ownpal = 1
ontop = 1
scale = 0.8,0.8
removeongethit = 1
    

[State 100]
type = AfterImage
trigger1 = Time = 0
time = 15
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 743]
type = Helper
trigger1 = AnimElem = 3
helpertype = normal
name = "Fireball"
id = 1011
pos = -5,0
size.xscale = 0.6
size.yscale = 0.6
stateno = 1011
keyctrl = 1
ownpal = 1

[state 100:		changestate]
type			= changestate
trigger1 = command = "z"
trigger1  = Time > 12
value  = 1010
ctrl = 1

[State 743]
type=ChangeState
trigger1=AnimTime=0
;trigger1=Pos Y < 0
value = 50
ctrl= 1

;------------------------------------------------------
[Statedef 1013]
type 			= A
movetype		= A
physics		= N
anim			= 7030
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3


[State 743]
type = PlaySnd
trigger1 = AnimElem= 3
trigger2 = Pos Y >= 0
value = 9000,0

[State 0, 1]
type = Explod
trigger1 = time%5 = 0
anim = 9014
postype = p1
pos = -20,0
sprpriority = 3
supermove = 1
scale = 0.4,0.4
ownpal = 1
random = 0,20
vel = -.5,ifelse(random <500,.5,-.5)

[State 744]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 744]
type			= VelSet
trigger1		= (!Time)
x			= 10
y			= IfElse(Random <= 499, 10,8)


[State 744:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 738]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1



[State 744, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 7040
id			= 7040
pos			= 10,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.4,0.4
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 744, EXPLOSION SPRITES]
type			= Explod
trigger1          = Pos Y >= 0; >= 0
anim			= 7040
id			= 7040
pos			= 45,-10
;postype		= 
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,0.5
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1




[State 744:	HitDef]
type			= HitDef
trigger1		= !MoveContact
attr			= A, HP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage		= 20
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= 9000,0
guardsound		= 9000,0 
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
down.velocity	= -1,-2
down.bounce		= 1
id			= 744
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 1001:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) 
trigger2          = Pos Y >= 0
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Escupitajo
[Statedef 1220]
type     = S
movetype = A
physics  = S
poweradd = -300
juggle = 4
anim = 1220
ctrl = 0
velset = 0,0,0

[State 700, PlaySND]
type = PlaySnd
trigger1 = TIME = 7
value = 777,3
volume = 255

[State 290,1]
type = Projectile
trigger1 = time = 9
Projanim = 1221
ProjRemAnim = 1007
;offset 15,-56
velocity = 7,0
remvelocity = .9,0
velmul = 1.005,1
accel =0,0
attr = S, HA;S, NA
animtype = HARD
guardflag = MA
hitflag = MAFP
damage = 60,30
getpower = 0
givepower = 0
guardflag = MA
pausetime = 0,150
sparkno = -1
sparkxy = 54,-25
hitsound   = s777,6
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 29
ground.velocity = -4
air.type = High
air.velocity = -2.5,-5.5
air.juggle = 3
fall.recovertime = 30
palfx.color = 0
palfx.time = 150
;p2stateno = 468




[State 290, 3]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

[State 290,5]
Type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1


[Statedef 468]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -200
anim = 5000


[State 290,5]
Type = ChangeState
trigger1 = time = 150
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Lanza

[Statedef 1100]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -200                     
anim = 1100

[State 1100,0];sonido lanza
type = PlaySnd
trigger1 = AnimElem= 1
value =333,11
volume = 255


           
[State 1100,1]
type = Explod
trigger1 = animelem = 1
anim = 7100
ID = 7100
postype = p1
pos = -30,-70
sprpriority = 20
;removetime =20
bindtime = -1
ownpal = 1
ontop = 0
scale = 0.3,0.3
removeongethit = 1 
   
[State 1100,2]
type = Helper
trigger1 = AnimElem = 3
helpertype = normal
name = "lanza"
id = 1101
pos = 20,-60
size.xscale = 1
size.yscale = 1
stateno = 1101
keyctrl = 1
ownpal = 1

[State 200, 2] ;si esta en el aire,ve a modo fly.
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900
ctrl = 0

[State 1100,3]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

;------------------------------------------------------
;sprites de Lanza
[Statedef 1101]
type 			= A
movetype		= A
physics		= N
anim			= 1101
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= -1

[State 1101, 0]
type = Explod
trigger1 = time%5 = 0
anim = 9014
postype = p1
pos = -20,0
sprpriority = 3
supermove = 1
scale = 0.4,0.4
ownpal = 1
random = 0,20
vel = -.5,ifelse(random <500,.5,-.5)


[State 1101,1]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 1101,2]
type			= VelSet
trigger1		= (!Time)
x			= 14



[State 1101:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 1101, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 7000
id			= 7000
pos			= -10,-20
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 30
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1101:	HitDef]
type			= HitDef
trigger1		= !MoveContact
attr			= S, HP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage		= 20
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= s503
guard.sparkno	= S503
sparkxy		= -15,-8
hitsound		= S777,6
guardsound		= S777,6
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 744
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 1101:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) 
ignorehitpause	= 1
;-----------------------------------------------------------------------
;yoga flame
[Statedef 12002]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -200                     
anim = 12002

[State 195, 0]
type = CtrlSet
trigger1 = Time < 90
value = 0

[State 1200,0]
type = PlaySnd
trigger1 = AnimElem= 2
value =333,4
volume = 255

[State 1200,1]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "fuego"
id = 12018
pos = -19,30
postype = p1
size.xscale = 1
size.yscale = 1
stateno = 12018
keyctrl = 0



[State 0, NotHitBy]
type = NotHitBy
trigger1 =  time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 90


[State 1200,2]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

;------------------------------------------------------
;sprites flama de fuego
[Statedef 12018]
type 			= S
movetype		= A
physics		= S
anim			= 71209
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 1201,0]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 1201:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 1201:HitDef]
type			= HitDef
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
trigger6 = animelem = 6
trigger7 = animelem = 7
trigger8 = animelem = 8
trigger9 = animelem = 9
trigger10 = animelem = 10
trigger11 = animelem = 11
trigger12 = animelem = 12
trigger13 = animelem = 13
trigger14 = animelem = 14
trigger15 = animelem = 15
trigger16 = animelem = 16
trigger17 = animelem = 17
trigger18 = animelem = 18
trigger19 = animelem = 19
trigger20 = animelem = 20
trigger21 = animelem = 21
trigger22 = animelem = 22
trigger23 = animelem = 23
trigger24 = animelem = 24
trigger25 = animelem = 25
trigger26 = animelem = 26
trigger27 = animelem = 27
attr = S, NA
animtype  = hard
damage    = 5
guardflag = MA
pausetime = 1,1
sparkno = -1
sparkxy = -10,-70
hitsound   = S777,5
guardsound = S777,5
ground.type = low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1, 0
air.velocity = -0.5,-0.2
fall = 1
palfx.time		= 12
palfx.mul		= 250,224,120
palfx.add		= 240,50,0
palfx.sinadd	= 110,55,85,10

[State 1201:	DestroySelf]
type			= DestroySelf
trigger1		= time = 90
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Tower
[Statedef 1350]
type    = S
movetype= A
physics = S
velset = 0,0,0
poweradd = -500
juggle = 0
ctrl = 0
anim = 1500


[State 1750, 6]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 3

[State 1750, raio]
type = Projectile
trigger1 = AnimElem = 3
projanim = 7210
projhits = 10
projmisstime = 3
;projshadow = -1
projpriority = 4
projremovetime = 35
projid = 1705
;velocity = 0.001,0.001
offset = (P2Dist X), -1
attr = S, HP
damage   = 13,6
animtype = heavy
guardflag = MA
hitflag = MAFP
pausetime = 0,3
hitsound   = 5,2
sparkno = 0                   ;Spark image group and no (Def: set above)
sparkxy = -500,-500
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
fall = 1
air.animtype = Back
air.velocity = -5,-8
air.juggle = 1
down.velocity = -10
down.hittime = 30
down.bounce = 0
;PalFX

[State 1750, end]
type = ChangeState
trigger1 = animtime = 76
value = 0
ctrl = 1

;------------------------------------------------------------------------

;Piso de Fuego
[Statedef 1030]
type = S
movetype= A
physics = S
type                = S
movetype            = A
physics             = S
juggle              = 1
velset              = 0,0
poweradd = -400
anim = 1030
ctrl = 0

[State snd, *]
type = PlaySnd
trigger1 = animelem = 4
value = 0+var(21), 27
volume = var(22)
channel = 3

[State helper, *]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "GunFlame"
ID = 2050
stateno = 2050
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 0.5
size.yscale = 0.5

[State snd, *]
type = PlaySnd
trigger1 = AnimElem = 2
value = 204,2

[State Vel,*]
type = Velset
trigger1 = Time = 0
trigger1 = prevstateno != 20
trigger1 = PrevStateNo = [100,101]
x = Vel X *2

[State Vel,*]
type = Velset
trigger1 = Time = 0 && PrevStateNo = 20
x = 0

[State Vel,*]
type = Velmul
triggerall = PrevStateNo != 20
trigger1 = 1
x = 0.88

[State 0, BGPalFX]
type = BGPalFX
trigger1 =  time = 17
time = 5
add = 252,164,16



[State 0, EnvShake]
type = EnvShake
trigger1 = time = 17
time = 40
freq = 100
ampl = -4
phase = 50

[State cs, *]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;
[Statedef 2050]
type = S
movetype= A
physics = N
anim = 2060
ctrl = 0

[State shake, *]
type = EnvShake
trigger1 = time = 6
time = 8

[State snd, *]
type = PlaySnd
trigger1 = Time = 3
value = 1000,0
volume = 255

[State exp, *]
type = Explod
trigger1 = Time = 0
anim = 2050
ID = 2050
pos = 0,0
postype = p1
scale = 0.5,0.5
sprpriority = 5
ownpal = 1

[State exp, *]
type = Explod
trigger1 = Time = 12
anim = 2052
ID = 2050
pos = -16,0
postype = p1
scale = 1,1
sprpriority = 5
ownpal = 1

[State exp, *]
type = Explod
trigger1 = time = 0
anim = 2100
ID = 2100
pos = 60,-24
postype = p1
scale = 0.7,0.7
sprpriority = 5
ownpal = 1
vel = 0,0
Persistent = 4

[State exp, *]
type = Explod
trigger1 = time = 10
anim = 2100
ID = 2100
pos = 120,-24
postype = p1
scale = 0.7,0.7
sprpriority = 5
ownpal = 1
vel = 0,0
Persistent = 3

[State exp, *]
type = Explod
trigger1 = time = 20
anim = 2100
ID = 2100
pos = 180,-24
postype = p1
scale = 0.7,0.7
sprpriority = 5
ownpal = 1
vel = 0,0
Persistent = 2

[State exp, *]
type = Explod
trigger1 = time = 30
anim = 2100
ID = 2100
pos = 240,-24
postype = p1
scale = 0.7,0.7
sprpriority = 5
ownpal = 1
vel = 0,0
Persistent = 1




[State hit, *]
type = HitDef
trigger1 = TIME = 2
attr = S, HA;S, NA
animtype = HARD
guardflag = MA
hitflag = MAFP
air.animtype = high
priority = 3,Hit
damage = 74,20
pausetime = 0,6
guard.pausetime = 0,6
sparkno = S-1
guard.sparkno = S-1
sparkxy = 104,-152
hitsound = S333,0
guardsound = S333,0
ground.type = high
air.type = High
ground.slidetime = 14+root,var(9)
guard.slidetime = 12
ground.hittime = 14+root,var(9)
guard.hittime = 12
;air.hittime = 14
ground.velocity = -6,-10
air.velocity = -2,-1
air.juggle = 2
down.velocity = -6,-0.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recovertime = 40-root,var(12)
getpower = 0,0
givepower = 0,0
p2facing = 1
palfx.time        = 90
palfx.add         = 192,64,-248
palfx.sinadd      = 160,192,248,16
palfx.color       = 256
palfx.invertall   = 1
p2facing = 1

[State 1000, 0]
type = DestroySelf
trigger1 = animtime = 0

;--------------------------------------------------------------------------

; Codazoo
[Statedef 1090]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 211
poweradd = -70
sprpriority = 2

[State 0, ScreenBound]
type = ScreenBound
trigger1 =  hitcount < 7
value = 1
movecamera = 40,0
;ignorehitpause =
;persistent =

[State 100: Areia]
type = Explod
trigger1 = Time = 3
anim = 7020
ID = 7020
pos = -50,3
postype	= p1
facing 	= 1
vfacing	= 1
vel = 0,0
accel = 0,0
scale = 0.50,0.35
ontop		= 1

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 0
volume = 255

[State 1300, Super D]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 6
time = 20
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9

[State 1010, 5]
type = VelSet
trigger1 = time > 6
x = 9.0

[State 1010, 1]
type = HitDef
trigger1 = Time >= 6
trigger1 = hitcount < 7
attr = S, NA
damage = 10, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 6
sparkxy = -20,-67
SPARKNO = S501
guardsparkno = S501
hitsound   = S200,4
guardsound = S200,4
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
airguard.velocity = -6
air.velocity = -7,-5
fall = 1

[State 1000, 2]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

[State 1000, 3]
type=ChangeState
trigger1= animtime = 0
trigger1=Pos Y < 0
value=900

;--------------------------------------------------------------------------

;Teletrasnportacion
[Statedef 1600]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 1600
poweradd = -300
ctrl = 0
facep2 = 1

[State 202, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 777,4

[State 1600, Fwd]
type = PosAdd
Trigger1 = animtime = 0
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
x = P2Dist X+30
y = p2bodydist y - 0

[State 1600, FwdUp]
type = PosAdd
Trigger1 = animtime = 0
Trigger1 = command = "holdup"
Trigger1 = command = "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holddown"
x = 300
y = -200

[State 1600, Back]
type = PosAdd
Trigger1 = animtime = 0
Trigger1 = command = "holdback"
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
x = -300
y = 0

[State 1600, BackUp]
type = PosAdd
Trigger1 = animtime = 0
Trigger1 = command  = "holdback"
Trigger1 = command  = "holdup"
Trigger1 = command != "holdfwd"
Trigger1 = command != "holddown"
x = -300
y = -200

[State 1600, Up]
type = PosAdd
Trigger1 = animtime = 0
Trigger1 = command  = "holdup"
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command  != "holddown"
x = 0
y = -200

[State 1600, down]
type = PosAdd
Trigger1 = animtime = 0
Trigger1 = command  = "holddown"
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
x = 0
y = (pos y)*-1

[State 1600, Fwddown]
type = PosAdd
Trigger1 = animtime = 0
Trigger1 = command  = "holddown"
Trigger1 = command  = "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
x = 300
y = (pos y)*-1

[State 1600, Backdown]
type = PosAdd
Trigger1 = animtime = 0
Trigger1 = command  = "holddown"
Trigger1 = command != "holdfwd"
Trigger1 = command  = "holdback"
Trigger1 = command != "holdup"
x = -300
y = (pos y)*-1

[State 1600, Turn]
type = Turn
Trigger1 = P2Dist X < 0

[State 1600, 4]
type = ChangeState
Trigger1 = animtime = 0
value = 1601
ctrl = 1

;teletrasnportacion apareciendo
[Statedef 1601]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 1601
ctrl = 0
facep2 = 1

[State 1601, 1]
type = PlaySnd
Trigger1 = AnimElem = 3
value = S1600,0
volume = -200

[State 2500, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=900

[State 1601, 5]
type = ChangeState
Trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------;
;Rafaga     1

[Statedef 2004]
type                = S
movetype            = A
physics             = S
juggle              = 1
velset              = 0,0
ctrl                = 0
anim                = 2004
poweradd            = -70

[State 200:        Playsnd avanicada]
type                = playsnd
trigger1            = time = 0
value               = 333,6
channel             = 0

[State 1011:        Playsnd]
type                = playsnd
trigger1            = !time
value               = 83,0
channel             = 5

[State 210:         hitdef]
type                = Hitdef
triggerall          = var(11):=2&&var(16):=-5&&var(17):=-70
trigger1            = !time
attr                = S, SA
animtype            = medium
damage              = 25,5
guardflag           = MA
pausetime           = 2,11
hitflag             = MAFHLD
sparkno             = -1
guard.sparkno       = -1
sparkxy             = 105,55
hitsound            = s2,5
guardsound          = s70,ifelse(random&2,2,3)
ground.type         = Low
ground.slidetime    = 25
ground.hittime      = 25
ground.velocity     = -7
guard.ctrltime      = 29
air.velocity        = -3.3
airguard.velocity   = -3, -1.5
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -5
airguard.cornerpush.veloff = 0

[State 3101,1]
Type                = Projectile
trigger1            = Animelem = 3
projid              = 2003
projanim            = 2003
projhitanim         = -1
projhits            = 1
projremove          = 1
projscale = 0.75,0.72
pausetime           = 5,5
offset              = 20,5
Velocity            = 5.4,0
getpower            = 25
attr                = S,SP
damage              = 25,5
animtype            = Heavy
hitflag             = MAF
guardflag           = MAF
sparkno             = S4600
guard.sparkno       = -1
sparkxy             = 87,5
hitsound            = s777,2
guardsound          = s777,2
ground.type         = High
ground.slidetime    = 30
ground.hittime      = 15
ground.velocity     = -1,-7
air.velocity        = -1, -7
air.juggle          = 3
envshake.time       = 25
fall                = 1
fall.recover        = 0

[State 1000, VarSet]
type = VarSet
trigger1 = time = 0
v = 14
value = 0

[State 1000, VarSet]
type = VarSet
triggerall = (Var(14) = 0 && time > 1)
trigger1 = (command = "y" || command = "y") || Var(39) = 1
v = 14
value = 1

[State 1000, Next]
type = ChangeState
trigger1 = animtime = 0 && Var(14) = 1 && power > 0
value = 2001
ctrl = 1

[State 200, 2] ;si esta en el aire,ve a modo fly.
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900
ctrl = 0

[State 210, 3]
type                = ChangeState
trigger1            = AnimTime = 0
value               = 0
ctrl                = 1

;---------------------------------------------------------------------------;
;Rafaga     2

[Statedef 2001]
type                = S
movetype            = A
physics             = S
juggle              = 1
velset              = 0,0
ctrl                = 0
anim                = 2004
poweradd            = -70

[State 200:        Playsnd avanicada]
type                = playsnd
trigger1            = time = 0
value               = 333,6
channel             = 0

[State 1011:        Playsnd]
type                = playsnd
trigger1            = !time
value               = 83,0
channel             = 5

[State 210:         hitdef]
type                = Hitdef
triggerall          = var(11):=2&&var(16):=-5&&var(17):=-70
trigger1            = !time
attr                = S, SA
animtype            = medium
damage              = 25,5
guardflag           = MA
pausetime           = 2,11
hitflag             = MAFHLD
sparkno             = -1
guard.sparkno       = -1
sparkxy             = 105,25
hitsound            = s2,5
guardsound          = s70,ifelse(random&2,2,3)
ground.type         = Low
ground.slidetime    = 25
ground.hittime      = 25
ground.velocity     = -7
guard.ctrltime      = 29
air.velocity        = -3.3
airguard.velocity   = -3, -1.5
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -5
airguard.cornerpush.veloff = 0

[State 3101,1]
Type                = Projectile
trigger1            = Animelem = 3
projid              = 2002
projanim            = 2002
projhitanim         = -1
projhits            = 1
projremove          = 1
pausetime           = 5,5
projscale = 0.75,0.72
pausetime           = 5,5
offset              = 15,-10
Velocity            = 5.2,-2.5
getpower            = 25
attr                = S,SP
damage              = 25,5
animtype            = Heavy
hitflag             = MAF
guardflag           = MAF
sparkno             = S4600
guard.sparkno       = -1
sparkxy             = 108,5
hitsound            = s777,2
guardsound          = s777,2
ground.type         = High
ground.slidetime    = 30
ground.hittime      = 15
ground.velocity     = -1,-7
air.velocity        = -1, -7
air.juggle          = 3
envshake.time       = 25
fall                = 1
fall.recover        = 0

[State 1001, VarSet]
type = VarSet
triggerall = (Var(14) = 1 && time > 1)
trigger1 = (command = "y" ||command = "y") || Var(39) = 1
v = 14
value = 2

[State 1001, Next]
type = ChangeState
trigger1 = animtime = 0 && Var(14) = 2 && power > 0
value = 2002
ctrl = 1

[State 200, 2] ;si esta en el aire,ve a modo fly.
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900
ctrl = 0

[State 210, 3]
type                = ChangeState
trigger1            = AnimTime = 0
value               = 0
ctrl                = 1

;---------------------------------------------------------------------------;
;Rafaga        3

[Statedef 2002]
type                = S
movetype            = A
physics             = S
juggle              = 1
velset              = 0,0
ctrl                = 0
anim                = 2004
poweradd            = -70

[State 200:        Playsnd avanicada]
type                = playsnd
trigger1            = time = 0
value               = 333,6
channel             = 0

[State 1011:        Playsnd]
type                = playsnd
trigger1            = !time
value               = 83,0
channel             = 5

[State 210:         hitdef]
type                = Hitdef
triggerall          = var(11):=2&&var(16):=-5&&var(17):=-70
trigger1            = !time
attr                = S, SA
animtype            = medium
damage              = 25,5
guardflag           = MA
pausetime           = 2,11
hitflag             = MAFHLD
sparkno             = -1
guard.sparkno       = -1
sparkxy             = 105,-65
hitsound            = s2,5
guardsound          = s70,ifelse(random&2,2,3)
ground.type         = Low
ground.slidetime    = 25
ground.hittime      = 25
ground.velocity     = -7
guard.ctrltime      = 29
air.velocity        = -3.3
airguard.velocity   = -3, -1.5
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -5
airguard.cornerpush.veloff = 0

[State 3101,1]
Type                = Projectile
trigger1            = Animelem = 3
projid              = 2003
projanim            = 2003
projhitanim         = -1
projhits            = -1
projremove          = 1
projscale = 0.75,0.72
pausetime           = 5,5
offset              = 15,-22
Velocity            = 5.4,-7
getpower            = 25
attr                = S,SP
damage              = 25,5
animtype            = Heavy
hitflag             = MAF
guardflag           = MAF
sparkno             = S4600
guard.sparkno       = -1
sparkxy             = 118,5
hitsound            = s777,2
guardsound          = s777,2
ground.type         = High
ground.slidetime    = 30
ground.hittime      = 15
ground.velocity     = -1,-7
air.velocity        = -1, -7
air.juggle          = 3
envshake.time       = 25
fall                = 1
fall.recover        = 0

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=900

[State 1003, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------------------------------------

;-----------------------------------------------------------------------

;Ataque de Rocas
[Statedef 1765]
type = S
movetype = A
physics = S
anim = 1725
poweradd = -1000
velset = 0,0
ctrl = 0
sprpriority = 3

[state 3100, super a]
type = superpause
trigger1 = time = 0
time = 100
movetime = 100
anim = -1
;darken = 0

[State 3200, ]
type = EnvShake
trigger1 = time = 4
time = 80
freq = 120
ampl = 3

[State 3100, dust]
type = explod
removetime = 35;26
trigger1 = time = 20
anim = 4000
pos = 5,10
sprpriority = 5
bindtime = -1
SCALE = 0.6,0.6
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 1
facing = 1

[State 3100, voice]
type = PlaySnd
trigger1 = time = 30
value = 333,12
volume= 255

[State 3100, voice]
type = PlaySnd
trigger1 = time = 0
value = 777,5
volume = 255

[State 3100, sound]
type = PlaySnd
trigger1 = time = 100
trigger2 = time = 104
trigger3 = time = 107
trigger4 = time = 110
value = 333,11

[State 3100, sound]
type = PlaySnd
trigger1 = time = 55
trigger1 = time = 60
trigger2 = time = 65
trigger3 = time = 70
trigger4 = time = 75
value = 100,0

[State 3100, flash]
type = PalFX
trigger1 = TimeMod = 4,0
triggerall = animelem = 2, >= 1 && animelem = 3, <= 1
time = 1
add = 100,100,100

[State 3100, palfx]
type = PalFX
trigger1 = animelem = 3
time = 10
add = 100,100,100
mul = 256,256,256
sinadd = -100,-100,-100,40
invertall = 0
color = 256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 90
time = 10
add = 255,255,255


[State 200, 2] ;si esta en el aire,ve a modo fly.
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900
ctrl = 0

[State 3100, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------ZWjA
[State 3101, 1];ãë
type = Helper
trigger1 = time = 68;AnimElem = 3
pos = -45, -50
postype = p1
stateno = 3101
helpertype = normal
name = "roca"
id = 3101
ownpal = 0;1
supermovetime = 114
pausemovetime = 114

[State 3101, 2];º
type = Helper
trigger1 = time = 69;AnimElem = 3
pos = 25, -40
postype = p1
stateno = 3102;4
helpertype = normal
name = "roca"
id = 3102
ownpal = 0;1
supermovetime = 113
pausemovetime = 113

[State 3101, 3];Eº
type = Helper
trigger1 = time = 70;AnimElem = 3
pos = 20, -10
postype = p1
stateno = 3103;3
helpertype = normal
name = "roca"
id = 3103
ownpal = 0;1
supermovetime = 112
pausemovetime = 112

[State 3101, 4];æ"ª
type = Helper
trigger1 = time = 71;AnimElem = 3
pos = -38, -20
postype = p1
stateno = 3102
helpertype = normal
name = "roca"
id = 3104
ownpal = 0;1
supermovetime = 111
pausemovetime = 111

;------------------------------ÖéÏ[
[Statedef 3101]
type = A
movetype = A
physics = N
anim = 1800
velset = 0

[State 3101, 0]
type = Turn
trigger1 = p2Dist X < 0

[State 3101, Seek 1]
type = VelAdd
trigger1 = P2Dist X < 0
trigger1 = time >= 120
x = -.5

[State 3101, Seek 2]
type = VelAdd
trigger1 = P2Dist X > 0
trigger1 = time >= 120
x = .5

[State 3101, Seek 3]
type = VelAdd
trigger1 = P2Dist Y < 50
trigger1 = time >= 120
y = -.5

[State 3101, Seek 4]
type = VelAdd
trigger1 = P2Dist Y > 50
trigger1 = time >= 120
y = .5

[State 3101, VarSet]
type = VarSet
trigger1 = animelem = 24
ignorehitpause = 1
fvar(1) = parent,fvar(1)

[State 3101, VarSet]
type = VarSet
trigger1 = animelem = 24
fvar(2) = ifelse((root,P2dist x=[0,1]),1,ifelse((root,P2dist x=[-1,0]),-1,root,P2dist x))

[State 3101, VarSet]
type = VarSet
trigger1 = animelem = 24
fvar(3) = ifelse((root,P2dist y=[0,1]),1,ifelse((root,P2dist y=[-1,0]),-1,root,P2dist y))+20

[State 3101, VarSet]
type = VarSet
trigger1 = animelem = 24
ignorehitpause = 1
var(0) = ceil((atan(fvar(2)/fvar(3))*180)/pi)-(90*ifelse(root,P2dist Y<0,-1,1))

[State 3101, VarSet]
type = VarSet
trigger1 = animelem = 24
ignorehitpause = 1
var(0) = ifelse(var(0)>60,60,ifelse(var(0)<-60,-60,var(0)))

[State 3101, VarSet]
type = VarSet
trigger1 = animelem = 24
ignorehitpause = 1
fvar(0) = atan(fvar(2)/fvar(3))-(.5*pi*ifelse(root,P2dist Y <0,-1,1))

[State 3101, VarSet]
type = VarSet
trigger1 = animelem = 24
ignorehitpause = 1
fvar(0) = ifelse(fvar(0)>(.33*pi),.33*pi,ifelse(fvar(0)<(-.33*pi),-.33*pi,fvar(0)))

[State 3101, 1]
type = angleset
trigger1 = animelem =24
value = var(0)

[State 3101, 1]
type = angledraw
trigger1 = animelem = 24

[State 3101, 1]
type = VelSet
trigger1 = animelem = 24
x = abs(20*cos(fvar(0)))
y = -10*sin(fvar(0))

[State 3101, sound];wEbL[x
type = PlaySnd
trigger1 = animelem = 44
value = 1000,5

[State 3101, HitDef]
type = HitDef
trigger1 = !time
attr = S, HA;S, NA
animtype = HARD
guardflag = MA
hitflag = MAFP
damage = 100,50
pausetime = 0, 5
sparkno = s4100;s8450
guard.sparkno = s4100
sparkxy = 0,-100
hitsound = s333,10
guardsound = s333,10
ground.type = High
ground.slidetime = 13
ground.hittime = 26
ground.velocity = -3,-6
guard.velocity = -6
air.velocity = -3,-6
airguard.velocity = -6,-1
down.velocity = -12,0
down.hittime = 26
palfx.color = 0
fall = 1
fall.recover = 0
envshake.time = 55
envshake.freq = 55
envshake.ampl = 6
getpower = 0
projID = 3100

[State 3101, ChangeState]
type = ChangeState
trigger1 = movecontact
trigger2 = time = 75
value = 3153

;----------------ÖéÏ[2
[Statedef 3102]
type = A
movetype = A
physics = N
anim = 1801
velset = 0

[State 3202, 0]
type = Turn
trigger1 = p2Dist X < 0

[State 3202, Seek 1]
type = VelAdd
trigger1 = P2Dist X < 0
trigger1 = time >= 120
x = -.5

[State 3202, Seek 2]
type = VelAdd
trigger1 = P2Dist X > 0
trigger1 = time >= 120
x = .5

[State 3202, Seek 3]
type = VelAdd
trigger1 = P2Dist Y < 50
trigger1 = time >= 120
y = -.5

[State 3202, Seek 4]
type = VelAdd
trigger1 = P2Dist Y > 50
trigger1 = time >= 120
y = .5

[State 3202, VarSet]
type = VarSet
trigger1 = animelem = 24
ignorehitpause = 1
fvar(1) = parent,fvar(1)

[State 3102, VarSet]
type = VarSet
trigger1 = animelem = 24
fvar(2) = ifelse((root,P2dist x=[0,1]),1,ifelse((root,P2dist x=[-1,0]),-1,root,P2dist x))

[State 3102, VarSet]
type = VarSet
trigger1 = animelem = 24
fvar(3) = ifelse((root,P2dist y=[0,1]),1,ifelse((root,P2dist y=[-1,0]),-1,root,P2dist y))+20

[State 3102, VarSet]
type = VarSet
trigger1 = animelem = 24
ignorehitpause = 1
var(0) = ceil((atan(fvar(2)/fvar(3))*180)/pi)-(90*ifelse(root,P2dist Y<0,-1,1))

[State 3102, VarSet]
type = VarSet
trigger1 = animelem = 24
ignorehitpause = 1
var(0) = ifelse(var(0)>60,60,ifelse(var(0)<-60,-60,var(0)))

[State 3102, VarSet]
type = VarSet
trigger1 = animelem = 24
ignorehitpause = 1
fvar(0) = atan(fvar(2)/fvar(3))-(.5*pi*ifelse(root,P2dist Y <0,-1,1))

[State 3102, VarSet]
type = VarSet
trigger1 = animelem = 24
ignorehitpause = 1
fvar(0) = ifelse(fvar(0)>(.33*pi),.33*pi,ifelse(fvar(0)<(-.33*pi),-.33*pi,fvar(0)))

[State 3102, 1]
type = angleset
trigger1 = animelem = 24
value = var(0)

[State 3102, 1]
type = angledraw
trigger1 = animelem = 24

[State 3102, 1]
type = VelSet
trigger1 = animelem = 24
x = abs(18*cos(fvar(0)))
y = -10*sin(fvar(0))

[State 3102, 2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 3102, sound];wEbL[x
type = PlaySnd
trigger1 = animelem = 46
value = 1000,5

[State 3102, HitDef]
type = HitDef
trigger1 = !time
attr = S, HP
animtype = Medium
damage = 100,50
hitflag = MAFD
guardflag = MA
pausetime = 0, 10
sparkno = s4100;s8450
guard.sparkno = s4100
sparkxy = 25,-110
hitsound = s333,10
guardsound = s333,10
ground.type = High
ground.slidetime = 13
ground.hittime = 26
ground.velocity = -3,-6
guard.velocity = -6
air.velocity = -3,-6
airguard.velocity = -6,-1
down.velocity = -12,0
down.hittime = 26
palfx.color = 0
fall = 1
fall.recover = 0
envshake.time = 30
envshake.freq = 55
envshake.ampl = 6
getpower = 0
projID = 3100

[State 3102, ChangeState]
type = ChangeState
trigger1 = movecontact
trigger2 = time = 75
value = 3153
;----------------ÖéÏ[3
[Statedef 3103]
type = A
movetype = A
physics = N
anim = 1800
velset = 0
sprpriority = 5

[State 3103, 0]
type = Turn
trigger1 = p2Dist X < 0

[State 3103, Seek 1]
type = VelAdd
trigger1 = P2Dist X < 0
trigger1 = time >= 120
x = -.5

[State 3103, Seek 2]
type = VelAdd
trigger1 = P2Dist X > 0
trigger1 = time >= 120
x = .5

[State 3103, Seek 3]
type = VelAdd
trigger1 = P2Dist Y < 50
trigger1 = time >= 120
y = -.5

[State 3103, Seek 4]
type = VelAdd
trigger1 = P2Dist Y > 50
trigger1 = time >= 120
y = .5

[State 3103, VarSet]
type = VarSet
trigger1 = animelem = 24
ignorehitpause = 1
fvar(1) = parent,fvar(1)

[State 3103, VarSet]
type = VarSet
trigger1 = animelem = 24
fvar(2) = ifelse((root,P2dist x=[0,1]),1,ifelse((root,P2dist x=[-1,0]),-1,root,P2dist x))

[State 3103, VarSet]
type = VarSet
trigger1 = animelem = 24
fvar(3) = ifelse((root,P2dist y=[0,1]),1,ifelse((root,P2dist y=[-1,0]),-1,root,P2dist y))+20

[State 3103, VarSet]
type = VarSet
trigger1 = animelem = 24
ignorehitpause = 1
var(0) = ceil((atan(fvar(2)/fvar(3))*180)/pi)-(90*ifelse(root,P2dist Y<0,-1,1))

[State 3103, VarSet]
type = VarSet
trigger1 = animelem = 24
ignorehitpause = 1
var(0) = ifelse(var(0)>60,60,ifelse(var(0)<-60,-60,var(0)))

[State 3103, VarSet]
type = VarSet
trigger1 = animelem = 24
ignorehitpause = 1
fvar(0) = atan(fvar(2)/fvar(3))-(.5*pi*ifelse(root,P2dist Y <0,-1,1))

[State 3103, VarSet]
type = VarSet
trigger1 = animelem = 24
ignorehitpause = 1
fvar(0) = ifelse(fvar(0)>(.33*pi),.33*pi,ifelse(fvar(0)<(-.33*pi),-.33*pi,fvar(0)))

[State 3103, 1]
type = angleset
trigger1 = animelem = 24
value = var(0)

[State 3103, 1]
type = angledraw
trigger1 = animelem = 24

[State 3103, 1]
type = VelSet
trigger1 = animelem = 24
x = abs(16*cos(fvar(0)))
y = -10*sin(fvar(0))

[State 3103, 2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 3103, sound];wEbL[x
type = PlaySnd
trigger1 = animelem = 48
value = 1000,5

[State 3103, HitDef]
type = HitDef
trigger1 = !time
attr = S, HP
animtype = Medium
damage = 100,50
hitflag = MAFD
guardflag = MA
pausetime = 0, 10
sparkno = s4100;s8450
guard.sparkno = s4100
sparkxy = 20,-140
hitsound = s333,10
guardsound = s333,10
ground.type = High
ground.slidetime = 13
ground.hittime = 26
ground.velocity = -3,-6
guard.velocity = -6
air.velocity = -3,-6
airguard.velocity = -6,-1
down.velocity = -12,0
down.hittime = 26
palfx.color = 0
fall = 1
fall.recover = 0
envshake.time = 30
envshake.freq = 55
envshake.ampl = 6
getpower = 0
projID = 3100

[State 3103, ChangeState]
type = ChangeState
trigger1 = movecontact
trigger2 = time = 75
value = 3153

;----------------ÖéÏ[4
[Statedef 3104]
type = A
movetype = A
physics = N
anim = 1801
velset = 0
sprpriority = 5

[State 3104, 0]
type = Turn
trigger1 = p2Dist X < 0

[State 3104, Seek 1]
type = VelAdd
trigger1 = P2Dist X < 0
trigger1 = time >= 120
x = -.5

[State 3104, Seek 2]
type = VelAdd
trigger1 = P2Dist X > 0
trigger1 = time >= 120
x = .5

[State 3104, Seek 3]
type = VelAdd
trigger1 = P2Dist Y < 50
trigger1 = time >= 120
y = -.5

[State 3104, Seek 4]
type = VelAdd
trigger1 = P2Dist Y > 50
trigger1 = time >= 120
y = .5

[State 3104, VarSet]
type = VarSet
trigger1 = animelem = 24
ignorehitpause = 1
fvar(1) = parent,fvar(1)

[State 3104, VarSet]
type = VarSet
trigger1 = animelem = 24
fvar(2) = ifelse((root,P2dist x=[0,1]),1,ifelse((root,P2dist x=[-1,0]),-1,root,P2dist x))

[State 3104, VarSet]
type = VarSet
trigger1 = animelem = 24
fvar(3) = ifelse((root,P2dist y=[0,1]),1,ifelse((root,P2dist y=[-1,0]),-1,root,P2dist y))+20

[State 3104, VarSet]
type = VarSet
trigger1 = animelem = 24
ignorehitpause = 1
var(0) = ceil((atan(fvar(2)/fvar(3))*180)/pi)-(90*ifelse(root,P2dist Y<0,-1,1))

[State 3104, VarSet]
type = VarSet
trigger1 = animelem = 24
ignorehitpause = 1
var(0) = ifelse(var(0)>60,60,ifelse(var(0)<-60,-60,var(0)))

[State 3104, VarSet]
type = VarSet
trigger1 = animelem = 24
ignorehitpause = 1
fvar(0) = atan(fvar(2)/fvar(3))-(.5*pi*ifelse(root,P2dist Y <0,-1,1))

[State 3104, VarSet]
type = VarSet
trigger1 = animelem = 24
ignorehitpause = 1
fvar(0) = ifelse(fvar(0)>(.33*pi),.33*pi,ifelse(fvar(0)<(-.33*pi),-.33*pi,fvar(0)))

[State 3104, 1]
type = angleset
trigger1 = animelem =24
value = var(0)

[State 3104, 1]
type = angledraw
trigger1 = animelem = 24

[State 3104, 1]
type = VelSet
trigger1 = animelem = 24
x = abs(14*cos(fvar(0)))
y = -10*sin(fvar(0))

[State 3104, 2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 3104, sound];wEbL[x
type = PlaySnd
trigger1 = animelem =24
value = 1000,5

[State 3104, HitDef]
type = HitDef
trigger1 = !time
attr = S, HP
animtype = Medium
damage = 100,50
hitflag = MAFD
guardflag = MA
pausetime = 0, 10
sparkno = s4100;s8450
guard.sparkno = s4100
sparkxy = 38,-130
hitsound = s333,10
guardsound = s333,10
ground.type = High
ground.slidetime = 13
ground.hittime = 26
ground.velocity = -3,-6
guard.velocity = -6
air.velocity = -3,-6
airguard.velocity = -6,-1
down.velocity = -12,0
down.hittime = 26
palfx.color = 0
fall = 1
fall.recover = 0
envshake.time = 30
envshake.freq = 55
envshake.ampl = 6
getpower = 0
projID = 3100

[State 3104, ChangeState]
type = ChangeState
trigger1 = movecontact
trigger2 = time = 75
value = 3153

;------------------
[Statedef 3153]
type = A
movetype = A
physics = N
velset = 0,0
anim = 3107
sprpriority = 4
ctrl = 0

[State 3153, 2]
type = DestroySelf
trigger1 = AnimTime = 0

;------------------------------------------------------------------------
;SUPERS!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
;------------------------------------------------------------------------
; INFERNO BALL!!!
[Statedef 3000]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -1500
anim = 3000

[State 3000,1]; sonido grito dabura
type = PlaySnd
trigger1 = animelem = 1
value = 3,5
volume = 255

[state 4000,allpalfx]
type = allpalfx
trigger1 =  time = 50;250
time = 50
add = 0,0,0
sinadd = 250,137,16,90;60
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
         
[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200


[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 15 && Var(12) < 0
v = 12
value = 6

[State 3000,2]
type = Explod
trigger1 = animelem = 2
anim = 7110
ID = 7110
postype = p1
pos = 35,-63
sprpriority = 10
;removetime =20
bindtime = -1
ownpal = 1
ontop = 0
scale = 1,1
removeongethit = 1

[State 3000,2]
type = Explod
trigger1 = animelem = 1
anim = 7150
ID = 7150
postype = p1
pos = -25,-53
sprpriority = 10
;removetime =20
bindtime = -1
ownpal = 1
ontop = 0
scale = 0.5,0.5
removeongethit = 1


[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)
   
[State 3000,3]
type = Helper
trigger1 = AnimElem = 3
helpertype = normal
name = "bola_fuego"
id = 3000
pos = 20,-35
size.xscale = 1.0
size.yscale = 1.0
stateno = 3001


[State 3000,4]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

;------------------------------------------------------
;sprites fireball
[Statedef 3001]
type 			= A
movetype		= A
physics		= N
anim			= 3001
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 3001,0]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 3001,1]
type			= VelSet
trigger1		= (!Time)
x			= 11

[State 3001,2 ];polvo que sigue
type = Explod
trigger1		= Time > 1
trigger1          = ((GameTime%2) = 0) 
anim = 7020
ID = 7020
pos = 20,38
scale = 0.4,0.4
;postype = p1
sprpriority = 5
;ownpal = 1
ignorehitpause = 1
removeongethit = 1
spacing 		= 2

[State 3001:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 20
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1


[State 3001:        afterimage]
type                = AfterImage
trigger1            = time = 0
time                = 80000
palcolor            = 256
palinvertall        = 0
palbright           =  0, 0, 0
palcontrast         = 20,20,20
palpostbright       =  0, 0, 0
paladd              =  0, 0, 0
palmul              = .8,.8,.8
palinvertall        = 1
timegap             = 1
framegap            = 1
trans               = add

[State 3001,3]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1

[State 3001:	HitDef]
type			= HitDef
trigger1		= !MoveContact
attr			= S, HP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage		= 500
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= s7040
guard.sparkno	= s7040
sparkxy		= 0,0
hitsound		= S9000,0
guardsound		= S9000,0
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 744
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 3001:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) 
ignorehitpause	= 1

;------------------------------------------------------------------------




; INFERNO BALL!!!
[Statedef 30009]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -1500
anim = 3000


[State 7000: 	AfterImage]
type 			= AfterImage
trigger1 		= (!time)
time 			= 18
timegap		= 1
framegap 		= 2
length 		= 9
paladd 		= 0, 0, 0
palmul 		= 1, 1, 1
palcontrast 	= 110,110,110
trans 		= add

[State 3000,1]; sonido grito dabura
type = PlaySnd
trigger1 = animelem = 1
value = 777,29
volume = 255

[state 4000,allpalfx]
type = allpalfx
trigger1 =  time = 30;250
time = 50
add = 0,0,0
sinadd = 250,137,16,90;60
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999

[State 0]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x + 120
y = p2bodydist y + 0

[State 3010, Turn]
Type = Turn
Trigger1 = P2Dist X < 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S202,0
volume = 255
channel = -1


[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200


[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 15 && Var(12) < 0
v = 12
value = 6

[State 3000,2]
type = Explod
trigger1 = animelem = 2
anim = 7110
ID = 7110
postype = p1
pos = 35,-63
sprpriority = 10
;removetime =20
bindtime = -1
ownpal = 1
supermove = -1
pausemove  = -1
ontop = 0
scale = 1,1
removeongethit = 1

[State 3000,2]
type = Explod
trigger1 = animelem = 1
anim = 7150
ID = 7150
postype = p1
pos = -25,-53
sprpriority = 10
;removetime =20
bindtime = -1
supermove = -1
pausemove  = -1
ownpal = 1
ontop = 0
scale = 0.5,0.5
removeongethit = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time =  40
anim =999
pos = 0,0
movetime = 40
darken = 0


[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000,3]
type = Helper
trigger1 = AnimElem = 3
helpertype = normal
name = "bola_fuego"
id = 3000
pos = 20,25
size.xscale = 1.0
size.yscale = 1.0
stateno = 30019


[State 3000,4]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

;------------------------------------------------------
;sprites fireball
[Statedef 30019]
type 			= A
movetype		= A
physics		= N
anim			= 1008
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 3001,0]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 3001,1]
type			= VelSet
trigger1		= (!Time)
x			= 11

[State 3001,2 ];polvo que sigue
type = Explod
trigger1		= Time > 1
trigger1          = ((GameTime%2) = 0)
anim = 7020
ID = 7020
pos = 20,38
scale = 0.4,0.4
;postype = p1
sprpriority = 5
;ownpal = 1
supermove = -1
pausemove  = -1
ignorehitpause = 1
removeongethit = 1
spacing 		= 2

[State 3001:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 20
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1


[State 3001:        afterimage]
type                = AfterImage
trigger1            = time = 0
time                = 80000
palcolor            = 256
palinvertall        = 0
palbright           =  0, 0, 0
palcontrast         = 20,20,20
palpostbright       =  0, 0, 0
paladd              =  0, 0, 0
palmul              = .8,.8,.8
palinvertall        = 1
timegap             = 1
framegap            = 1
trans               = add

[State 3001,3]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1

[State 3001:	HitDef]
type			= HitDef
trigger1		= !MoveContact
attr			= S, HP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage		= 500
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= s7040
guard.sparkno	= s7040
sparkxy		= 0,-80
hitsound		= S9000,0
guardsound		= S9000,0
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -29
guard.velocity	= -29
air.velocity	= -29,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 744
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0



[State 1100]
type = VarSet
trigger1 = time > 1
var(4) = 1



[State 1100]
type = ScreenBound
trigger1 = Var(4) = 1
value = 0

[State 3001:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10)
ignorehitpause	= 1

;------------------------------------------------------------------------






;KIBITO DEAD

[Statedef 3030]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
anim = 3030

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S777,10
volume = 255

[State 3030, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 30601

[Statedef 30601]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1600
poweradd = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
pos = -9999999999999999999999999999,-99999999999999999999999999
darken = 0
movetime = 30

[State 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 777,4
volume = 255
channel= -1



[State 3030, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 30501

[Statedef 30501]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3090
poweradd = 0

[State 1155, 1]
type = posadd
trigger1 = time = 6
x = p2bodydist x - 30
y = p2bodydist y + 0

[State 1155, turn]
type = Turn
trigger1 = P2dist X < 0



[State 407,2 ]
type = ChangeState
trigger1 = time = 6
value = 31009
ctrl = 1

[Statedef 31009]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
velset = 0,0,0
anim = 3100
poweradd= -2000




[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S777,11
volume = 255

[State 0, SprPriority]
type = SprPriority
trigger1 = stateno = 31009
value = 5

[State 2030, 5]
type = projectile
projscale = 1.5,0.5
trigger1 = animelem = 1
velocity = 0,0
projanim = 706
projremovetime = 50
offset = 80, -60
projhits = 40
projmisstime = 2
projpriority = 9999
attr = S, HP
guardflag = MA
animtype = Medium
damage = 30,15
pausetime = 1,1
guard.pausetime =  0,30
sparkno = -1
guardsparkno -1
sprpriority = 80
hitsound = S333,5
guardsound =6,0
ground.type = Low
ground.slide = 12
ground.hittime = 12
ground.velocity = -2,0
air.velocity = -2, -0
fall = 1
fall.recover = 0
envshake.time = 10
envshake.freq = 10
envshake.ampl = -10
envshake.phase = 10
palfx.time		= 40
palfx.mul		= 50,20,50
palfx.add		= 200,200,255
palfx.sinadd	= -100,-100,-155,40

[State 2002, EnvShake]
type = EnvShake
triggerall= p2stateno != [120 ,150]
trigger1 = time >30
time = 40
ampl = 15
phase = 18
[State 2002, BGPalFX]
type = BGPalFX
trigger1 = Time > 0
trigger1 = Time < 70
time = 1
add = var(10),var(10),var(10)
color = 0
[State 2002, varrandom]
type = varrandom
trigger1 = time >= 0
v = 10
range = 0,255

[State 0, BGPalFX]
type = BGPalFX
triggerall= p2stateno != [120 ,150]
trigger1 = time = 75
time = 20
add = 256,256,256

[State 0, Explod]
type = Explod
triggerall= p2stateno != [120 ,150]
trigger1 = time = 75
anim = 7100
pos = 0,-30
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = 30
scale = 1,1
sprpriority = 10



[State 0, PlaySnd]
type = PlaySnd
triggerall= p2stateno != [120 ,150]
trigger1 = time = 75
value = S777,19
volume = 255
channel = -1













[State 200, 2] ;si esta en el aire,ve a modo fly.
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900
ctrl = 0

[State 700, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
[Statedef 42385]
type = S
movetype= A
physics= S
velset= 0,0
anim = 6991
ctrl= 0
[State 0]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
anim = 7170
pos = -25,4
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
sprpriority = 3
removeongethit = 1
[State 0]
type= PlaySnd
trigger1= AnimElem= 1
value= s111, 0
volume = 255
[State 0]
type= VelSet
trigger1= AnimElem= 1
x= 33
[State 0]
type= HitDef
trigger1 = AnimElem = 1
attr= S, NA
animtype= Medium
damage = 10,5
guardflag= MA
pausetime= 0,2
sparkxy= 0,-57
sparkno= -1
hitsound= -1
guardsound= 6,0
ground.type= High
ground.slidetime= 12
ground.hittime= 60
ground.velocity= 3
air.velocity= 3
p1stateno = 433

[State 0]
type= ChangeState
trigger1= Time= 33
value= 0
ctrl= 1
[Statedef 433]
type = S
movetype = A
physics = S
ctrl = 0
anim = 4333
velset = 0,0,0
[State 0, PowerAdd]
type = PowerAdd
trigger1 = time >1
value = -4
[State 0]
type = Width
trigger1 = 1
edge = 40,
[State 0]
type = Explod
trigger1 = movehit = 1
anim = 81
pos = 40,-55
postype = p1
facing = 1
vfacing = 1
bindtime = -1
;removetime = 40
sprpriority = 3
;scale = 2,2
removeongethit = 1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
time = 2
add = 256,256,256
[State 0]
type = velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 5
trigger4 = AnimElem = 7
x = 2

[State 0]
type = playsnd
trigger1 = AnimElem = 1
value = 777,34
volume = 255
channel = -1

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Hard
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s502
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S333,5
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s502
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S333,5
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
animtype  = Hard
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s502
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S333,5
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90


[State 0]
type = HitDef
trigger1 = AnimElem = 8
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s502
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S333,5
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 10
attr = S, NA
animtype  = Hard
damage    = 40, 7
guardflag = MA
pausetime = 1,30
sparkno = s502
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S333,5
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90


[State 0]
type = HitDef
trigger1 = AnimElem = 12
attr = S, NA
animtype  = Hard
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s502
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S333,5
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 14
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s502
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S333,5
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 16
attr = S, NA
animtype  = Hard
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s502
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S333,5
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90


[State 0]
type = HitDef
trigger1 = AnimElem = 18
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s502
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S333,5
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 20
attr = S, NA
animtype  = Hard
damage    = 40, 7
guardflag = MA
pausetime = 1,30
sparkno = s502
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S333,5
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90


[State 0]
type = HitDef
trigger1 = AnimElem = 22
attr = S, NA
animtype  = Hard
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s502
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S333,5
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 24
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s502
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S333,5
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 27
attr = S, NA
animtype  = Hard
damage    = 50, 7
guardflag = MA
pausetime = 1,0
sparkno = S81
guard.sparkno = S2
sparkxy = -45,-55
hitsound   = S777,6
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-10
air.velocity = 0,-10
fall = 1
fall.recover = 0
envshake.time =10
envshake.freq = 60
envshake.ampl = -7
envshake.phase = 90
[State 0]
type = afterimage
trigger1 = time = 0
time = 100
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add

[State 0]
type = changestate
trigger1 = animtime = 0
value = 424
ctrl = 1


[State 0]
type = changestate
trigger1 = p2life = 0
value = 50
ctrl = 1


[Statedef 424]
type = S
movetype= A
physics= S
velset= 0,0
anim = 4244
ctrl= 0

[State 0, CtrlSet]
type = CtrlSet
trigger1 = stateno = 424
value = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 15
anim = 999
movetime = 15
darken = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 8
time = 150
add = 76,0,0

[State 0]
type = AssertSpecial
triggerall = time > 56
trigger1 = stateno = 424
flag = nomusic

[State 0]
type = AssertSpecial
triggerall = time > 56
trigger1 = stateno = 424
flag =  nobardisplay



[State 0]
type = PosAdd
trigger1 = AnimElem = 3
x = p2bodydist x -10
y = p2bodydist y + 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S777,4
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S777,35
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9
value = S777,36
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 23
value = S777,37
volume = 255
channel = 10



[State 0]
type                    = Pause
triggerall              = movehit
triggerall              = time < 50
trigger1                = gametime%4 = 0
time                    = 6

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 81
pos = 40,-55
ID = 1
postype = p1
facing = 1
vfacing = 1
bindtime = -1
;removetime = 40
sprpriority = 3
;scale = 2,2
removeongethit = 1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
time = 2
add = 256,256,256

[State 0]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 1,15
sparkno = s502
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =20
envshake.freq = 60
envshake.ampl = -13
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem =7
attr = S, NA
animtype  = Hard
damage    = 30, 7
guardflag = MA
pausetime = 1,0
sparkno = S502
guard.sparkno = S2
sparkxy = -15,-55
hitsound   = S777,6
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,1
air.velocity = 0,10
fall = 1
fall.recover = 0
envshake.time =30
envshake.freq = 60
envshake.ampl = -12
envshake.phase = 90
[State 0, TargetState]
type = TargetState
trigger1 = animelem = 8
value = 123





[State 0]
type = afterimage
trigger1 = time = 0
time = 100
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add


[State 0, Explod]
type = Explod
trigger1 = time = 50
anim = 41009
pos = 0,-130
postype = p2
ID = 1
facing = 1
vfacing = 1
bindtime = -1
supermove
pausemove
scale = 1,1
sprpriority = 5
removeongethit = 1


[State 0, Explod]
type = Explod
trigger1 = time = 50
anim = 527
pos = 0,0
postype = p2
ID = 1
facing = 1
vfacing = 1
vel = 0,-1
accel = 0,-1
bindtime = 1
supermove
pausemove
scale = 1,1
sprpriority = 5
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 50
anim = 527
pos = 0,0
postype = p2
ID = 1
facing = 1
vfacing = 1
vel = 1,-1
accel = 1,-1
bindtime = 1
supermove
pausemove
scale = 1,1
sprpriority = 5
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 50
anim = 528
pos = 0,0
postype = p2
ID = 1
facing = 1
vfacing = 1
vel = -1,-1
accel = -1,-1
bindtime = 1
supermove
pausemove
scale = 1,1
sprpriority = 5
removeongethit = 1


[State 0]
type = Explod
trigger1 =animelem  = 23
anim = 124
pos = 33,-40
ID = 1
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 150
sprpriority = 3
;scale = 2,2
removeongethit = 1


[State 0, EnvShake]
type = EnvShake
trigger1 =animelem  = 23
time = 150
freq = 60
ampl = -4
phase = 90

[State 0]
type = Explod
trigger1 =animelem  = 9
anim = 7160
pos = 0,5
postype = p1
facing = 1
ID = 1
vfacing = 1
bindtime = -1
removetime = 130
sprpriority = 3
scale = 0.3,0.3
removeongethit = 1


[State 0]
type = Explod
trigger1 =animelem  = 23
anim = 7160
pos = 0,-10
postype = p1
facing = 1
ID = 1
vfacing = 1
bindtime = -1
removetime = 550
sprpriority = 3
scale = 0.3,0.3
removeongethit = 1

[State 0]
type = Explod
trigger1 =animelem  = 9
anim = 7180
pos = 0,-10
ID = 1
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 700
sprpriority = 8
scale = 0.9,1.0
removeongethit = 1

[State 3010, palfx]
type = BgPalfx
trigger1 =animelem  = 23
time = 150
color = 0




[State 0]
type = changestate
trigger1 = animtime = 0
value = 1234
ctrl = 1



[Statedef 1234]
type = S
movetype= A
physics= S
velset= 0,0
anim = 1234
ctrl= 0

[State 0]
type = AssertSpecial
trigger1 = stateno = 1234
flag = nomusic
flag2 = nobardisplay

[State 0, EnvShake]
type = EnvShake
trigger1 =animelem  = 1
trigger2 =animelem  = 2
time = 10
freq = 60
ampl = -15
phase = 90

[State 2002, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0
time = 1
add = var(10),var(10),var(10)
color = 0
[State 2002, varrandom]
type = varrandom
trigger1 = time >= 0
v = 10
range = 0,255

[State 0]
type = Explod
trigger1 =time  > 20
trigger1 =animelem  = 1
trigger2 =animelem  = 2
anim = 7100
ID = 1
pos = -10,-10
postype = p2
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 8
scale = 1.3,1.3
removeongethit = 1


[State 0]
type = Projectile
trigger1 =animelem  = 1
trigger2 =animelem  = 2
ProjAnim = 124
offset = 35,-40
velocity = 1, 3
attr = S, HP
damage    = 23,4
animtype  = back
getpower  = 0
givepower = 30
pausetime = 0,12
sparkno = S7045
sparkxy = 40, -30
hitsound   = S777,525
guardsound = S777,858
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
airguard.velocity = -5.5
air.type = Low
air.velocity = -6.5,-4.5
air.juggle = 3
envshake.time =8
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90



[State 0]
type = changestate
trigger1 = time = 350
value = 1235
ctrl = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = p2life = 0
id = 1

[State 0]
type = changestate
trigger1 = p2life = 0
value = 1235
ctrl = 1




[Statedef 1235]
type = S
movetype= A
physics= S
velset= 0,0
poweradd = -3000
anim = 1235
ctrl= 0


[State 0]
type = AssertSpecial
trigger1 = stateno = 1235
flag = nomusic


[State 0, PosSet]
type = PosSet
trigger1 = time = 60
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
value = S777,40
volume = 255
channel = 31

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S777,4
volume = 255
channel = -1


[State 0, PlaySnd]
type = PlaySnd
triggerall = p2life = 0
trigger1 = animelem = 5
value = S777,34
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall = p2life > 1
trigger1 = animelem = 5
value = S777,33
volume = 255
channel = -1

[state 4000,allpalfx]
type = allpalfx
trigger1 =  time = 0
time = 80
add = 0,0,0
sinadd = 255,255,255,90;60
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999


[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 100
freq = 60
ampl = -18
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S777,38
volume = 255
channel = -1

[State 0]
type = Explod
trigger1 =time = 0
anim = 7100
pos = -10,-10
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = 80
sprpriority = 50
scale = 2.3,2.3
removeongethit = 1


[State 0]
type = Explod
trigger1 =time = 230
anim = 196
pos = 5,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 120
sprpriority = 50
;scale = 2.3,2.3
removeongethit = 1


[State 0]
type = Explod
trigger1 =time = 50
anim = 196
pos = -5,-50
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 180
sprpriority = 50
;scale = 2.3,2.3
removeongethit = 1

[State 0]
type = changestate
trigger1 = time = 350
value = 0
ctrl = 1
[Statedef 123]
type = S
movetype= A
physics= S
velset= 0,0
anim = 5110
ctrl= 0
[State 0, NotHitBy]
type = NotHitBy
trigger1 = stateno = 123
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
[State 0]
type = LifeAdd
trigger1 = time = 0
value = -50
[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 50
freq = 60
ampl = -18
phase = 90
[State 0]
type = LifeAdd
trigger1 = time > 330
trigger1 = time < 680
value = -1
[State 0]
type = PosSet
trigger1 = time =0
y = 0

[State 0]
type = changestate
trigger1 = life = 0
value = 5110
ctrl = 1

[State 0]
type = changestate
trigger1 = time = 770
value = 571
ctrl = 1
[Statedef 571]
type = S
movetype= A
physics= S
velset= 0,0
anim = 5300
ctrl= 0

[State 0]
type = SelfState
trigger1 = time = 100
value = 0
ctrl= 1

;==========================================
[StateDef 9741]
type = S
movetype = I
physics = N
anim = 777
ctrl = 0

[State 9741, Safety]
type = SelfState
trigger1 = !IsHelper
value = 0

[State 9741, PauseCheck]
type = VarSet
trigger1 = (GameTime>(Parent,var(58)))
trigger2 = !(Parent,Alive)
trigger3 = (RoundState != 2)
trigger4 = Parent,var(6)
trigger5 = (var(3):=0)
var(2) = (var(3):=1)+(var(4):=0)

[State 9741, Facing]
type = Turn
trigger1 = (var(9):=(Facing != Parent,Facing))

[State 9741, DirTurnOnAI]
type = ParentVarSet
triggerall =!Var(57)
triggerall = !var(3)
triggerall = !var(9)
trigger1 = (Parent,command = "holdfwd")
trigger2 = (Parent,command = "holdback")
trigger3 = (Parent,command = "holdup")
trigger4 = (Parent,command = "holddown")
trigger5 = !(var(4):=1)
var(6) = var(4)

[State 9741, DirTurnOffAI]
type = ParentVarSet
triggerall = !var(3)
triggerall = Parent,var(6)
trigger1 = (command = "holdfwd")
trigger1 = (Parent,command = "holdfwd")
trigger2 = (command = "holdback")
trigger2 = (Parent,command = "holdback")
trigger3 = (command = "holdup")
trigger3 = (Parent,command = "holdup")
trigger4 = (command = "holddown")
trigger4 = (Parent,command = "holddown")
var(6) = (var(4):=0)
;-----------ai a partir daqui--------

[State 0,Display3varp1]
type = DisplayToClipboard
trigger1 = Var(57)=57
text = "A.I.DESABILITADO-P1 %d"
params = Var(57)

[State 9741, var p1]
type = VarSet
trigger1 =var(6) = var(4)
var(57) =57


[State 9741, Goodbye]
type = DestroySelf
triggerall = (var(1):=1)
trigger1 = Parent,var(6)
trigger2 = !(Parent,Alive)
trigger3 = (RoundState != 2)


[StateDef 9742]
type = S
movetype = I
physics = N
anim = 777
ctrl = 0

[State 9742, Safety]
type = SelfState
trigger1 = !IsHelper
value = 0

[State 9742, PauseCheck]
type = VarSet
trigger1 = (GameTime>Parent,var(58))
trigger2 = !(Parent,Alive)
trigger3 = (RoundState != 2)
trigger4 = Parent,var(6)
trigger5 = (var(3):=0)
var(2) = (var(3):=1)

[State 9742, Facing]
type = Turn
trigger1 = (var(9):=(Facing != Parent,Facing))

[State 9742, ParentDirCheck]
type = VarSet
trigger1 = (Parent,command = "holdfwd")
trigger2 = (Parent,command = "holdback")
trigger3 = (Parent,command = "holdup")
trigger4 = (Parent,command = "holddown")
trigger5 = (var(6):=0)
var(6) = 1

[State 9742, ParentButtonCheck]
type = VarSet
trigger1 = (Parent,command = "a")
trigger2 = (Parent,command = "b")
trigger3 = (Parent,command = "c")
trigger4 = (Parent,command = "x")
trigger5 = (Parent,command = "y")
trigger6 = (Parent,command = "z")
trigger7 = (Parent,command = "s")
trigger8 = (var(7):=0)
var(7) = 1

[State 9742, SameButtonCheck]
type = VarSet
triggerall = var(7)
triggerall = !var(2)
triggerall = NumPartner
trigger1 = (Parent,command = "a")
trigger1 = (Partner,command = "a")
trigger2 = (Parent,command = "b")
trigger2 = (Partner,command = "b")
trigger3 = (Parent,command = "c")
trigger3 = (Partner,command = "c")
trigger4 = (Parent,command = "x")
trigger4 = (Partner,command = "x")
trigger5 = (Parent,command = "y")
trigger5 = (Partner,command = "y")
trigger6 = (Parent,command = "z")
trigger6 = (Partner,command = "z")
trigger7 = (Parent,command = "s")
trigger7 = (Partner,command = "s")
trigger8 = (var(8):=0)
var(8) = 1

[State 9742, DirTurnOnAI]
type = ParentVarSet
trigger1 = var(1)
trigger1 = var(6)
trigger1 = !var(3)
trigger1 = !var(4)
trigger1 = !var(9)
var(6) = 1

[State 9742, DirTurnOffAI]
type = ParentVarSet
triggerall = var(6)
triggerall = !var(3)
triggerall = Parent,var(6)
trigger1 = (command = "holdfwd")
trigger1 = (Parent,command = "holdfwd")
trigger2 = (command = "holdback")
trigger2 = (Parent,command = "holdback")
trigger3 = (command = "holdup")
trigger3 = (Parent,command = "holdup")
trigger4 = (command = "holddown")
trigger4 = (Parent,command = "holddown")
var(6) = 0

[State 9742, ButtonTurnOnAI]
type = ParentVarSet
trigger1 = var(5)
trigger1 = var(7)
trigger1 = !var(2)
trigger1 = !var(8)
var(6) = 1

[State 9742, ButtonTurnOffAI]
type = ParentVarSet
triggerall = var(7)
triggerall = !var(2)
triggerall = !var(8)
trigger1 = (command = "a")
trigger1 = (Parent,command = "a")
trigger2 = (command = "b")
trigger2 = (Parent,command = "b")
trigger3 = (command = "c")
trigger3 = (Parent,command = "c")
trigger4 = (command = "x")
trigger4 = (Parent,command = "x")
trigger5 = (command = "y")
trigger5 = (Parent,command = "y")
trigger6 = (command = "z")
trigger6 = (Parent,command = "z")
trigger7 = (command = "s")
trigger7 = (Parent,command = "s")
var(6) =0

[State 9742, UnPauseCheck]
type = VarSet
triggerall = var(2)
triggerall = !var(4)
trigger1 = var(7)
trigger2 = (var(2) = 2)
trigger2 = (var(2):=0)
var(2) = 2

[State 9742, Goodbye]
type = DestroySelf
trigger1 = Parent,var(6)
trigger2 = !(Parent,Alive)
trigger3 = (RoundState != 2)

[State 9742, HitPauseCheck]
type = VarSet
trigger1 = var(6)
trigger2 = var(7)
trigger3 = !(Parent,HitPauseTime)
var(4) = Parent,HitPauseTime

[State 9742, Delay]
type = VarSet
trigger1 = (var(1):=1)
var(5) = !var(7)




[Statedef -3]

[State 0, StopSnd]
type = StopSnd
trigger1 =  stateno = [5000,5200]
channel = 31

[State 0, StopSnd]
type = StopSnd
trigger1 =  stateno = 0
channel = 18

[State -3]
type = explod
trigger1 = life = 2500
trigger1 = roundstate != 0
trigger1 = numexplod(753) = 0
trigger1 = stateno = 180
anim = 753
id = 753
ignorehitpause = 1
bindtime = -1
postype = left
pos = 160,80
scale = 0.5,0.5
sprpriority = 20
[State -3]
type = PlaySnd
trigger1 = roundstate != 0
trigger1 = stateno = 180
trigger1 = life = 2500
value = S777,39
volume = 0
channel = -1

;This controller plays a sound everytime KFM lands from a jump, or
;from his back-dash.
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
value = 3, 9
;------------------------------------------
[State -3, recivir golpe Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 5000 
value = 5000, 1

[State -3, recivir golpe Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 5070
value = 5000, 0
;---------------------------------------
[State -3, saltar Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 40 ;Jump 
trigger2 = stateno = 50 ;Jump
value = 40,0

[State -3, correr Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 100 ;correr
trigger2 = stateno = 105 ;correr
trigger3 = stateno = 60 ;correr
trigger4 = stateno = 65 ;correr
value = 100,0


;----------------------------------------------------------------
[State -3]
type = ChangeState
triggerall = alive = 1 && statetype = S
trigger1 = stateno = 230 && (movecontact) && command = "b"
value =  241
[State -3]
type = ChangeState
triggerall = alive = 1 && statetype = S
trigger1 = stateno = 241 && (movecontact)  && command = "a"
value =  270

;----------------------------------------------------------------
[State -3]
type = ChangeState
triggerall = alive = 1 && statetype = S
trigger1 = stateno = 200 && (movecontact) && command = "y"
trigger1  = Time > 6
trigger2 = stateno = 250 && (movecontact) && command = "x"
value =  210


[State -3]
type = ChangeState
triggerall = alive = 1 && statetype = S 
trigger1 = stateno = 210 && (movecontact) && command = "y"   ;subir p2
value =  201

[State -3]
type = ChangeState
triggerall = alive = 1 && statetype = S 
trigger1 = stateno = 201 && (movehit) && command = "y"
trigger1  = Time > 6
value =  202

[State -3]
type = ChangeState
triggerall = alive = 1 && statetype = S 
trigger1 = stateno = 203 && (movehit) && command = "x"
trigger1  = Time > 6
value =  203

[State -3]
type = ChangeState
triggerall = alive = 1 && statetype = S
trigger1 = stateno = 20322 && (movehit) && command = "c"
trigger1  = Time > 12
value =  204
;_---------------------------------------------------------------
;barrida combo
[State -3]
type = ChangeState
triggerall = alive = 1 && statetype = S 
trigger1 = stateno = 280 && (movehit) && command = "y"
value =  202

[State -3]
type = ChangeState
triggerall = alive = 1 && statetype = S
trigger1 = stateno = 2203 && (movehit) && command = "c"
value =  20222
[State -3]
type = AssertSpecial
trigger1 = anim = 75002
flag = noshadow
[State -3]
type = StopSnd
trigger1 = p2life = 0
channel = 10
[State -3]
type = VarSet
triggerall = !RoundState
triggerall = IsHomeTeam
trigger1 = (TeamSide = 2)
trigger2 = (MatchNo > 1)
var(6) = 1
[State -3]
type = VarSet
trigger1 = !RoundState
trigger1 = (var(6) != 1)
trigger1 = NumPartner
trigger1 = (ID > Partner,ID)
trigger1 = (TeamSide = 2)
var(6) = 1
[State -3]
type = Helper
trigger1 = !var(6)
trigger1 = !NumHelper(9742)
trigger1 = (RoundState = 2)
trigger1 = Alive
trigger1 = NumPartner
trigger1 = Partner,SelfAnimExist(9741)
HelperType = normal
name = "inteligencia artificial"
ID = 9742
pos = 9999999,99999
StateNo = 9742
KeyCtrl = 1
PauseMoveTime = 999999999
SuperMoveTime = 999999999
[State -3]
type = Helper
triggerall = !var(6)
triggerall = !NumHelper(9741)
triggerall = (RoundState = 2)
triggerall = Alive
trigger1 = !NumPartner
trigger2 = !(Partner,SelfAnimExist(9741))
HelperType = normal
name = "inteligencia artificial"
ID = 9741
pos = 9999999,99999
StateNo = 9741
KeyCtrl = 1
PauseMoveTime = 999999999
SuperMoveTime = 999999999
;-------------------------------------------------------------------

[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist X < 30
triggerall = P2BodyDist X > 0
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 1090
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist X < 200
triggerall = P2BodyDist X > 100
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 797979
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist X < 400
triggerall = P2BodyDist X > 200
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 696969
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist X > 50
triggerall = numproj = 0
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 12002
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist y > 50
triggerall = numproj = 0
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 1100
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist x > 250
triggerall = numproj = 0
triggerall = power >= 2000
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 8989
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist x > 0
triggerall = numproj = 0
triggerall = power = 3000
trigger1 = P2StateType = S
value = 42385
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = power >= 2000
triggerall = numproj = 0
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value =  381
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist x > 80
triggerall = P2BodyDist y = 0
triggerall = numproj = 0
triggerall = power >= 1500
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 3000
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist x > 30
triggerall = P2BodyDist y = 0
triggerall = numproj = 0
triggerall = power >= 2000
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 3030
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = power >= 1000
triggerall = numproj = 0
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value =  1765
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = power >= 3000
trigger1 = life < 300
trigger2 = P2MoveType = A
value =  113
[State -3 ]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
trigger1 = stateno = [5110,5120]
value = 3131
[State -3]
type = ChangeState
triggerall = Var(6)= 1
triggerall = stateno = 910
trigger1 = p2statetype = S
trigger1 = p2bodydist Y > 40
value = 1600
[State -3]
type = ChangeState
triggerall = Var(6)= 1
triggerall = stateno = 900
trigger1 = p2statetype = S
trigger1 = p2bodydist Y > 40
value = 1600
[State -3]
type = ChangeState
triggerall = Var(30)= 1
triggerall = p2stateno = 900
trigger1 = time = 0
value = 2221
[State -3]
type = ChangeState
triggerall =var(6) = 1 && Life != 0 && P2Life != 0  && stateno!=1900 && Power >=1500
triggerall = statetype = S
triggerall = ctrl = 1
trigger1 = p2movetype = A || (enemy, NumProj >= 1)
trigger1 = p2bodydist x >= 100 && Random < 300
value = 1600
[State -3]
type = ChangeState
triggerall = Var(6)= 1
triggerall =ctrl = 1
triggerall = StateType != A && random <= 900
triggerall = EnemyNear, StateType != C
triggerall = EnemyNear, MoveType = A
trigger1 = ctrl = 1 && (P2Movetype = A)
trigger2 = (Enemy, NumProj >= 1)
trigger3 =(Enemy, NumHelper>= 1)
trigger4= EnemyNear, MoveType = A
value = 150
[State -3]
type = ChangeState
triggerall = Var(6)= 1
triggerall =ctrl = 1
triggerall = StateType != A
triggerall = EnemyNear, statetype = C
triggerall = EnemyNear, Movetype = A
trigger1 = stateno = 150
trigger2 = (Enemy, NumProj >= 1)
trigger3 =(Enemy, NumHelper>= 1)
trigger4= EnemyNear, MoveType = A
value = 152
[State -3]
type = ChangeState
triggerall = Var(6)= 1
triggerall =ctrl = 1
triggerall = StateType != A && random <= 900
triggerall = EnemyNear, statetype = C
triggerall = EnemyNear, Movetype = A
trigger1 = ctrl = 1 && (P2Movetype = A)
trigger2 = (Enemy, NumProj >= 1)
trigger3 =(Enemy, NumHelper>= 1)
trigger4= EnemyNear, MoveType = A
value = 152
[State -3]
type = ChangeState
triggerall = Var(6)= 1
triggerall =ctrl = 1
triggerall = StateType != A
triggerall = EnemyNear, statetype != C
triggerall = EnemyNear, Movetype = A
trigger1 = stateno = 152
trigger2 = (Enemy, NumProj >= 1)
trigger3 =(Enemy, NumHelper>= 1)
trigger4= EnemyNear, MoveType = A
value = 150
[State -3]
type = ChangeState
triggerall =Var(6)= 1
triggerall =ctrl = 1
triggerall = StateType = A && random <= 900
triggerall = EnemyNear, Movetype = A
trigger1 = ctrl = 1 && (P2Movetype = A)
trigger2 = (Enemy, NumProj >= 1)
trigger3 =(Enemy, NumHelper>= 1)
trigger4= EnemyNear, MoveType = A
value = 154
[State -3]
type = ChangeState
triggerall =Var(6)= 1
triggerall =ctrl = 1
triggerall =StateType != A && Stateno= 1510 && random <= 900
triggerall = EnemyNear, statetype != C
triggerall = EnemyNear, Movetype = A
trigger1 = ctrl = 1 && (P2Movetype = A)
trigger2 = (Enemy, NumProj >= 1)
trigger3 =(Enemy, NumHelper>= 1)
trigger4= EnemyNear, MoveType = A
value = 130
[State -3]
type = ChangeState
triggerall = var(6)=1 && stateno!=[800,801]
triggerall =  Life != 0 && P2Life != 0
triggerall = statetype = S && EnemyNear, Statetype = S  && EnemyNear, StateType != A
triggerall = ctrl = 1  && stateno!=100    && stateno!=[800,801]
triggerall = prevstateno!=100 && movetype!=A
trigger1 =p2bodydist x > 70 && p2bodydist x < 400  && Random < 200
value = 100
ctrl = 0
[State -3]
type = ChangeState
triggerall = var(6) = 1 && Pos y=0 && Random >200
triggerall =statetype = S && Life != 0 && P2Life != 0 && P2movetype=H && P2BodyDist X > 0
triggerall = p2stateno = [645,646]
trigger1 = ctrl =1
value = 100
ctrl = 0
[State -3]
type = ChangeState
triggerall =    Var(6)= 1
triggerall =Pos y =0 && Life != 0 && P2Life != 0  && Random < 450
triggerall = statetype != A && p2stateno != [5110,5150]
triggerall = ctrl = 1
trigger1 = p2movetype != A
trigger1 = p2bodydist x > 0 && p2bodydist x < 40
value = 201
[State -3]
type = ChangeState
triggerall =    Var(6)= 1
triggerall =Pos y =0 && Life != 0 && P2Life != 0  && Random < 370
triggerall = statetype != A && p2stateno != [5110,5150]
triggerall = ctrl = 1
trigger1 = p2movetype != A
trigger1 = p2bodydist x > 0 && p2bodydist x < 40
value = 200
[State -3]
type = ChangeState
triggerall = Var(6)= 1 && Life != 0 && P2Life != 0  && Random < 300
triggerall = statetype != A && p2stateno != 403 || p2stateno != 503 && p2stateno != [5110,5150]
triggerall = ctrl = 1 && stateno!=900 && stateno!=501
triggerall =prevstateno!=900 && prevstateno!=501 && p2bodydist Y =0 && movetype != A
trigger1 = p2movetype != A
trigger1 =p2bodydist x > 0 && p2bodydist x < 22
value = 800

