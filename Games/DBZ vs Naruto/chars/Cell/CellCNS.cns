;==============================
;"Cell", from Super Boutuden 2
;==============================

;----------------------------------------
;Author:	The Necromancer
;		flowergirl@cutey.com
;----------------------------------------

;===========================================================================
;-| Notes |-----------------------------------------------------------------
;None!

;--------------
;Integer Variables:
;--------------

;0: Long Jump
;1: Intro/Win/Lose
;2: AI Activation
;3: Combo Detection
;4: Corner Push
;5: Command
;6: Zanzouken
;7: Chou KameHameHa
;8: HitSpark Position X
;9: HitSpark Position Y
;10: Corner Juggle Limit

;--------------
;Float Variables:
;--------------

;0: Velocity X
;1: Velocity Y

;===========================================================================
;-| Data |------------------------------------------------------------------

;---------------------------------------------------------------------------
[Data]
life 		= 1200
attack 		= 120
defence 	= 110
power		= 3000
fall.defence_up = 50
liedown.time 	= 40
airjuggle 	= 15
sparkno 	= S9010
guard.sparkno 	= -1
KO.echo 	= 0
volume 		= 255
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale 		= 1
yscale 		= 1
ground.back 	= 20
ground.front 	= 20
air.back 	= 20
air.front 	= 20
height 		= 75
attack.dist 	= 160
proj.attack.dist = 90
proj.doscale 	= 0
head.pos 	= 9,-76
mid.pos 	= 1,-55
shadowoffset 	= 0
draw.offset 	= 0,1

[Velocity]
walk.fwd  	= 1.6
walk.back 	= -1.5
run.fwd  	= 9,0
run.back 	= -10.1,0
jump.neu 	= 0,-8.8
jump.back 	= -3.5
jump.fwd 	= 3
runjump.back 	= -2.0,-8
runjump.fwd 	= 4,-8
airjump.neu 	= 0,-8
airjump.back 	= -2.0.-8
airjump.fwd 	= 2.0,-8

[Movement]
airjump.num 	= 0
airjump.height 	= 35
yaccel 		= .45
stand.friction 	= .85
crouch.friction = .82

;===========================================================================
;-| Intro/Win/Lose |--------------------------------------------------------

;---------------------------------------------------------------------------
;Lose State
[Statedef 170]
type 			= S
movetype		= I
physics		= S
anim			= 170
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 170: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= (Time < 120)
flag 			= RoundNotOver

[State 170: 	NotHotBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

;---------------------------------------------------------------------------
;Win State Decider
[Statedef 180]
type 			= S
movetype		= I
physics		= S
;anim			= 180
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 180: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= 1
flag 			= RoundNotOver

[State 180: 	NotHotBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

[State 180:		ChangeState]
type			= ChangeState
trigger1		= (Time)
value			= (IfElse((Life > 700),181,(IfElse((Life = [300,699]),182,183))))

;---------------------------------------------------------------------------
;Win001
[Statedef 181]
type 			= S
movetype		= I
physics		= S
anim			= 181
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 181: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= (Time < 200)
flag 			= RoundNotOver

[State 181: 	NotHotBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

[State 181:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S6,0
channel		= 0
volume = 5


;---------------------------------------------------------------------------
;Win002
[Statedef 182]
type 			= S
movetype		= I
physics		= S
anim			= 182
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 182: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= (Time < 200)
flag 			= RoundNotOver

[State 182: 	NotHotBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

;---------------------------------------------------------------------------
;Win003
[Statedef 183]
type 			= S
movetype		= I
physics		= S
anim			= 183
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 183: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= (Time < 200)
flag 			= RoundNotOver

[State 183: 	NotHotBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

[State 183:		PlaySnd]
type			= PlaySnd
trigger1		= (Random < 250) && (AnimElem = 2)
value			= S0,7

;---------------------------------------------------------------------------
;PreIntro
[Statedef 190]
type 			= S
movetype		= I
physics		= N
;anim			= 190
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

;[State 190:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Invisible
flag2			= NoBarDisplay
flag3			= NoMusic

[State 190: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (SelfAnimExist(190))
value 		= 190

[State 190: 	ChangeState] 
type 			= ChangeState
trigger1		= (!Time)
value 		= 191


 
;---------------------------------------------------------------------------
;Intro001:
[Statedef 191]
type 			= S
movetype		= I
physics		= N
anim			= 191
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

;[State 191:		AssertSpecial]
type			= AssertSpecial
trigger1		= (Time < 150)
flag			= Intro
flag2			= NoBarDisplay
flag3			= NoMusic

[State 191:		NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 191, PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 4)
value = 6,1
volume = 0
channel = -1

;===========================================================================
;-| Basic |-----------------------------------------------------------------

;---------------------------------------------------------------------------
;Stand Weak Punch
[Statedef 200]
type 		= S
movetype	= A
physics		= S
anim		= 200
;velset		= 0,0
ctrl		= 0
poweradd	= 40
juggle		= 2
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 200:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 200:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2, = 0)
attr		= S, NA
hitflag		= MAF
guardflag	= M
animtype	= Light
air.animtype	= Back
priority	= 5, Hit
damage		= 20,0
pausetime	= 8,6
guard.pausetime	= 8,6
sparkno		= S7002
guard.sparkno	= S7007
sparkxy		= -10,-59
hitsound	= S2,9
guardsound	= S0,9
ground.type	= High
air.type	= Low
ground.slidetime = 10
ground.hittime	= 10
air.hittime	= 10
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -3,-4.7
airguard.velocity	= -3,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 200
getpower		= 20
givepower		= 20

[State 200:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

[State 410:		ChangeState]
type			= ChangeState
triggerall              = time > 5
trigger1		= command = "x"
value			= 210


;---------------------------------------------------------------------------
;Stand Punch 2
[Statedef 210]
type 		= S
movetype	= A
physics		= S
anim		= 210
;velset		= 0,0
ctrl		= 0
poweradd	= 40
juggle		= 4
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 210:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 210:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2)
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage		= 20,0
pausetime	= 8,6
guard.pausetime	= 8,6
sparkno		= S7003
guard.sparkno	= S7007
sparkxy		= -10,-67
hitsound		= S2,3
guardsound		= S0,9
ground.type		= High
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -3,-4.7
airguard.velocity	= -3,-4.7
ground.cornerpush.veloff = -8
id			= 210
getpower		= 40
givepower		= 40

[State 210:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0


;---------------------------------------------------------------------------
;Stand High Punch - Codazo
[Statedef 215]
type 		= S
movetype	= A
physics		= S
anim		= 215
;velset		= 0,0
ctrl		= 0
poweradd	= 50
juggle		= 4
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 212:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S0,2


[State 0, VelSet]
type = posadd
trigger1 = animelem = 2 || animelem = 3 || animelem = 4
x = 5
y = 0


[State 212:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 3)
attr		= S, NA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 52
pausetime	= 10,8
guard.pausetime	= 10,8
sparkno		= S7004
guard.sparkno	= S7007
sparkxy		= -35,-46
hitsound	= S2,3
guardsound	= S0,9
ground.type	= High
air.type	= Low
ground.slidetime= 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -5,-5.7
airguard.velocity = -5,-5.7
ground.cornerpush.veloff = -8
air.fall	= 1
id		= 215
getpower	= 40
givepower	= 40

[State 212:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Stand command Kick - salto
[Statedef 220]
type 		= A
physics		= S
anim		= 220
;velset		= 0,0
ctrl		= 0
poweradd	= 40
juggle		= 3
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2


[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 5
y = -2


[State 0, VelAdd]
type = VelAdd
trigger1 = Time > 0
x = 0.1
y = 0.5


[State 220:		ChangeState]
type			= ChangeState
triggerall              = time > 2
trigger1		= pos y > 0
value			= 221


;---------------------
;Stand command Kick - hit
[Statedef 221]
type 		= S
movetype	= A
physics		= S
anim		= 221
velset		= 0,0
ctrl		= 0
poweradd	= 50
juggle		= 3
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2


[State 200:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 2)
value		= S2,7


[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 220:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2, = 0)
attr		= S, NA
hitflag		= MAF
guardflag	= M
animtype	= Light
air.animtype	= Back
priority	= 5, Hit
damage		= 26
pausetime	= 8,6
guard.pausetime	= 8,6
sparkno		= S7004
guard.sparkno	= S7007
sparkxy		= -20,-53
hitsound	= S2,8
guardsound	= S0,9
ground.type	= Low
air.type	= Low
ground.slidetime= 10
ground.hittime	= 10
air.hittime	= 10
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -3,-4.7
airguard.velocity	= -3,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 220
getpower		= 20
givepower		= 20

[State 220:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Stand Weak Kick
[Statedef 225]
type 		= S
movetype	= A
physics		= S
anim		= 225
;velset		= 0,0
ctrl		= 0
poweradd	= 50
juggle		= 3
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 1 || animelem = 2
x = 5


[State 200:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 2)
value		= S2,7




[State 220:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2, = 0)
attr		= S, NA
hitflag		= MAF
guardflag	= M
animtype	= Light
air.animtype	= Back
priority	= 5, Hit
damage		= 26
pausetime	= 8,6
guard.pausetime	= 8,6
sparkno		= S7005
guard.sparkno	= S7007
sparkxy		= -20,-23
hitsound	= S2,8
guardsound	= S0,9
ground.type	= Low
air.type	= Low
ground.slidetime= 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -3,-4.7
airguard.velocity	= -3,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 220
getpower		= 20
givepower		= 20

[State 220:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0


;---------------------------------------------------------------------------
;Stand Strong Kick
[Statedef 230]
type 		= S
movetype	= A
physics		= S
anim		= 230
;velset		= 0,0
ctrl		= 0
poweradd	= 40
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 200:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S0,2

[State 230:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2, = 0)
attr			= S, NA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage		= 52
pausetime	= 11,9
guard.pausetime	= 11,9
sparkno		= S7004
guard.sparkno	= S7007
sparkxy		= -30,-64
hitsound		= S2,3
guardsound		= S0,9
ground.type		= High
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -5.5,-5.7
airguard.velocity	= -5.5,-5.7
ground.cornerpush.veloff = -8
air.fall		= 1
id			= 230
getpower		= 40
givepower		= 40

[State 230:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Crouch Weak Punch
[Statedef 400]
type 		= C
movetype	= A
physics		= C
anim		= 400
;velset		= 0,0
ctrl		= 0
poweradd	= 50
juggle		= 2
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 400:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,7

[State 400:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2, = 0)
attr			= C, NA
hitflag		= MAF
guardflag		= M
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage		= 26
pausetime		= 8,6
guard.pausetime	= 8,6
sparkno		= S7002
guard.sparkno	= S7007
sparkxy		= 10,-46
hitsound		= S2,9
guardsound		= S0,9
ground.type		= Low
air.type		= Low
ground.slidetime	= 10
ground.hittime	= 10
air.hittime		= 10
yaccel		= 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 400
getpower		= 20
givepower		= 20

[State 410:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11

;---------------------------------------------------------------------------
;Crouch Strong Punch
[Statedef 410]
type 		= C
movetype	= A
physics		= C
anim		= 410
;velset		= 0,0
ctrl		= 0
poweradd	= 50
juggle		= 4
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 410:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S0,2

[State 0, VelSet]
type = posadd
trigger1 = animelem = 2
x = 5
y = 0



[State 410, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0


[State 410:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2, = 0)
attr			= C, NA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage		= 40
pausetime	= 10,8
guard.pausetime	= 10,8
sparkno		= S7005
guard.sparkno	= S7007
sparkxy		= 5,-66
hitsound		= S2,3
guardsound		= S0,9
ground.type		= Low
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= -5,-5.7
airguard.velocity	= -5,-5.7
ground.cornerpush.veloff = -8
id			= 410
getpower		= 40
givepower		= 40

[State 410:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11

[State 410:		ChangeState]
type			= ChangeState
triggerall              = time > 10
trigger1		= command = "y"
value			= 415

;---------------------------------------------------------------------------
;Crouch Strong Punch
[Statedef 415]
type 		= C
movetype	= A
physics		= C
anim		= 415
;velset		= 0,0
ctrl		= 0
poweradd	= 50
juggle		= 4
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 410:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1)
value			= S0,2

[State 0, VelSet]
type = posadd
trigger1 = animelem = 1
x = 5
y = 0


[State 410, Width]
type = Width
trigger1 = (AnimElemTime (1) >= 0) && (AnimElemTime (7) < 0)
value = 15,0


[State 410:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 1, = 0)
attr			= C, NA
hitflag		= MAF
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage		= 20
pausetime	= 10,8
guard.pausetime	= 10,8
sparkno		= S7004
guard.sparkno	= S7007
sparkxy		= 10,-46
hitsound		= S2,3
guardsound		= S0,9
ground.type		= Low
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= -5,-5.7
airguard.velocity	= -5,-5.7
ground.cornerpush.veloff = -8
id			= 410
getpower		= 40
givepower		= 40

[State 410:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11

;---------------------------------------------------------------------------
;Crouch Weak Kick
[Statedef 420]
type 		= C
movetype	= A
physics		= C
anim		= 420
;velset		= 0,0
ctrl		= 0
poweradd	= 50
juggle		= 3
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 420:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,7

[State 430:		VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= 3.5

[State 1030:	MakeDust]
type			= MakeDust
trigger1 		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
pos 			= -5, 0
spacing 		= 4


[State 420:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2, = 0)
attr			= C, NA
hitflag		= M
guardflag		= L
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage		= 26
pausetime		= 8,6
guard.pausetime	= 8,6
sparkno		= S7004
guard.sparkno	= S7007
sparkxy		= 10,-3
hitsound		= S2,8
guardsound		= S0,9
ground.type		= Low
air.type		= Low
ground.slidetime	= 10
ground.hittime	= 10
air.hittime		= 10
yaccel		= 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 420
getpower		= 20
givepower		= 20

[State 420:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11

;---------------------------------------------------------------------------
;Crouch Strong Kick
[Statedef 430]
type 		= C
movetype	= A
physics		= N
anim		= 430
;velset		= 0,0
ctrl		= 0
poweradd	= 50
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 430:		PlayerPush]
type			= PlayerPush
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && (!MoveContact)
value			= 0


[State 430:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,10


[State 430:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2)
attr		= C, NA
hitflag		= MA
guardflag	= L
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 40
pausetime	= 10,8
guard.pausetime	= 10,8
sparkno		= S7005
guard.sparkno	= S7007
sparkxy		= 10,-6
hitsound	= S2,11
guardsound	= S0,9
ground.type	= Trip
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -3.5,-3
guard.velocity	= -3.5
air.velocity	= -3.5,-3
airguard.velocity	= -1.5,-3
ground.cornerpush.veloff = -1.5
fall			= 1
fall.recover	= 0
id			= 460
getpower		= 40
givepower		= 40
persistent		= 0

[State 430:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11

;---------------------------------------------------------------------------
;Jump Weak Punch
[Statedef 600]
type 		= A
movetype	= A
physics		= A
anim		= 600
;velset		= 0,0
ctrl		= 0
poweradd	= 50
juggle		= 2
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 600:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 2)
value		= S2,5

[State 600:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2, = 0)
attr		= A, NA
hitflag		= MAF
guardflag	= H
animtype	= Light
air.animtype	= Back
priority	= 5, Hit
damage		= 26
pausetime	= 8,6
guard.pausetime	= 8,6
sparkno		= S7002
guard.sparkno	= S7007
sparkxy		= -5,-31
hitsound	= S2,9
guardsound	= S0,9
ground.type	= Low
air.type	= Low
ground.slidetime= 10
ground.hittime	= 10
air.hittime	= 10
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -4,-5
airguard.velocity	= -4,-1
ground.cornerpush.veloff = -1
id			= 600
getpower		= 20
givepower		= 20

[State 430:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 50

;---------------------------------------------------------------------------
;Jump Strong Punch
[Statedef 610]
type 		= A
movetype	= A
physics		= A
anim		= 610
;velset		= 0,0
ctrl		= 0
poweradd	= 50
juggle		= 4
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 610:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,10

[State 610:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2, = 0)
attr		= A, NA
hitflag		= MAF
guardflag	= H
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 35
pausetime	= 10,8
guard.pausetime	= 10,8
sparkno		= S7005
guard.sparkno	= S7007
sparkxy		= -5,-31
hitsound		= S2,3
guardsound		= S0,9
ground.type		= Low
air.type		= Low
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -4.5,-5
airguard.velocity	= -4.5,-1
ground.cornerpush.veloff = -3
id			= 610
getpower		= 40
givepower		= 40

[State 430:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 50

;---------------------------------------------------------------------------
;Jump Weak Kick
[Statedef 620]
type 		= A
movetype	= A
physics		= A
anim		= 620
;velset		= 0,0
ctrl		= 0
poweradd	= 50
juggle		= 3
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 620:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1)
value			= S2,7

[State 620:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 1, = 0)
attr			= A, NA
hitflag		= MAF
guardflag		= H
animtype		= Light
air.animtype	= Back
priority		= 5, Hit
damage		= 26
pausetime		= 8,7
guard.pausetime	= 8,7
sparkno		= S7004
guard.sparkno	= S7007
sparkxy		= -5,-33
hitsound		= S2,8
guardsound		= S0,9
ground.type		= Low
air.type		= Low
ground.slidetime	= 10
ground.hittime	= 10
air.hittime		= 10
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -4,-5
airguard.velocity	= -4,-1
ground.cornerpush.veloff = -1
id			= 620
getpower		= 20
givepower		= 20

[State 430:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 50

;---------------------------------------------------------------------------
;Jump Strong Kick
[Statedef 630]
type 		= A
movetype	= A
physics		= A
anim		= 630
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 630:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 2)
value		= S2,10

[State 630:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 3, = 0)
attr		= A, NA
hitflag		= MAF
guardflag	= H
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 42
pausetime	= 12,10
guard.pausetime	= 12,10
sparkno		= S7005
guard.sparkno	= S7007
sparkxy		= -30,34
hitsound	= S2,11
guardsound	= S0,9
ground.type	= Low
air.type	= Low
ground.slidetime= 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -4.5,5
airguard.velocity	= -4.5,1
ground.cornerpush.veloff = -3
id			= 630
getpower		= 40
givepower		= 40

[State 430:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 50

;---------------------------------------------------------------------------
;Fireball 1
[Statedef 900]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 900
poweradd = -75

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 900:		Helper]
type		= Helper
trigger1	= (AnimElem = 2) && (Power > 50)
helpertype	= Normal
name		= "Fire Ball"
id		= 950
pos		= 45,-57
postype		= p1
facing		= 1
stateno		= 950
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.4
size.yscale     = 0.4

[State 900, Explod]
type = Explod
trigger1 = Animelem = 2
anim =  949
ID = 949
pos = 35,-60
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
Ontop = 1
removetime = 16
removeongethit = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = -2
y = 0
;ignorehitpause =
;persistent =



[State 900, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 4

[State 900, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  0
ctrl= 1


[State 900, 0]
type = ChangeState
triggerall = power >= 50
triggerall = time  > 15
trigger1 = command = "c"
value = 901

;----------------------------------------------
;Fireball   2
[Statedef 901]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 901
poweradd = -75

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 901:		Helper]
type		= Helper
trigger1	= (AnimElem = 2) && (Power > 50)
helpertype	= Normal
name		= "Fire Ball"
id		= 950
pos		= 45,-57
postype		= p1
facing		= 1
stateno		= 950
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.4
size.yscale     = 0.4

[State 901, Explod]
type = Explod
trigger1 = Animelem = 2
anim =  949
ID = 949
pos = 35,-60
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
Ontop = 1
removetime = 16
removeongethit = 1


[State 901, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 4

[State 901, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  0
ctrl= 1

;-----------------------------------------------
;-----------------------------------------------
;Fire Ball Projectile
[Statedef 950]
movetype	= A
anim		= 950
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 950:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 950: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 950:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 950:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0


[State 950:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 3
y			= 0


[State 950:	VelMul]
type		= VelMul
trigger1	= (Time > 0)
x		= 1.06
y		= 1.06

[State 0: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 50
framegap 	= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .90, .90, .90
palcontrast 	= 100, 100, 100
trans 		= add
[State 950:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 40,10
pausetime	= 1,8
sparkno		= s9030
sparkxy		= 0,-5
;guard.sparkxy   = 30, 20
guard.sparkno	= s960
hitsound	= s2,12
guardsound	= s2,12
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= -4,-3
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 100,150,75
palfx.add	= 200,250,125
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4


[State 950:	DestroySelf]
type			= DestroySelf
trigger1 		= movecontact = 1;(Parent, NumProjID(1002) = 0)
trigger2                = time = 200

;----------------------------------------------------------------------
;Fireball 1 en el aire - fire 1
[Statedef 920]
type = A
movetype = A
physics = N
juggle = 4
ctrl = 0
anim = 920
poweradd = -75


[State 2200, VelMul]
type = VelMul
trigger1 = !Time
x = .160
y = .160 ;.2

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 920:		Helper]
type		= Helper
trigger1	= (time = 9) && (Power > 50)
helpertype	= Normal
name		= "Fire Ball Diagonal"
id		= 955
pos		= 50,-32
postype		= p1
facing		= 1
stateno		= 955
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.4
size.yscale     = 0.4

[State 920:		Helper]
type		= Helper
trigger1	=  time = 8
helpertype	= Normal
name		= "Explod"
id		= 949
pos		= 35,-40
postype		= p1
facing		= 1
stateno		= 949
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.5
size.yscale     = 0.5


[State 900, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 4

[State 900, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  991
ctrl= 1

[State 900,GoDown2]
type = VelSet
Trigger1 = pos Y > -1
y = 0



[State 0, ChangeState]
type = ChangeState
triggerall = time > 12
trigger1 = Command = "c"
value = 921
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 =  p2life = 0
value = 50
ctrl = 0

;----------------------------------------------------------------------
;Fireball 1 en el aire - fire 2
[Statedef 921]
type = A
movetype = A
physics = N
juggle = 4
ctrl = 0
anim = 921
poweradd = -75


[State 2200, VelMul]
type = VelMul
trigger1 = !Time
x = .160
y = .160 ;.2

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 920:		Helper]
type		= Helper
trigger1	= (AnimElem = 1) && (Power > 50)
helpertype	= Normal
name		= "Fire Ball Diagonal"
id		= 955
pos		= 50,-32
postype		= p1
facing		= 1
stateno		= 955
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.4
size.yscale     = 0.4

[State 920:		Helper]
type		= Helper
trigger1	=  time = 8
helpertype	= Normal
name		= "Explod"
id		= 949
pos		= 35,-40
postype		= p1
facing		= 1
stateno		= 949
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.5
size.yscale     = 0.5



[State 900, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1, 4

[State 0, ChangeState]
type = ChangeState
trigger1 =  p2life = 0
value = 50
ctrl = 0

[State 900, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  991
ctrl= 1

[State 900,GoDown2]
type = VelSet
Trigger1 = pos Y > -1
y = 50

;-------------------------------------------------------------------
;FireBall Explod - diagonal
[Statedef 949]
movetype	= A
anim		= 949
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 0
value =  -45

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 950:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 950:	DestroySelf]
type			= DestroySelf
trigger1 		= animtime = 0

;-------------------------------------------------------------------

;FireBall Projectile - diagonal
[Statedef 955]
movetype	= A
anim		= 950
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 0
value =  -45

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add


[State 950:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 950: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 950:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 950:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0


[State 950:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 3
y			= 3


[State 950:	VelMul]
type		= VelMul
trigger1	= (Time > 0)
x		= 1.06
y		= 1.06

[State 0: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 50
framegap 	= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .90, .90, .90
palcontrast 	= 100, 100, 100
trans 		= add

[State 950:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 40,10
pausetime	= 1,8
sparkno		= s9030
sparkxy		= 0,-5
;guard.sparkxy   = 30, 20
guard.sparkno	= s960
hitsound	= s2,12
guardsound	= s2,12
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= -4,-3
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 100,150,75
palfx.add	= 200,250,125
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 920:		Helper]
type		= Helper
trigger1	= pos y > 5
helpertype	= Normal
name		= "choque contra el piso"
id		= 956
pos		= 3,0
postype		= p1
facing		= 1
stateno		= 956
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 950:	DestroySelf]
type			= DestroySelf
trigger1 		= movecontact = 1;(Parent, NumProjID(1002) = 0)
trigger2                = pos y > 5
;-----------------------------
;-----------------------------------------------
;Fire Ball Projectile - diagonal  - choque contra el piso
[Statedef 956]
movetype	= A
anim		= 9030
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
value =  -90

[State 2350:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add


[State 950:	DestroySelf]
type			= DestroySelf
trigger1 		= (!animtime)





;---------------------------------------------------------------------------
;Throw001
[Statedef 800]
type 			= S
movetype		= A
physics		= S
anim			= 800
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 800:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1)
value			= S2,7

[State 800:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2)
attr			= S, NT
hitflag		= -M
priority		= 1, Miss
sparkno		= -1
guard.dist		= 0
snap			= 40,0
p2facing		= 1
p1stateno		= 805
p2stateno		= 806
forcestand		= 1
fall			= 1
id			= 800
getpower		= 50
givepower		= 50

[State 800:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Throw001: Success
[Statedef 805]
type 			= S
movetype		= A
physics		= S
anim			= 805
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 805:		NotHitBy]
type			= NotHitBy
trigger1		= (AnimElem = 3, < 6)
value			= SCA

[State 805:		PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 805:		SprPriority]
type			= SprPriority
trigger1		= (AnimElem = 2)
value			= -1

[State 805:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S4,3

[State 805:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,0

[State 805:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 1, > 0) && (AnimElem = 2, < 0)
time			= 1
id			= -1
pos			= 40,0

[State 805:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 2, < 5)
time			= 1
id			= -1
pos			= 33,-5

[State 805:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 2, > 5) && (AnimElem = 3, < 0)
time			= 1
id			= -1
pos			= 20,-10

[State 805:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 3, > 0) && (AnimElem = 3, < 4)
time			= 1
id			= -1
pos			= -20,-20

[State 805:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 3, = 4)
time			= 1
id			= -1
pos			= -41,-40

[State 805:		TargetVelSet]
type			= TargetVelSet
trigger1		= (AnimElem = 3, = 5)
id			= -1
x			= -3
y			= -7

[State 805:		TargetLifeAdd]
type			= TargetLifeAdd
trigger1		= (AnimElem = 3, = 5)
value			= -80
id			= -1
kill			= 1

[State 805:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Throw001: Opponent
[Statedef 806]
type 			= A
movetype		= H
physics		= N
;anim			= 806
velset		= 0,0
ctrl			= 0
poweradd		= 80
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 806:		ChangeAnim2]
type			= ChangeAnim2
trigger1		= (!Time)
value			= 806

[State 806:		ChangeAnim]
type			= ChangeAnim
trigger1		= (!AnimTime) && (Anim = 806)
value			= 5070

[State 806:		Turn]
type			= Turn
trigger1		= (Anim = 5070)
persistent		= 0

[State 806:		VelAdd]
type			= VelAdd
trigger1		= (Anim = 5070)
y			= 0.45

[State 806:		SelfState]
type			= SelfState
trigger1		= (Pos Y >= -10) && (Anim = 5070)
value			= 5100


;===========================================================================
;-| Special Motions |---------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Rushing Suki Combo 1 - start
[Statedef 1010]
type 		= S
movetype	= A
physics		= N
anim		= 1010
;velset		= 0,0
ctrl		= 0
poweradd	= 50
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2


[State 1010:	MakeDust]
type			= MakeDust
trigger1 		= (AnimElem = 2, > 0)
pos 			= -5, 0
spacing 		= 1

[State 1010:	PlayerPush]
type			= PlayerPush
trigger1		= (AnimElem = 2, > 0)
value			= 0



[State 1010:	VelAdd]
type 			= VelAdd
triggerall              = vel X <= 4
trigger1 		= time >=0
x			= 0.2

[State 1010:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= 7

[State 1010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,1

[State 1010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 1010, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 2)
anim =  7100
ID =    7100
pos =  5,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 1300,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 1010:	ChangeState]
type			= ChangeState
trigger1		= P2bodydist X <= 30
value			= 1011

[State 1010:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0


;-----------------------------------------
;Rushing Suki Combo - 1rst Hit
[Statedef 1011]
type 		= S
movetype	= A
physics		= N
anim		= 1011
;velset		= 0,0
ctrl		= 0
poweradd	= 50
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1011:	VelAdd]
type 			= VelAdd
triggerall              = vel X <= 4
trigger1 		= time >=0
x			= 0.2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,9
volume = 50
channel = 3


[State 1011:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2)
attr		= C, SA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 30
pausetime	= 10,12
guard.pausetime	= 10,12
sparkno		= S7003
guard.sparkno	= s7007
sparkxy		= -10,-50
hitsound	= S2,0
guardsound	= S0,9
ground.type	= Low
air.type	= Trip
ground.slidetime = 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -2
guard.velocity	= -2
air.velocity	= -2,-3
airguard.velocity = -2,-3
ground.cornerpush.veloff = -1.5
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-4
id			= 1020
getpower		= 40
givepower		= 40
persistent		= 0

[State 1011:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

[State 1011:	ChangeState]
type			= ChangeState
triggerall              = time > 8
trigger1		= command = "x"
value			= 1012

[State 1011:	ChangeState]
type			= ChangeState
triggerall              = time > 8
trigger1		= command = "y"
value			= 1013

;-----------------------------------------
;Rushing Suki Combo - 2nd Hit
[Statedef 1012]
type 		= S
movetype	= A
physics		= N
anim		= 1012
;velset		= 0,0
ctrl		= 0
poweradd	= 50
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1011:	VelAdd]
type 			= VelAdd
triggerall              = vel X <= 2
trigger1 		= time >=0
x			= 0.2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,9
volume = 50
channel = 4



[State 3001, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 2)
anim =  7201
ID =    7201
pos =  20,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.5,0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 1011:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2)
attr		= C, SA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 20
pausetime	= 10,12
guard.pausetime	= 10,12
sparkno		= S7003
guard.sparkno	= s7007
sparkxy		= -10,-36
hitsound	= S2,0
guardsound	= S0,9
ground.type	= Low
air.type	= Trip
ground.slidetime = 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -2
guard.velocity	= -2
air.velocity	= -2,-3
airguard.velocity = -2,-3
ground.cornerpush.veloff = -1.5
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-4
id			= 1020
getpower		= 40
givepower		= 40
persistent		= 0


[State 1011:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 3)
attr		= C, SA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 20
pausetime	= 10,12
guard.pausetime	= 10,12
sparkno		= S7005
guard.sparkno	= s7007
sparkxy		= -10,-76
hitsound	= S2,0
guardsound	= S0,9
ground.type	= Low
air.type	= Trip
ground.slidetime = 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -1.5,-10
guard.velocity	= -8
air.velocity	= -1.5,-10
airguard.velocity	= -8
ground.cornerpush.veloff = -2
fall            = 1
air.fall	= 1
id		= 1010
getpower	= 60
givepower	= 60
persistent	= 0



[State 1011:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;-----------------------------------------
;Rushing Suki Combo - 3rd Hit
[Statedef 1013]
type 		= S
movetype	= A
physics		= N
anim		= 1013
;velset		= 0,0
ctrl		= 0
poweradd	= 50
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1011:	VelAdd]
type 			= VelAdd
triggerall              = vel X <= 2
trigger1 		= time >=0
x			= 0.2


[State 1011:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2)
attr		= C, SA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 30
pausetime	= 10,12
guard.pausetime	= 10,12
sparkno		= S7003
guard.sparkno	= s7007
sparkxy		= -10,-50
hitsound	= S2,0
guardsound	= S0,9
ground.type	= Low
air.type	= Trip
ground.slidetime = 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -2
guard.velocity	= -2
air.velocity	= -2,-3
airguard.velocity = -2,-3
ground.cornerpush.veloff = -1.5
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-4
id			= 1020
getpower		= 40
givepower		= 40
persistent		= 0

[State 1011:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

[State 1011:	ChangeState]
type			= ChangeState
triggerall              = time > 8
trigger1		= command = "y"
value			= 1014


;-----------------------------------------
;Rushing Suki Combo - 4th Hit
[Statedef 1014]
type 		= S
movetype	= A
physics		= N
anim		= 1014
;velset		= 0,0
ctrl		= 0
poweradd	= 50
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1011:	VelAdd]
type 			= VelAdd
triggerall              = vel X <= 2
trigger1 		= time >=0
x			= 0.2


[State 1011:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 1)
attr		= C, SA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 20
pausetime	= 10,12
guard.pausetime	= 10,12
sparkno		= S7004
guard.sparkno	= s7007
sparkxy		= -10,-56
hitsound	= S2,0
guardsound	= S0,9
ground.type	= Low
air.type	= Trip
ground.slidetime = 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -2
guard.velocity	= -2
air.velocity	= -2,-3
airguard.velocity = -2,-3
ground.cornerpush.veloff = -1.5
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-4
id			= 1020
getpower		= 40
givepower		= 40
persistent		= 0


[State 1011:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

[State 1011:	ChangeState]
type			= ChangeState
triggerall              = time > 5
trigger1		= command = "y"
value			= 1015


;-----------------------------------------
;Rushing Suki Combo - 5th Hit
[Statedef 1015]
type 		= S
movetype	= A
physics		= N
anim		= 1015
velset		= 0,0
ctrl		= 0
poweradd	= 50
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S4,2
volume = 50
channel = 4


[State 1011:	VelAdd]
type 			= Velmul
trigger1 		= time >= 0
x			= 0.8


[State 1011:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2)
attr		= C, SA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 60
pausetime	= 10,12
guard.pausetime	= 10,12
sparkno		= S7005
guard.sparkno	= s7007
sparkxy		= -20,-45
hitsound	= S2,0
guardsound	= S0,9
ground.type	= Low
air.type	= Trip
ground.slidetime = 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -10,-4
guard.velocity	= -11
air.velocity	= -10,-4
airguard.velocity	= -11
ground.cornerpush.veloff = -2
fall            = 1
air.fall	= 1
envshake.time = 15
envshake.freq = 120
envshake.ampl = -3
envshake.phase = 50



[State 1011:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0


;-----------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Bakuretsu Kyaku: Sliding Kick Devil
[Statedef 1020]
type 		= C
movetype	= A
physics		= N
anim		= 1020
;velset		= 0,0
ctrl		= 0
poweradd	= 100
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1020: 	VarSet]
type 			= VarSet
trigger1 		= (!Time)
var(5) 		= IfElse(Command = "holda",1,2)

[State 1030:	MakeDust]
type			= MakeDust
trigger1 		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
pos 			= -5, 0
spacing 		= 4

[State 1020:	PlayerPush]
type			= PlayerPush
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && (!MoveContact)
value			= 0

[State 1020:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= IfElse(Var(5) = 1,6,9)

[State 1020:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 3)
x			= 0

[State 1020:	VelAdd]
type 			= VelAdd
trigger1 		= (AnimElem = 2, > 10) && (AnimElem = 2, < 19) && (Vel X > 0.5)
x			= IfElse(Var(5) = 1,-0.8,-1)

[State 1020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,1

[State 1020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 3001, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 2)
anim =  7100
ID =    7100
pos =  5,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 1300,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 1020:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2)
attr		= C, SA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 60
pausetime	= 11,12
guard.pausetime	= 11,12
sparkno		= S7004
guard.sparkno	= S7007
sparkxy		= 10,-6
hitsound	= S2,3
guardsound	= S0,9
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -1.5,-10
guard.velocity	= -8
air.velocity	= -1.5,-10
airguard.velocity	= -8
ground.cornerpush.veloff = -2
fall            = 1
air.fall	= 1
id		= 1010
getpower	= 60
givepower	= 60
persistent	= 0


[State 1020:	ChangeState]
type			= ChangeState
triggerall              =  time > 20
trigger1		= (!AnimTime)
trigger2                = movehit = 1
value			= 0

;---------------------------------------------------------------------------
;Bakuretsu Kyaku: Sliding Kick fuerte
[Statedef 1030]
type 		= C
movetype	= A
physics		= N
anim		= 1020
;velset		= 0,0
ctrl		= 0
poweradd	= 150
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1020: 	VarSet]
type 			= VarSet
trigger1 		= (!Time)
var(5) 		= IfElse(Command = "holda",1,2)

[State 1030:	MakeDust]
type			= MakeDust
trigger1 		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
pos 			= -5, 0
spacing 		= 4

[State 1020:	PlayerPush]
type			= PlayerPush
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0) && (!MoveContact)
value			= 0

[State 1020:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= IfElse(Var(5) = 1,6,9)

[State 1020:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 3)
x			= 0

[State 1020:	VelAdd]
type 			= VelAdd
trigger1 		= (AnimElem = 2, > 10) && (AnimElem = 2, < 19) && (Vel X > 0.5)
x			= IfElse(Var(5) = 1,-0.8,-1)

[State 1020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,1

[State 1020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 3001, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 2)
anim =  7100
ID =    7100
pos =  5,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 1300,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 1020:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2)
attr		= C, SA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 50
pausetime	= 10,12
guard.pausetime	= 10,12
sparkno		= S7003
guard.sparkno	= s7007
sparkxy		= 10,-6
hitsound	= S2,0
guardsound	= S0,9
ground.type	= Low
air.type	= Trip
ground.slidetime = 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -2
guard.velocity	= -2
air.velocity	= -2,-3
airguard.velocity = -2,-3
ground.cornerpush.veloff = -1.5
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-4
id			= 1020
getpower		= 40
givepower		= 40
persistent		= 0

[State 1020:	ChangeState]
type			= ChangeState
trigger1		= (MoveContact)
value			= 1031

[State 1020:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Bakuretsu Kyaku: Strong Kick
[Statedef 1031]
type 		= S
movetype	= A
physics		= S
anim		= 1031
;velset		= 0,0
ctrl		= 0
poweradd	= 120
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1021:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S2,5

[State 1021:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S4,1

[State 1021:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 3, = 0)
attr		= S, SA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 50
pausetime	= 12,12
guard.pausetime	= 12,12
sparkno		= S7004
guard.sparkno	= S7007
sparkxy		= -30,-64
hitsound	= S2,0
guardsound	= S0,9
ground.type	= Trip
air.type	= Trip
ground.slidetime = 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -7,-8.4
guard.velocity	= -4
air.velocity	= -5.2,-6.4
airguard.velocity = -4.2,-5.4
ground.cornerpush.veloff = -4
fall		= 1
id		= 1021
getpower	= 20
givepower	= 20

[State 1021:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0


;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Geshiki Naraku Otoshi alto
[Statedef 1040]
type 		= A
movetype	= A
physics		= A
anim		= 1040
velset		= 0,0
ctrl		= 0
poweradd	= 100
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 1041:	VelSet]
type 		= VelSet
trigger1 	= (!Time)
x 		= 7
y		= -8

[State 1041:	VelSet]
type 		= Veladd
trigger1 	= Time > 14
y		= 0.3

[State 1041:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 1, = 5)
value		= S3,7
channel		= 0

[State 1300,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 1041:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 3)
attr			= A, SA
hitflag		= MAF
guardflag		= H
animtype		= Hard
air.animtype	= DiagUp
priority		= 5, Hit
damage		= 30,10
pausetime	= 12,10
guard.pausetime	= 12,10
sparkno		= S7005
guard.sparkno	= s7007
sparkxy		= -5,-31
hitsound		= S2,3
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -5.5,-6.2
guard.velocity	= -5.5
air.velocity	= -5.5,3.2
airguard.velocity	= -5.5,-3.2
ground.cornerpush.veloff = -3
kill = 1
fall = 1
fall.xvelocity = -1
fall.yvelocity = -11
fall.recover = 0
fall.recovertime = 10
fall.damage = 30

[State 1040: 	ChangeState]
type 		= ChangeState
trigger1 	= (!AnimTime)
value 		= 50

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Geshiki Naraku Otoshi largo
[Statedef 1045]
type 		= A
movetype	= A
physics		= A
anim		= 1045
velset		= 0,0
ctrl		= 0
poweradd	= 100
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 1041:	VelSet]
type 		= VelSet
trigger1 	= (!Time)
x 		= 4
y		= -10

[State 1041:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 1, = 5)
value		= S3,7
channel		= 0

[State 1300,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 1041:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 3)
attr			= A, SA
hitflag		= MAF
guardflag		= H
animtype		= Hard
air.animtype	= DiagUp
priority		= 5, Hit
damage		= 30,10
pausetime	= 12,10
guard.pausetime	= 12,10
sparkno		= S7005
guard.sparkno	= s7007
sparkxy		= -5,-31
hitsound		= S2,3
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -5.5,-6.2
guard.velocity	= -5.5
air.velocity	= -2.5,-6.2
airguard.velocity	= -2.5,-6.2
ground.cornerpush.veloff = -3
fall			= 1
fall.recover	= 0
id			= 1091
getpower		= 80
givepower		= 80

[State 1041:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 5)
attr			= A, SA
hitflag		= MAF
guardflag		= H
animtype		= Hard
air.animtype	= DiagUp
priority		= 5, Hit
damage		= 30,10
pausetime	= 12,10
guard.pausetime	= 12,10
sparkno		= S7004
guard.sparkno	= s7007
sparkxy		= -5,-31
hitsound		= S2,3
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -5.5,-6.2
guard.velocity	= -5.5
air.velocity	= -5.5,6.2
airguard.velocity	= -5.5,6.2
ground.cornerpush.veloff = -3
kill = 1
fall = 1
fall.xvelocity = -1
fall.yvelocity = -11
fall.recover = 0
fall.recovertime = 10
fall.damage = 30
fall.envshake.time = 15
fall.envshake.freq = 120
fall.envshake.ampl = -3
fall.envshake.phase = 50


[State 1050, Explod]
type = Explod
trigger1 = animelem = 5
anim =  9350
ID = 9350
pos = 60,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 1,2
accel = 0,0
scale = 0.7,0.7
Ontop = 1
removetime = -2
removeongethit = 1


[State 1045: 	ChangeState]
type 		= ChangeState
trigger1 	= (!AnimTime)
value 		= 50

;---------------------------------------------------------------------------
;Earthquake chico
[Statedef 1050, Earthquake chico]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 1050
poweradd = 100
sprpriority = 2

[State 1050, Explod Arena Vertical]
type = Explod
trigger1 = Time = 11
anim =  7300
ID = 7300
pos = 0,10
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
Ontop = 1
removetime = -2
removeongethit = 0

[State 1050, Explod Arena Vertical 2]
type = Explod
trigger1 = Time = 21
anim =  7350
ID = 7350
pos = 0,10
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
Ontop = 1
removetime = -2
removeongethit = 0

[State 1050,2]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "Earthquake Hit"
id = 1052
stateno = 1052
pos = 0,10
keyctrl = 1
ownpal = 1

[State 1050, treme]
type = EnvShake
trigger1 = time = 10
ampl = 10
freq = 50

[State 1050,3]
type = PlaySnd
trigger1 = time = 10
value = s2,13
volume = 255
channel = 1

[State 1050,3]
type = PlaySnd
trigger1 = time = 10
value = s3,9
volume = 255
channel = 3

[State 1050: 	ChangeState]
type 		= ChangeState
trigger1 	= (!AnimTime)
value 		= 0

;---------------------------------------
;Earthquake Hit Central
[Statedef 1052]
type 	 = A
movetype = A
physics	 = N
anim	 = 1052
ctrl	 = 0
poweradd = 0
juggle	 = 0
facep2	 = 0
sprpriority = 1

[State 1052:	BGPalFX]
type		= BGPalFX
trigger1	= (MoveHit)
time		= 25
add		= 75,75,75
mul		= 256,256,256
sinadd		= 80,80,80,4
invertall	= 0
color		= 256
persistent	= 0
ignorehitpause	= 1


[State 1052:	HitDef]
type		= HitDef
trigger1	= 1
attr		= S, NA
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 50,10
pausetime 	= 1,8
guard.pausetime	= 1,8
sparkno         = -1
sparkxy         = -20,-54
hitsound	= S2,14
guardsound	= S2,12
ground.type	= High
air.type	= Trip
ground.slidetime = 25
ground.hittime	= 25
air.hittime	= 25
ground.velocity	= -0.5,-9
air.velocity	= -0.5,-9
ground.cornerpush.veloff = -3
id		= 234
persistent	= 0
fall            = 1
fall.recover    = 0
fall.damage     = 0
fall.velocity	= -0.5
fall.yvelocity	= -2
air.fall        = 1

[State 1052:	DestroySelf]
type		= DestroySelf
trigger1	= movecontact = 1
trigger2        = animtime = 0
ignorehitpause	= 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Earthquake grande
[Statedef 1055, Earthquake grande]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 1055
poweradd = 100
sprpriority = 2

[State 1050, Explod Arena Vertical]
type = Explod
trigger1 = Time = 0
anim =  7500
ID = 7500
pos = -5,-107
postype = p1
facing = 1
vfacing = 1
bindtime = 1
sprpriority = 3
scale = 0.2,0.2
Ontop = 1
removetime = -2
removeongethit = 0

[State 1050, Explod ground blanco]
type = Explod
trigger1 = Time = 16
anim =  17400
ID = 17400
pos = 0,10
postype = p1
facing = 1
vfacing = 1
bindtime = 1
sprpriority = 0
scale = 1,0.5
Ontop = 1
removetime = -2
removeongethit = 0

[State 1050, Explod Arena Vertical]
type = Explod
trigger1 = Time = 16
anim =  7350
ID = 7350
pos = 0,10
postype = p1
facing = 1
vfacing = 1
bindtime = 1
sprpriority = 3
scale = 0.5,0.5
Ontop = 1
removetime = -2
removeongethit = 0

[State 1050,2]
type = Helper
trigger1 = time = 16
helpertype = normal
name = "Earthquake Hit adelante"
id = 1057
stateno = 1057
pos = 75,10
keyctrl = 1
ownpal = 1
size.xscale = 0.4
size.yscale = 0.6

[State 1050,2]
type = Helper
trigger1 = time = 21
helpertype = normal
name = "Earthquake Hit adelante"
id = 1057
stateno = 1057
pos = 100,10
keyctrl = 1
ownpal = 1
size.xscale = 0.5
size.yscale = 0.9

[State 1050,2]
type = Helper
trigger1 = time = 26
helpertype = normal
name = "Earthquake Hit adelante"
id = 1057
stateno = 1057
pos = 125,10
keyctrl = 1
ownpal = 1
size.xscale = 0.6
size.yscale = 1.2

[State 1050,2]
type = Helper
trigger1 = time = 16
helpertype = normal
name = "Earthquake Hit atras"
id = 1058
stateno = 1058
pos = -75,10
keyctrl = 1
ownpal = 1
size.xscale = 0.4
size.yscale = 0.6

[State 1050,2]
type = Helper
trigger1 = time = 21
helpertype = normal
name = "Earthquake Hit atras"
id = 1058
stateno = 1058
pos = -100,10
keyctrl = 1
ownpal = 1
size.xscale = 0.5
size.yscale = 0.9

[State 1050,2]
type = Helper
trigger1 = time = 26
helpertype = normal
name = "Earthquake Hit atras"
id = 1058
stateno = 1058
pos = -125,10
keyctrl = 1
ownpal = 1
size.xscale = 0.6
size.yscale = 1.2

[State 1050, Explod Arena Vertical adelante]
type = Explod
trigger1 = time = 16
anim =  7201
ID = 7201
pos = 75,10
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.4,0.6
Ontop = 1
removetime = -2
removeongethit = 0

[State 1050, Explod Arena Vertical adelante]
type = Explod
trigger1 = Time = 21
anim =  7201
ID = 7201
pos = 100,10
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.9
Ontop = 1
removetime = -2
removeongethit = 0

[State 1050, Explod Arena Vertical adelante]
type = Explod
trigger1 = Time = 26
anim =  7201
ID = 7201
pos = 125,10
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.6,1.2
Ontop = 1
removetime = -2
removeongethit = 0

[State 1050, Explod Arena Vertical atras]
type = Explod
trigger1 = Time = 16
anim =  7200
ID = 7200
pos = -75,10
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.4,0.6
Ontop = 1
removetime = -2
removeongethit = 0

[State 1050, Explod Arena Vertical atras]
type = Explod
trigger1 = Time = 21
anim =  7200
ID = 7200
pos = -100,10
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.9
Ontop = 1
removetime = -2
removeongethit = 0

[State 1050, Explod Arena Vertical atras]
type = Explod
trigger1 = Time = 26
anim =  7200
ID = 7200
pos = -125,10
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.6,1.2
Ontop = 1
removetime = -2
removeongethit = 0


[State 1050, treme]
type = EnvShake
trigger1 = time = 10
ampl = 10
freq = 50

[State 1050,3]
type = PlaySnd
trigger1 = time = 10
value = s2,13
volume = 255
channel = 1

[State 1050,3]
type = PlaySnd
trigger1 = time = 10
value = s3,9
volume = 255
channel = 3

[State 1050: 	ChangeState]
type 		= ChangeState
trigger1 	= (!AnimTime)
value 		= 0

;---------------------------------------
;Earthquake Hit adelante
[Statedef 1057]
type 	 = A
movetype = A
physics	 = N
anim	 = 1057
ctrl	 = 0
poweradd = 0
juggle	 = 0
facep2	 = 0
sprpriority = 1


[State 1052:	BGPalFX]
type		= BGPalFX
trigger1	= (MoveHit)
time		= 25
add		= 75,75,75
mul		= 256,256,256
sinadd		= 80,80,80,4
invertall	= 0
color		= 256
persistent	= 0
ignorehitpause	= 1


[State 1052:	HitDef]
type		= HitDef
trigger1	= 1
attr		= S, NA
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 50,10
pausetime 	= 1,8
guard.pausetime	= 1,8
sparkno         = S7002
sparkxy         = 0,-24
hitsound	= S2,14
guardsound	= S2,12
ground.type	= High
air.type	= Trip
ground.slidetime = 25
ground.hittime	= 25
air.hittime	= 25
ground.velocity	= 1.5,-10
air.velocity	= 1.5,-10
ground.cornerpush.veloff = -3
id		= 234
persistent	= 0
fall            = 1
fall.recover    = 0
fall.damage     = 0
fall.velocity	= -0.5
fall.yvelocity	= -2
air.fall        = 1

[State 1052:	DestroySelf]
type		= DestroySelf
trigger1	= movecontact = 1
trigger2        = animtime = 0
ignorehitpause	= 1

;---------------------------------------
;Earthquake Hit atras
[Statedef 1058]
type 	 = A
movetype = A
physics	 = N
anim	 = 1057
ctrl	 = 0
poweradd = 0
juggle	 = 0
facep2	 = 0
sprpriority = 1


[State 1052:	BGPalFX]
type		= BGPalFX
trigger1	= (MoveHit)
time		= 25
add		= 75,75,75
mul		= 256,256,256
sinadd		= 80,80,80,4
invertall	= 0
color		= 256
persistent	= 0
ignorehitpause	= 1


[State 1052:	HitDef]
type		= HitDef
trigger1	= 1
attr		= S, NA
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 50,10
pausetime 	= 1,8
guard.pausetime	= 1,8
sparkno         = S7002
sparkxy         = 0,-24
hitsound	= S2,14
guardsound	= S2,12
ground.type	= High
air.type	= Trip
ground.slidetime = 25
ground.hittime	= 25
air.hittime	= 25
ground.velocity	= -1.5,-10
air.velocity	= -1.5,-10
ground.cornerpush.veloff = -3
id		= 234
persistent	= 0
fall            = 1
fall.recover    = 0
fall.damage     = 0
fall.velocity	= -0.5
fall.yvelocity	= -2
air.fall        = 1

[State 1052:	DestroySelf]
type		= DestroySelf
trigger1	= movecontact = 1
trigger2        = animtime = 0
ignorehitpause	= 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Absorber con la cola - Start
[Statedef 1080, Absorber con la cola]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 1080
poweradd = 50
sprpriority = 2

[State 1080, HitDef]
type = HitDef
trigger1 = AnimElem = 7
attr = S, NT
guardflag =
hitflag = M-
animtype = Medium
pausetime = 1,18
sparkno = S7003
sparkxy = 0, -65
hitsound = S2,15
guardsound = S2,15
guard.dist = 0
priority = 5,dodge
hitsound = S0,9
p1stateno = 1085
p2stateno = 1082
p2facing = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S17,8
volume = 50
channel = -1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S2,5
volume = 50
channel = -1

[State 1080: 	ChangeState]
type 		= ChangeState
trigger1 	= (!AnimTime)
value 		= 1088
;---------------------------------------------------------
;Absorber con la cola - Termiacin
[Statedef 1088, Absorber con la cola]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 1088
poweradd = 0
sprpriority = 2


[State 1080: 	ChangeState]
type 		= ChangeState
triggerall      = prevstateno = 1080
trigger1 	= (!AnimTime)
value 		= 0

[State 1080: 	ChangeState]
type 		= ChangeState
trigger1 	= (!AnimTime)
value 		= 1089

;---------------------------------------------------------
;Absorber con la cola - Termiacin 2
[Statedef 1089, Absorber con la cola]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 1089
poweradd = 0
sprpriority = 2

[State 191, PalFX - Explosion CHargue]
type			= PalFX
trigger1		= time = 0
time			= 15
add			= 250,250,100
mul			= 150,150,50
sinadd		        = 175,25,5,4
invertall		= 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S3,1
volume = 50
channel = -1

[State 1050, Explod]
type = Explod
trigger1 = Time = 15
anim =  9051
ID = 9051
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
sprpriority = -1
removetime = -2
removeongethit = 0
ownpal = 1

[State 1080: 	ChangeState]
type 		= ChangeState
trigger1 	= (!AnimTime)
value 		= 0

;---------------------------------------------------------
;Absorber con la cola - Auxiliar de tiempo
[Statedef 1081, Auxiliar de tiempo]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 1081
poweradd = 0
sprpriority = 2

[State 1080: 	ChangeState]
type 		= destroyself
trigger1 	= Time = 200

;---------------------------------------------------------
;Absorber con la cola - Quieto
[Statedef 1085, Absorber con la cola]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 1085
poweradd = 0
sprpriority = 2

[State 0, TargetBind]
type = TargetBind
trigger1 = time >= 0
time = 50
id = -1
pos = 65,0

[State 1050,2]
type = Helper
triggerall = prevstateno = 1080
trigger1 = time = 0
helpertype = normal
name = "Auxiliar de tiempo"
id = 1081
stateno = 1081
pos = 300,300
keyctrl = 1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = prevstateno = 1080
trigger1 = time = 0
value = S18,11
volume = 50
channel = -1


[State 1080: 	ChangeState]
type 		= ChangeState
triggerall      = time > 10
trigger1        = numhelper(1081) = 0
trigger2 	= Time = 50
value 		= 1088

[State 1080: 	ChangeState]
type 		= ChangeState
triggerall      = time > 10
trigger1 	= command = "x"
trigger2 	= command = "y"
value 		= 1087


[State 1080: 	ChangeState]
type 		= ChangeState
triggerall      = time > 10
triggerall      = var(9) = 1
trigger1 	= time%10 = 0
value 		= 1087

;---------------------------------------------------------
;Absorber con la cola - Chupando
[Statedef 1087, Absorber con la cola]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 1087
poweradd = 0
sprpriority = 2

[State 0, TargetBind]
type = TargetBind
trigger1 = time >= 0
time = 50
id = -1
pos = 63,0

[State 191, PalFX - Explosion CHargue]
type			= PalFX
trigger1		= time = 0
time			= 10
add			= 250,250,100
mul			= 150,150,50
sinadd		        = 175,25,5,4
invertall		= 0


[State 1052:	HitDef]
type		= HitDef
trigger1	= animelem = 1
attr		= S, NA
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 20,10
pausetime 	= 1,5
guard.pausetime	= 1,5
sparkno         = -1;S7002
sparkxy         = -25, -65
hitsound	= S2,15
guardsound	= S2,15
ground.type	= High
air.type	= Trip
ground.slidetime = 25
ground.hittime	= 25
air.hittime	= 25
ground.velocity	= -1.5,-10
air.velocity	= -1.5,-10
ground.cornerpush.veloff = -3
id		= 234
persistent	= 0
fall            = 1
fall.recover    = 0
fall.damage     = 0
fall.velocity	= -0.5
fall.yvelocity	= -2
air.fall        = 1
p2stateno = 1082


[State 1050, Explod]
type = Explod
triggerall = Numexplod(7002) = 0
trigger1 = movehit = 1
anim =  7002
ID = 7002
pos = 63,-55
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
sprpriority = 2
removetime = -2
removeongethit = 0
ownpal = 1



[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 1
value = 50

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 1
value = 10




[State 1080: 	ChangeState]
type 		= ChangeState
trigger1 	= (!AnimTime)
value 		= 1085

;---------------------------------------------------------------------------
;Absorber con la cola - P2
[Statedef 1082]
type    = A
movetype= H
physics = N
juggle  = 0
velset = 0,0


[State 1090, ChangeAnim]
type = ChangeAnim2
trigger1 = time = 0
value = 1082
;elem = 1

[State 1090, end]
type = ChangeState
trigger1 = time = 50 ;Vel Y > 0
;trigger1 = Pos Y >= 0
value = 1083

[State 1090, end]
type = SelfState
triggerall = pos Y < -30
trigger1 = animtime = 0 ;Vel Y > 0
;trigger1 = Pos Y >= 0
value = 5050

;-------------------------------------------
;Absorber con la cola - P2 pso
[Statedef 1083]
type    = A
movetype= H
physics = N
juggle  = 0
velset = 0,0


[State 1090, ChangeAnim]
type = ChangeAnim2
trigger1 = time = 0
value = 1083
;elem = 1

[State 1090, end]
type = SelfState
trigger1 = animtime = 0 ;Vel Y > 0
;trigger1 = Pos Y >= 0
value = 5120




;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Zanzoken
[Statedef 1090]
type=S
movetype=I
physics=N
velset=0,0
sprpriority=0
ctrl=0
Poweradd = -200

[State 0, ]
type=ChangeAnim
trigger1=!time
value=anim
elem=animelemno(0)
[State 0]
type=null;ChangeAnim
trigger1=(time<5)
;value=ifelse(pos y >=0,22,29)

[State 0]
type=AssertSpecial
trigger1=(time=[5,35])
flag=invisible
flag2=noshadow
ignorehitpause=1

[State 0]
type=EnvShake
trigger1=time=5
time=8
freq=260
ampl=-8

;[State 0]
;type=AllPalFX
;trigger1=time=7
;time=6
;add=160,160,160
;ignorehitpause=1

[State 0]
type=PlaySnd
trigger1=(time=5)||(time=10)
value=3,0

[State 1090]
type=AfterImage
trigger1= time = 5
time=10
length=10
palcontrast=120,120,120
palmul=.35,.35,.35
timegap=1
framegap=1
trans=Add
ignorehitpause=1

[State 1090, Afterimage bck]
type=Helper
trigger1=(time=5)
helpertype=normal
name="Afterimage bck"
ID=1093
pos=0,0
postype=p1
facing=1
stateno=1093
keyctrl=0
ownpal=1
persistent=0

[State 1090, Afterimage forw]
type=Helper
trigger1=(time=5)
helpertype=normal
name="Afterimage forw"
ID=1094
pos=0,0
postype=p1
facing=1
stateno=1094
keyctrl=0
ownpal=1
persistent=0

[State 0]
type=ChangeAnim
trigger1=(time>=10)
value=(ifelse(vel y<0,991,ifelse(vel y>0,992,ifelse(vel x<0,994,ifelse(vel x>0,995,ifelse(pos y<0,992,0))))))

[State 0]
type=PlayerPush
trigger1=(time=[5,35])
value=0

[State 0]
type=NotHitBy
trigger1=(time=[5,35])
value=SCA,NT,AT
time=1
ignorehitpause=1

[State 0]
type = PosAdd
trigger1 = (time=10)
x = ifelse(command="holdfwd",(70),(ifelse(command="holdback",(-70),0)))
y = ifelse(command="holdup",(-50),(ifelse(command="holddown",50,0)))

[State 0]
type = Posset
trigger1 = (time=10) && command = "holddown"
trigger2 = pos y > 0
y = 0

[State 0]
type = VelSet
trigger1 = (time>=10)
x = ifelse(command="holdfwd",(3),(ifelse(command="holdback",(-3),(0))))
y = ifelse(command="holdup",(-3),(ifelse(command="holddown",(3),0)))

[State 0]
type=ScreenBound
trigger1=(command!="holdfwd")&&(command!="holdback")&&(command!="holddown")&&(command!="holdup")&&(time>=25)
movecamera=1,1
value=0

[State 0]
type=AfterImage
trigger1=(time=5)||(time>=10)&&(gametime%3=0)
time=ifelse(time=5,10,3)
length=ifelse(time=5,10,20)
palcontrast=120,120,120
palmul=ifelse(time=5,.55,.65),ifelse(time=5,.55,.65),ifelse(time=5,.55,.65)
timegap=1
framegap=1
trans=Add
ignorehitpause=1

[State 0]
type=Turn
trigger1=p2dist x<0

[State 0]
type=ChangeState
trigger1=(time>=35)
value=ifelse(pos y<0,ifelse(command="holdfwd" ||command="holdback" || command="holdup",991,50),0)
ctrl=1
;---------------------------------------------------
;Zanzoken-1
[Statedef 1093]
type=S
movetype=I
physics=N
velset=ifelse(parent,stateno=1056,-7,-1),0
sprpriority=0
ctrl=0

[State 0, blargh]
type=DisplayToClipboard
trigger1=1
text="What should i write here?"
ignorehitpause=1

[State 0, ]
type=ChangeAnim
trigger1=!time
value=parent,anim
elem=parent,animelemno(0)

[State 0]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State 0]
type=AssertSpecial
trigger1=1
flag=noshadow
flag2=invisible
ignorehitpause=1

[State 0]
type=AfterImage
trigger1=gametime%8=0
time=4
length=4
palcolor=256
palcontrast=120,120,120
palmul=.35,.35,.35
timegap=1
framegap=1
trans=add
ignorehitpause=1

[State 0]
type=DestroySelf
trigger1=time>12
ignorehitpause=1
;------------------------------------------------------------
;Zanzoken-2
[Statedef 1094]
type=S
movetype=I
physics=N
velset=ifelse(parent,stateno=1056,7,1),0
sprpriority=0
ctrl=0

[State 0, blargh]
type=DisplayToClipboard
trigger1=1
text="What should i write here?"
ignorehitpause=1

[State 0, ]
type=ChangeAnim
trigger1=!time
value=parent,anim
elem=parent,animelemno(0)

[State 0]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State 0]
type=AssertSpecial
trigger1=1
flag=noshadow
flag2=invisible
ignorehitpause=1

[State 0]
type=AfterImage
trigger1=gametime%8=0
time=4
length=4
palcolor=256
palcontrast=120,120,120
palmul=.35,.35,.35
timegap=1
framegap=1
trans=add
ignorehitpause=1

[State 0]
type=DestroySelf
trigger1=time>12
ignorehitpause=1

;-------------------------------------------------------------------------
; Super Jump Start
[Statedef 60]
type            = A
movetype        = I
physics         = N
anim            = 41
velset          = 0,-11
ctrl            = 0
poweradd        = 0
juggle          = 0
facep2          = 0
hitdefpersist   = 0
movehitpersist  = 0
hitcountpersist = 0
sprpriority     = 2
;---------------

[state 60, CtrlSet]
type            = CtrlSet
trigger1        = Time >= 1
value           = 1

[state 60, VelSetFwd]
type            = VelSet
trigger1        = command = "holdfwd"
x               = 3

[state 60, VelSetBack]
type            = VelSet
trigger1        = command = "holdback"
x               = -3

[state 60, VelAdd]
type            = VelAdd
trigger1        = Time > 10
x               = 0
y               = .40
;---------------


[State 60, Explod atras]
type = Explod
trigger1 = time = 0
anim = 7100
ID =  7100
pos = -20,20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 24
supermove = 1
pausemove =1
scale = 0.6, 0.6
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 60, Explod adelante]
type = Explod
trigger1 = time = 0
anim = 7101
ID =  7101
pos = 20,20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 24
supermove = 1
pausemove =1
scale = 0.6, 0.6
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0


[State 60, PlaySnd]
type = PlaySnd
trigger1 =  time = 1
value = s17,6
volume = 50
channel = -1

[state 60, End]
type            = ChangeState
trigger1        = Pos Y >= 1
value           = 52



;--------------------------------------------------------------------------
;------------------------------------------------------------------------
;Flying Start
[Statedef 990]
type = A
movetype = A
physics = A
juggle  = 7
velset = 0, -6
ctrl = 0
anim = 991

[State 990, 1]
type = PlaySnd
trigger1 = Animelem = 1
value = 5, 0

[State 990, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 991
ctrl = 1

;--------------------------------------------------------------------------
;Flying
[Statedef 991]
type = A
ctrl = 0
anim = 991
velset = 0,0


[State 991, PowerAdd]
type = PowerAdd
trigger1 = time > 0
value = -2

[State 991, parar1]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = var(13) = 0
trigger2 = Pos Y < -450
x = 0
y = 0

[State 991, papar2]
type = ChangeAnim
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = Anim != 991
value = 991

[State 991,Var(1)]
type = VarSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = Var(13) != 2
trigger2 = Var(13) = 2
trigger2 = Vel Y >= 0.3
v = 13
value = 1

[State 991,Var(2)]
type = VarSet
trigger1 = Var(13) = 1
trigger1 = Vel Y <= -0.3
v = 13
value = 2

[State 991,Up]
type = VelAdd
trigger1 = Var(13) = 1
y = -0.02

[State 991,Down]
type = VelAdd
trigger1 = Var(13) = 2
y = 0.05

[State 991,fuwaEnd]
type = VelSet
Triggerall = var(13) != 0
Trigger1 = command = "holdfwd"
Trigger2 = command = "holdback"
Trigger3 = command = "holdup"
Trigger4 = command = "holddown"
y = 0

[State 991,fuwaEndVar]
type = VarSet
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
trigger3 = command = "holdup"
trigger4 = command = "holddown"
v = 13
value = 0

[State 991, UpBorder1]
type = PosSet
trigger1 = Pos Y < -450
y = -450

[State 991, UpBorder2a]
type = PosAdd
trigger1 = P2BodyDist Y > 450
trigger1 = Vel Y < 0
y = 50

[State 991, UpBorder2b]
type = VelSet
trigger1 = P2BodyDist Y > 450
trigger1 = Vel Y < 0
y = 0

[State 991, Runeffect]
type = AfterImage
trigger1 = Command = "FF"
trigger1 = Vel X < 8.6
trigger2 = Command = "BB"
trigger2 = Vel X > -7
trigger3 = Command = "DD"
trigger3 = Vel Y < 8.6
trigger4 = Command = "UU"
trigger4 = Vel Y > -7
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1




[State 991, RunFwd]
type = VelSet
trigger1 = Command = "FF"
trigger1 = Vel X < 6.6
x = 8.6

[State 991, 1]
type = PlaySnd
trigger1 = Command = "FF"
value = s1, 10

[State 991, RunBack]
type = VelSet
trigger1 = Command = "BB"
trigger1 = Vel X > -5.7
x = -8.7

[State 991, 1]
type = PlaySnd
trigger1 = Command = "BB"
value = s1, 10

[State 991, RunDown]
type = VelSet
trigger1 = Command = "DD"
trigger1 = Vel Y < 6.6
y = 8.6

[State 991, 1]
type = PlaySnd
trigger1 = Command = "DD"
value = s1, 10

[State 991, RunUp]
type = VelSet
trigger1 = Command = "UU"
trigger1 = Vel Y > -5.7
y = -8.7

[State 991, 1]
type = PlaySnd
trigger1 = Command = "UU"
value = s1, 10

[State 991, GoDownAnim]
type = ChangeAnim
triggerall = Anim != 992
trigger1 = command = "holddown"
value = 992

[State 991, GoDown1]
type = VelAdd
trigger1 = command = "holddown"
y = 0.3

[State 991,GoDown2]
type = VelSet
trigger1 = command = "holddown"
trigger1 = Vel Y < 0
y = 0


[State 991, GoUpAnim]
type = ChangeAnim
trigger1 = Anim != 991
trigger1 = command = "holdup"
value = 991

[State 991, GoUp1]
type = VelAdd
trigger1 = command = "holdup"
y = -0.2

[State 991,GoUp2]
type = VelSet
trigger1 = command = "holdup"
trigger1 = Vel Y > 0
y = 0


[State 991, GoBackAnim]
type = ChangeAnim
triggerall = Anim != 994
trigger1 = command = "holdback"
value = 994

[State 991, GoBack1]
type = VelAdd
trigger1 = command = "holdback"
x = -0.15

[State 1100,GoBack2]
type = VelSet
trigger1 = command = "holdback"
trigger1 = Vel X > 0
x = 0

[State 991, GoFwdAnim]
type = ChangeAnim
trigger1 = Anim != 995
trigger1 = command = "holdfwd"
value = 995

[State 991, GoFwd1]
type = VelAdd
trigger1 = command = "holdfwd"
x = 0.25

[State 991,GoFwd2]
type = VelSet
trigger1 = command = "holdfwd"
trigger1 = Vel X < 0
x = 0


[State 991, MakeDust1]
type = MakeDust
triggerall = Pos Y >= -80 && Pos Y <= -70
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
pos = -5, 75
spacing = 3

[State 991, MakeDust2]
type = MakeDust
triggerall = Pos Y >= -70 && Pos Y <= -60
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
pos = -5, 60
spacing = 3

[State 991, MakeDust3]
type = MakeDust
triggerall = Pos Y >= -60 && Pos Y <= -50
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
pos = -5, 50
spacing = 3

[State 991, MakeDust4]
type = MakeDust
triggerall = Pos Y >= -50 && Pos Y <= -40
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
pos = -5, 40
spacing = 3

[State 991, MakeDust5]
type = MakeDust
triggerall = Pos Y >= -40
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
pos = -5, 30
spacing = 3


[State 991,Turn]
type = Turn
trigger1 = P2Dist X < 0

[State 991,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 991,End]
type = ChangeState
trigger1 = Time > 2
trigger1 = command = "fly"
value = 50
ctrl = 1

[State 991,WinALose]
type = ChangeState
trigger1 = Win = 1
trigger2 = Lose = 1
value = 997

;---------------------------------------------------------------------------
[Statedef 997]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 993

[State 210, 3]
type = VelAdd
trigger1 = AnimElem = 1
trigger1 = AnimElem <= 2
x = -0.3

[State 210, 3]
type = VelSet
trigger1 = AnimElem = 3
x = 0

[State 3021, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 990

[State 210, 3]
type = ChangeState
trigger1 = time = 60
value = 998

;---------------------------------------------------------------------------
[Statedef 998]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0

[State 1531, 5]
type = PlaySnd
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
persistent = 0
value = s2,8

[State 52, 3]
type = PosSet
trigger1 = Vel Y = 0
y = 0

[State 209, 1]
type = ChangeAnim
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 991

[State 209, 1]
type = Velset
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
y = 0

[State 3021, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 990

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------------
;--------------------------------------------------------------------------
;------------------------------------------------------------

;Fly Light Punch
; CNS difficulty: easy
[Statedef 500]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 11
ctrl = 0
anim = 600
sprpriority = 2

[State 500, 1]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 2

[State 500, 2]
type = HitDef
trigger1 = Animelem = 2
attr = A, NA
damage    = 20
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = s7002
sparkxy = -10,-25
guard.sparkno = s7002
hitsound   = s2,3
guardsound = s0,8
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3


[State 500, GoFwd1]
type = VelAdd
trigger1 = command = "holdfwd"
x = 1

[State 500, GoFwd1]
type = VelAdd
trigger1 = command = "holdback"
x = -1

[State 500,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 500,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 500,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 500, 3]
type = Changestate
trigger1 = Animtime = 0
value = 991

[State 500, 3]
type = Changestate
trigger1 = pos Y = 0
value = 52

;---------------------------------------------------------------------------
;Fly Strong Punch
; CNS difficulty: easy
[Statedef 510]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
anim = 610
sprpriority = 2

[State 510, 1]
type = PlaySnd
trigger1 = Animelem = 2
value = 2, 5

[State 510, 3]
type = HitDef
trigger1 = Animelem = 2
attr = A, NA
damage = 72
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = s7002
sparkxy = -10,-25
guard.sparkno = s7005
hitsound   = s2,3
guardsound = s0,8
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,-4

[State 510, GoFwd1]
type = VelAdd
trigger1 = command = "holdfwd"
x = 1

[State 510, GoFwd1]
type = VelAdd
trigger1 = command = "holdback"
x = -1

[State 510,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 510,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 510,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 510, 3]
type = Changestate
trigger1 = Animtime = 0
value = 991

[State 510, 3]
type = Changestate
trigger1 = pos Y = 0
value = 0
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Fly Light Kick
; CNS difficulty: easy
[Statedef 520]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 20
ctrl = 0
anim = 620
sprpriority = 2

[State 530, 1]
type = PlaySnd
trigger1 = Animelem = 2
value = 2, 7

[State 530, 2]
type = HitDef
trigger1 = Animelem = 2
attr = A, NA
damage = 26
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = s7003
sparkxy = -5,-15
guard.sparkno = s7005
hitsound   = S2,0
guardsound = s0,8
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -4
air.velocity = -2,-3

[State 530, GoFwd1]
type = VelAdd
trigger1 = command = "holdfwd"
x = 1

[State 530, GoFwd1]
type = VelAdd
trigger1 = command = "holdback"
x = -1

[State 530,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 530,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 530,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 530, 3]
type = Changestate
trigger1 = Animtime = 0
value = 991

[State 530, 3]
type = Changestate
trigger1 = pos Y = 0
value = 0


;---------------------------------------------------------------------------
;Fly Strong Kick
[Statedef 530]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
anim = 630
sprpriority = 2

[State 630:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1)
value			= S2,5

[State 540, 3]
type = HitDef
trigger1 = Animelem = 1
attr = A, NA
damage    = 70
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = s7003
sparkxy = -10, 0
guard.sparkno = s7005
hitsound   = S2,0
guardsound = s0,8
animtype = Med
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.velocity = -3, 4

[State 540, GoFwd1]
type = VelAdd
trigger1 = command = "holdfwd"
x = 1

[State 540, GoFwd1]
type = VelAdd
trigger1 = command = "holdback"
x = -1

[State 540,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 540,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 540,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 540, 3]
type = Changestate
trigger1 = Animtime = 0
value = 991

[State 540, 3]
type = Changestate
trigger1 = pos Y = 0
value = 0

;===========================================================================
;-| Special Ki Motions |---------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Ki Barrier
[Statedef 2000]
type 		= S
movetype	= A
physics		= S
anim		= 2000
velset		= 0,0
ctrl		= 0
poweradd	= -200
juggle		= 2
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2000:	NotHitBy]
type			= NotHitBy
trigger1		= (AnimElem = 2, < 0)
time			= 1
value			= SCA, NA

[State 2000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,0

[State 2000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1)
value			= S17,5

[State 2000:	VelSet]
type			= VelSet
trigger1		= (Var(4) = 1) && (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
x			= -4
persistent		= 0

[State 2000:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(4)		= 0

[State 2000:	PalFX]
type			= PalFX
trigger1		= (!Time)
time			= 40
add			= 100,100,100
mul			= 256,256,256
sinadd		= -100,-100,-100,40
invertall		= 0
color			= 256

[State 2000:	BGPalFX]
type			= BGPalFX
trigger1		= (AnimElem = 2)
time			= 12
add			= 20,20,20
mul			= 256,256,256
sinadd		= 200,200,200,4
invertall		= 1
color			= 256

[State 2000:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 2)
time			= 12
freq			= 120
ampl			= -7
phase			= 90

[State 2000:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9050
id			= 9050
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 2000:	Helper]
type		= Helper
trigger1	= (AnimElem = 2)
helpertype	= Normal
name		= "Ki Barrier"
id		= 9060
pos		= 0,0
postype		= p1
facing		= 1
stateno		= 9060
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
persistent		= 0
ignorehitpause	= 1

[State 1000:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= IfElse(Power < 50,5300,0)

;---------------------------------------------------------------------------
;Jishin Ha
[Statedef 2100]
type 		= S
movetype	= A
physics		= S
anim		= 2100
;velset		= 0,0
ctrl		= 0
poweradd	= 40
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2100:	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 2)
value 		= S4,0

[State 2100:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 2100:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(4)		= 0

[State 2100:	VelSet]
type			= VelSet
trigger1		= (Var(4) = 1) && (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
x			= -4
persistent		= 0

[State 2100:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= -3
y			= 0

[State 2100:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 3)
x			= 0
y			= 0

[State 2100:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 0) || (AnimElem = 2, = 2) || (AnimElem = 2, = 4) || (AnimElem = 2, = 6) || (AnimElem = 2, = 8) || (AnimElem = 2, = 10)
trigger2		= (AnimElem = 2, = 12) || (AnimElem = 2, = 14) || (AnimElem = 2, = 16) || (AnimElem = 2, = 18) || (AnimElem = 2, = 20)
x			= 0.85

[State 2100:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 1) || (AnimElem = 2, = 3) || (AnimElem = 2, = 5) || (AnimElem = 2, = 7) || (AnimElem = 2, = 9) || (AnimElem = 2, = 11)
trigger2		= (AnimElem = 2, = 13) || (AnimElem = 2, = 15) || (AnimElem = 2, = 17) || (AnimElem = 2, = 19)
x			= -0.85

[State 2100:	Helper]
type		= Helper
trigger1	= (AnimElem = 2) && (NumHelper(9110) = 0)
helpertype	= Normal
name		= "Jishin Ha"
id		= 9110
pos		= 41,-60
postype		= p1
facing		= 0
stateno		= 9110
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale =   0.4
size.yscale = 0.4

[State 2100:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;=================================================================
;-----------------------------------------------------------------
; RR Shield
[Statedef 2200]
type     = S
movetype = A
physics  = S
juggle = 2
ctrl = 0
velset = 0,0,0
anim = 2200


;[State 2200:	NotHitBy]
;type			= NotHitBy
;trigger1		= Animelem = 2
;value			= SCA,SAC,NP,SP,HP

[State 730, power]
type = Explod
trigger1 = time = 4
anim = 905
ID = 905
sprpriority = -1
bindtime = -1
removetime = 6
ownpal = 1
pos = 0, 16
scale = 0.8,0.8

[State 730, power]
type = Explod
trigger1 = Animelem = 2
anim = 731
ID = 731
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
pos = 0, 16
scale = 1, 1
removeongethit = 1

[State 730, helper]
type = Helper
trigger1 = Animelem = 2
stateno = 907
id = 907
pos = 0, 16
postype = p1
ownpal = 1
helpertype = normal
name = "RR Shield"
size.xscale	    = .8
size.yscale	    = .8
removeongethit = 1
ontop = 1
supermovetime 	= 0
ignorehitpause  = 1

[State 730, 1]
type = Poweradd
trigger1 = Time >= 0
value = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = 17,4
volume = 0
channel = 1
freqmul = 1.0
loop = 0
pan = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = command != "holdx"
trigger2 = command != "holdy"
channel = 1

[State 730, 2]
type = playsnd
trigger1 = timemod = 25,0
value = 17,0
channel = 8
volume = 255

[State 0, StopSnd]
type = StopSnd
trigger1 = command != "holdx"
trigger2 = command != "holdy"
channel = 8

[State 2004, end0]
type = RemoveExplod
trigger1 = command != "holdx"
trigger2 = command != "holdy"
trigger3 = stateno !=2200
trigger4 = power = 0
trigger5 = numhelper(908) = 1
id = 905

[State 2004, end0]
type = RemoveExplod
trigger1 = command != "holdx"
trigger2 = command != "holdy"
trigger3 = stateno !=2200
trigger4 = power = 0
trigger5 = numhelper(908) = 1
id = 731


[State 2004, end0]
type = changestate
trigger1 = command != "holdx"
trigger2 = command != "holdy"
trigger3 = power = 0
value = 2201
ctrl = 0

[State 3500:	ChangeState]
type	= ChangeState
triggerall = time > 50
triggerall = var(9) = 1
trigger1 = (enemy, NumProj >= 0) && random = [100,900]
trigger2 = (enemy, numhelper >= 0) && random = [100,900]
trigger3 = time = 60
trigger4 = power = 0
value = 2201
ctrl = 0

;-------------------------------------------
; RR shield -  helper escudo
[Statedef 907]
type    = S
movetype= I
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 3
anim = 907

[STate 731, hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP


[STate 731, override]
type = hitoverride
trigger1 = 1
attr = SAC,NP,SP,HP
stateno = 907
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[STate 2210, destroy]
type = destroyself
trigger1 = numhelper(908) = 1
;-------------------------
; RR Shield - termiacin
[Statedef 2201]
type     = S
movetype = A
physics  = S
juggle = 2
ctrl = 0
velset = 0,0,0
anim = 2201

[State 730, helper]
type = Helper
trigger1 = (time = 0)
stateno = 908
id = 908
pos = 0, 10
postype = p1
ownpal = 1
helpertype = normal
name = "RR Shield ad hoc"
removeongethit = 1
ontop = 1
supermovetime 	= - 1
ignorehitpause  = 1

[State 730, power]
type = Explod
trigger1 = time = 0
anim = 906
ID = 906
sprpriority = -1
bindtime = -1
removetime = 6
ownpal = 1
pos = 0, 10
scale = 0.7,0.7
removeongethit = 1

[State 2004, end0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------
; RR Shield - Helper Ad hoc
[Statedef 908]
type     = S
movetype = A
physics  = S
juggle = 2
ctrl = 0
velset = 0,0,0
anim = 908

[State 2004, end0]
type = destroyself
trigger1 = time = 1



;--------------------------------------------------------------
;RR shield en el aire
;RR Shield
[Statedef 2250]
type     = A
movetype = A
physics  = A
juggle = 2
ctrl = 0
velset = 0,0,0
anim = 2250

[State 0, VelSet]
type = VelSet
trigger1 = TIME >= 0
x = 0
y = 0


[State 740, power]
type = Explod
trigger1 = time = 4
anim = 905
ID = 905
sprpriority = -1
bindtime = -1
removetime = 6
ownpal = 1
pos = 0, 16
scale = 0.8,0.8

[State 740, end0]
type = RemoveExplod
trigger1 = command != "holdx"
trigger2 = command != "holdy"


[State 740, power]
type = Explod
trigger1 = Animelem = 2
anim = 732
ID = 732
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
pos = 0, 16
scale = 1, 1
removeongethit = 1

[State 740, helper]
type = Helper
trigger1 = Animelem = 2
stateno = 907
id = 907
pos = 0, 16
postype = p1
ownpal = 1
helpertype = normal
name = "RR Shield"
size.xscale	    = .8
size.yscale	    = .8
removeongethit = 1
ontop = 1
supermovetime 	= - 1
ignorehitpause  = 1

[State 740, 1]
type = Poweradd
trigger1 = Time >= 0
value = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = 17,4
volume = 0
channel = -1
freqmul = 1.0
loop = 0
pan = 0

[State 740, 2]
type = playsnd
trigger1 = timemod = 25,0
value = 17,0
channel = 8
volume = 255


[State 0, StopSnd]
type = StopSnd
trigger1 = command != "holdx"
trigger2 = command != "holdy"
channel = 8

[State 2004, end0]
type = RemoveExplod
trigger1 = command != "holdx"
trigger2 = command != "holdy"
trigger3 = stateno !=2250
trigger4 = power = 0
trigger5 = numhelper(908) = 1
id = 905

[State 2004, end0]
type = RemoveExplod
trigger1 = command != "holdx"
trigger2 = command != "holdy"
trigger3 = stateno !=2250
trigger4 = power = 0
trigger5 = numhelper(908) = 1
id = 732

[State 2004, end0]
type = changestate
trigger1 = command != "holdx"
trigger2 = command != "holdy"
trigger3 = power = 0
value = 2251
ctrl = 0

[State 3500:	ChangeState]
type			= ChangeState
triggerall              = time > 50
triggerall              = var(9) = 1
trigger1 = (enemy, NumProj >= 0) && random = [100,900]
trigger2 = (enemy, numhelper >= 0) && random = [100,900]
trigger3 = time = 60
trigger4 = power = 0
value = 2251
ctrl = 0

;-------------------------------------------
; RR shield -  helper escudo
[Statedef 9077]
type    = A
movetype= I
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 3
anim = 907

[STate 731, hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP


[STate 731, override]
type = hitoverride
trigger1 = 1
attr = SAC,NP,SP,HP
stateno = 907
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[STate 2210, destroy]
type = destroyself
trigger1 = numhelper(908) = 1
;-------------------------
; RR Shield - termiacin
[Statedef 2251]
type     = A
movetype = A
physics  = S
juggle = 2
ctrl = 0
velset = 0,0,0
anim = 2251

[State 9077, helper]
type = Helper
trigger1 = (time = 0)
stateno = 908
id = 908
pos = 0, 10
postype = p1
ownpal = 1
helpertype = normal
name = "RR Shie"
removeongethit = 1
ontop = 1
supermovetime 	= - 1
ignorehitpause  = 1

[State 740, power]
type = Explod
trigger1 = time = 0
anim = 906
ID = 906
sprpriority = -1
bindtime = -1
removetime = 6
ownpal = 1
pos = 0, 10
scale = 0.7,0.7
removeongethit = 1

[State 2004, end0]
type = changestate
trigger1 = animtime = 0
value = 50
ctrl = 1

;-------------------------
; RR Shield - Helper Ad hoc
[Statedef 908]
type     = S
movetype = A
physics  = S
juggle = 2
ctrl = 0
velset = 0,0,0
anim = 908

[State 2004, end0]
type = destroyself
trigger1 = time = 1

;---------------------------------------------------------------------------
;Taiyoken
[Statedef 2300]
type 		= S
movetype	= A
physics		= S
anim		= 2300
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 2
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2300:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S18,7
channel		= 0

[State 2300:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S3,4

[State 2300:	PowerAdd]
type			= PowerAdd
trigger1		= (AnimElem = 3)
value			= -400



[State 2000, VarSet]
type = Varset
trigger1 = time = 0
fv = 19
value = 0.0

[State 2000, VarAdd]
type = Varadd
trigger1 = time >= 15 && fvar(19) < 1.5
fv = 19
value = 0.1

[State 2000, Luz]
type = Explod
trigger1 = time = [15,39]
Anim = 2349
Pos = 8, -68
Id = 2349
sprpriority = 999
removeongethit = 1
removetime = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = fvar(19), fvar(19)

[State 2000, Luz llendose]
type = Explod
trigger1 = time = 40
Anim = 2352
Pos = 8, -68
Id = 2352
sprpriority = 999
removeongethit = 0
;removetime = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = fvar(19), fvar(19)


[State 2300:	Helper]
type		= Helper
trigger1	= (AnimElem = 3)
helpertype	= Normal
name		= "Taiyoken"
id		= 2350
pos		= 8, -68
postype		= p1
facing		= 1
stateno		= 2350
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = fvar(19)
size.yscale     = fvar(19)
persistent	= 0
ignorehitpause	= 1

[State 2300:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl = 1


;Tayoken - Luz - helper
[Statedef 2350]
movetype	= A
anim		= 2350
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 5

[State 2350, HitDef]
type = HitDef
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 0
hitflag = MA
guardflag = MA
getpower = 0
pausetime = 0,75
guard.pausetime = 0,10
sparkno = -1
sparkxy = 0,0
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = 0
air.velocity = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time > 0
flag = invisible


[State 2101, DestroySelf]
type = DestroySelf
trigger1 = time = 25
trigger2 = movecontact = 1
;ignorehitpause =
;persistent =

;-----------------------------------------------------------------------------------
;-----------------------------------------------------------------------------------
; Soki + Kienzan - start
[Statedef 2400]
type    = S
movetype= A
physics = S
poweradd= -400
ctrl = 0
anim = 2400
sprpriority = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = (time)
value = 0

[State 2400]
type = Helper
trigger1 = time = 13
helpertype = normal
name = "Kienzan controlado"
ID = 2450
pos = 25,-110
postype = p1
stateno = 2450
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 1
size.xscale	= 1.0
size.yscale	= 1.0

[State 3001, Forward]
type = ChangeState
triggerall = time > 27
trigger1 = command = "holdfwd"
value = 2401

[State 3001, Back]
type = ChangeState
triggerall = time > 27
trigger1 = command = "holdup"
value = 2402

[State 3001, Up]
type = ChangeState
triggerall = time > 27
trigger1 = command = "holddown"
value = 2403

[State 3001, Down]
type = ChangeState
triggerall = time > 27
trigger1 = command = "holdback"
value = 2404

[State 3001, Throw]
type = ChangeState
triggerall = time > 27
trigger1 = command = "c"
value = 2410

;-----------------------------------------------------------------------------------
; Soki + Kienzan - FWD
[Statedef 2401]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 2401
sprpriority = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = (time)
value = 0

[State 3001, Back]
type = ChangeState
trigger1 = command != "holdfwd" && command = "holdup"
value = 2402

[State 3001, Up]
type = ChangeState
trigger1 = command != "holdfwd" && command = "holddown"
value = 2403

[State 3001, Down]
type = ChangeState
trigger1 = command != "holdfwd" && command = "holdback"
value = 2404

[State 3001, Throw]
type = ChangeState
trigger1 = command = "c"
value = 2410

[State 3001, Throw]
type = ChangeState
trigger1 = numhelper(2450) = 0
value = 0
Ctrl = 1

;-----------------------------------------------------------------------------------
; Soki + Kienzan - UP
[Statedef 2402]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 2402
sprpriority = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = (time)
value = 0

[State 3001, Back]
type = ChangeState
trigger1 = command != "holdup" && command = "holdfwd"
value = 2401

[State 3001, Up]
type = ChangeState
trigger1 = command != "holdup" && command = "holddown"
value = 2403

[State 3001, Down]
type = ChangeState
trigger1 = command != "holdup" && command = "holdback"
value = 2404

[State 3001, Throw]
type = ChangeState
trigger1 = command = "c"
value = 2410

[State 3001, Throw]
type = ChangeState
trigger1 = numhelper(2450) = 0
value = 0
Ctrl = 1

;-----------------------------------------------------------------------------------
; Soki + Kienzan - Down
[Statedef 2403]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 2403
sprpriority = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = (time)
value = 0

[State 3001, Back]
type = ChangeState
trigger1 = command != "holddown" &&  command = "holdfwd"
value = 2401

[State 3001, Up]
type = ChangeState
trigger1 = command != "holddown" &&  command = "holdup"
value = 2402

[State 3001, Down]
type = ChangeState
trigger1 = command != "holddown" && command = "holdback"
value = 2404

[State 3001, Throw]
type = ChangeState
trigger1 = command = "c"
value = 2410

[State 3001, Throw]
type = ChangeState
trigger1 = numhelper(2450) = 0
value = 0
Ctrl = 1



;-----------------------------------------------------------------------------------
; Soki + Kienzan - Back
[Statedef 2404]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 2404
sprpriority = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = (time)
value = 0

[State 3001, Back]
type = ChangeState
trigger1 = command != "holdback" && command = "holdfwd"
value = 2401

[State 3001, Up]
type = ChangeState
trigger1 = command != "holdback" && command = "holdup"
value = 2402

[State 3001, Down]
type = ChangeState
trigger1 = command != "holdback" && command = "holddown"
value = 2403

[State 3001, Throw]
type = ChangeState
trigger1 = command = "c"
value = 2410

[State 3001, Throw]
type = ChangeState
trigger1 = numhelper(2450) = 0
value = 0
Ctrl = 1

;-----------------------------------------------------------------------------------
; Soki + Kienzan - Lanzamiento
[Statedef 2410]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 2410
sprpriority = 1


[State 1050:	Helper]
type		= Helper
trigger1	= (AnimElem = 3)
helpertype	= Normal
name		= "Auxiliar de lanzamiento"
id		= 2460
pos		= 0,0
postype		= p1
facing		= 1
stateno		= 2460
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
persistent	= 0
ignorehitpause	= 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 3)
value = S17,3
volume = 0
channel = 5

[State 0, StopSnd]
type = StopSnd
trigger1 = (AnimElem = 3)
channel = 6

[State 0, StopSnd]
type = StopSnd
trigger1 = (AnimElem = 3)
channel = 7

[State 3001, Throw]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------
; Soki + Kienzan - Projerile
[Statedef 2450]
movetype	= A
anim		= 2450
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 2450, Explod - disco electricidad]
type = Explod
trigger1 =  time = 25
anim =  2451
ID =    2451
pos =  0,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
supermove
pausemove
scale = 0.8,0.6
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 400
framegap 	= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 80, 80, 80
trans 		= add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = hitcount >= 7
trigger2 = time = 400
trigger3 = Parent, vel x != 0
id = 2450

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = hitcount >= 7
trigger2 = time = 400
trigger3 = Parent, vel x != 0
id = 2451



[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7
volume = 0
channel = 6

[State 0, PlaySnd]
type = PlaySnd
triggerall = time > 30
trigger1 = time%35 = 0
value = S17,7
volume = 0
channel = 7




[State 3109, quiet]
type = VelSet
trigger1 = time > 10 && (Parent, command != "holdup" || command != "holddown" || command != "holdback" || command != "holdfwd")
x = 0
y = 0



[State 3109, GoUp1]
type = VelSet
triggerall = pos Y > -600
triggerall = parent, stateno != 2400
trigger1 = Parent, command = "holdup"
y = -4.5

[State 991, GoUp1]
type = VelAdd
triggerall = parent, stateno != 2400
trigger1 = Parent, command = "holdup"
y = -0.2


[State 3109, GoDown1]
type = VelSet
triggerall = pos Y < 0
triggerall = parent, stateno != 2400
trigger1 = Parent, command = "holddown"
y = 4.5

[State 991, GoDown1]
type = VelAdd
triggerall = pos Y < 0
triggerall = parent, stateno != 2400
trigger1 = Parent,command = "holddown"
y = 0.3



[State 3109, GoBack1]
type = VelSet
triggerall = parent, stateno != 2400
trigger1 = Parent, command = "holdback"
x = -5

[State 991, GoBack1]
type = VelAdd
triggerall = parent, stateno != 2400
trigger1 = Parent, command = "holdback"
x = -0.15


[State 3109, GoFwd1]
type = VelSet
triggerall = parent, stateno != 2400
trigger1 = Parent, command = "holdfwd"
x = 5

[State 991, GoFwd1]
type = VelAdd
triggerall = parent, stateno != 2400
trigger1 = Parent, command = "holdfwd"
x = 0.25


[State 2450:	VelSet]
type			= VelSet
trigger1		= Numhelper(2460) = 1
x = -15*(ifelse(parent,p2dist X<0,-1,1)*(parent,p2dist X/(abs(parent,p2dist X)+abs(parent,p2dist Y-(parent,p2statetype !=L*50)))))
y = 15*((parent,p2dist Y-(parent,p2statetype !=L*50))/(abs(parent,p2dist X)+abs(parent,p2dist Y-(parent,p2statetype !=L*50))))


[State 6550, VelSet]
type = VelSet
trigger1		= Numhelper(2460) = 1
x = -15*(ifelse(parentdist X>=0,-1,1)*(parentdist X/(abs(parentdist X)+abs(parentdist Y-(parent, statetype !=L*50)))))
y = 15*((parentdist Y-(parent, statetype !=L*50))/(abs(parentdist X)+abs(parentdist Y-(parent, statetype !=L*50))))



[State 2450:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 2450: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 2450:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA


[State 2450:	Hitdef]
type            = Hitdef
triggerall      =  hitcount < 7
trigger1        =  Animelem = 15 || animelem = 17
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 15,5
pausetime	= 4,4
sparkno		= -1
sparkxy		= 0,-5
;guard.sparkxy   = 30, 20
guard.sparkno	= -1
hitsound	= s4,4
guardsound	= s2,12
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -4+(random%8)
guard.velocity	= -4+(random%8)
air.velocity	= -4+(random%8),-3
airguard.velocity = -4+(random%8),-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 2450, Explod - spark]
type = Explod
trigger1 =  Movecontact = 1
anim =  1751
ID =    1751
pos =  0+(random%30),0+(random%5)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 991, MakeDust1]
type = MakeDust
triggerall = Pos Y >= -80 && Pos Y <= -70
trigger1 = parent, command = "holdfwd"
trigger2 = parent, command = "holdback"
pos = 5+(random%80), 75 +(random%20)
spacing = 3

[State 991, MakeDust2]
type = MakeDust
triggerall = Pos Y >= -70 && Pos Y <= -60
trigger1 = parent, command = "holdfwd"
trigger2 = parent, command = "holdback"
pos = 5+(random%80), 60 +(random%20)
spacing = 3

[State 991, MakeDust3]
type = MakeDust
triggerall = Pos Y >= -60 && Pos Y <= -50
trigger1 = parent, command = "holdfwd"
trigger2 = parent, command = "holdback"
pos = 5+(random%80), 50 +(random%20)
spacing = 3

[State 991, MakeDust4]
type = MakeDust
triggerall = Pos Y >= -50 && Pos Y <= -40
trigger1 = parent, command = "holdfwd"
trigger2 = parent,command = "holdback"
pos = 5+(random%80), 40 +(random%20)
spacing = 3

[State 991, MakeDust5]
type = MakeDust
triggerall = Pos Y >= -40
trigger1 = parent, command = "holdfwd"
trigger2 = parent, command = "holdback"
pos = -5+(random%80), 30 +(random%20)
spacing = 3

[State 991, MakeDust5]
type = MakeDust
triggerall = Pos Y >= -30
trigger1 = time > 0
pos = -50+(random%80), 15 +(random%20)
spacing = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = hitcount >= 7
trigger2 = time = 400
trigger3 = Parent, vel x != 0
value = 2455

;--------------------------------------
; Soki + Kienzan - Projetile - finish
[Statedef 2455]
movetype	= A
anim		= 2455
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2



[State 2450:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 2450:	DestroySelf]
type			= DestroySelf
trigger1 		= Animtime = 0

;--------------------------------------
; Soki + Kienzan - Auxiliar de lanZamiento
[Statedef 2460]
movetype	= A
anim		= 2460
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2


[State 2450:	DestroySelf]
type			= DestroySelf
trigger1 		= Animtime = 0

;-----------------------------------------------------------------------------------
;-----------------------------------------------------------------------------------
; NanoAtake - lanzamiento 1
[Statedef 2500]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2500
poweradd = -400

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 901:		Helper]
type		= Helper
trigger1	= (AnimElem = 2)
helpertype	= Normal
name		= "NanoAtake start"
id		= 2550
pos		= 45,-65
postype		= p1
facing		= 1
stateno		= 2550
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.9
size.yscale     = 0.9

[State 901, Explod]
type = Explod
trigger1 = Animelem = 2
anim =  949
ID = 949
pos = 35,-60
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
Ontop = 1
removetime = 16
removeongethit = 1


[State 901, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 4

[State 901, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  0
ctrl= 1

;-----------------------------------------------
;-----------------------------------------------
;Nanoatake - Projectile Adelante Start 1
[Statedef 2550]
movetype	= A
anim		= 2550
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 2550:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 2550: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 2550:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 950:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0


[State 2550:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 2
y			= 0


[State 2550:	VelMul]
type		= Veladd
trigger1	= (Time > 0) && (time <33)
x		= 0.3


[State 2550:	VelSet]
type			= VelSet
trigger1		= (Time >= 33)
x			= 0
y			= 0


[State 0: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 33
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .95, .90
palcontrast 	= 150,165,150
trans 		= add

[State 901:		Helper]
type		= Helper
triggerall      = time >= 33  && time < 65
trigger1	= time%20 =0
helpertype	= Normal
name		= "NanoAtake start"
id		= 2560
pos		= -5,-10
postype		= p1
facing		= 1
stateno		= 2560
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 901:		Helper]
type		= Helper
triggerall      = time >= 33  && time < 65
trigger1	= time%20 =2
helpertype	= Normal
name		= "NanoAtake start"
id		= 2561
pos		= -5,10
postype		= p1
facing		= 1
stateno		= 2561
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 2550, Explod]
type = Explod
trigger1 = time = 95
anim =  9330
ID = 9330
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.3,0.3
Ontop = 1
removetime = -2
removeongethit = 1

[State 2550:	DestroySelf]
type			= DestroySelf
trigger1                = time = 95

;-----------------------------------------------
;Nanoatake - Projectile Bala 1
[Statedef 2560]
movetype	= A
anim		= 2560
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 2350:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
value =  -30

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
x = -4
y = -2


[State 2550:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 40,10
pausetime	= 1,8
sparkno		= s9360
sparkxy		= -25,-30
;guard.sparkxy   = 30, 20
guard.sparkno	= -1
hitsound	= s2,12
guardsound	= s2,12
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= 4,-3
airguard.velocity = 4,-3
ground.cornerpush.veloff = 0


[State 950:	DestroySelf]
type			= DestroySelf
trigger1                = movecontact = 1
trigger2                = time = 175

;-----------------------------------------------
;Nanoatake - Projectile Bala 2
[Statedef 2561]
movetype	= A
anim		= 2560
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 2350:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
value =  30

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
x = -4
y = 2

[State 2550:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 40,10
pausetime	= 1,8
sparkno		= s9360
sparkxy		= -25,-30
;guard.sparkxy   = 30, 20
guard.sparkno	= -1
hitsound	= s2,12
guardsound	= s2,12
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= 4,-3
airguard.velocity = 4,-3
ground.cornerpush.veloff = 0



[State 950:	DestroySelf]
type			= DestroySelf
trigger1                = movecontact = 1
trigger2                = time = 175

;-----------------------------------------------------------------------------------
;-----------------------------------------------------------------------------------
; NanoAtake - lanzamiento 2
[Statedef 2501]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2501
poweradd = -300

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 901:		Helper]
type		= Helper
trigger1	= (AnimElem = 2)
helpertype	= Normal
name		= "NanoAtake start 2"
id		= 2551
pos		= 45,-45
postype		= p1
facing		= 1
stateno		= 2551
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.9
size.yscale     = 0.9

[State 901, Explod]
type = Explod
trigger1 = Animelem = 2
anim =  949
ID = 949
pos = 35,-40
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
Ontop = 1
removetime = 16
removeongethit = 1


[State 901, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 4

[State 901, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  0
ctrl= 1

;-----------------------------------------------
;-----------------------------------------------
;Nanoatake - Projectile Adelante Start 2
[Statedef 2551]
movetype	= A
anim		= 2550
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 2550:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 2550: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 2550:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 950:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0


[State 2550:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 2
y			= 4


[State 2550:	VelMul]
type		= Veladd
trigger1	= (Time > 0) && (time <22)
x		= 0.3


[State 2550:	VelSet]
type			= VelSet
trigger1		= (Time >= 22)
x			= 0
y			= 0


[State 0: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 33
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .95, .90
palcontrast 	= 150,165,150
trans 		= add

[State 901:		Helper]
type		= Helper
triggerall      = time >= 22 && time < 62
trigger1	= time%20 =0
helpertype	= Normal
name		= "NanoAtake start"
id		= 2562
pos		= 10,-10
postype		= p1
facing		= 1
stateno		= 2562
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 901:		Helper]
type		= Helper
triggerall      = time >= 22 && time < 62
trigger1	= time%20 =2
helpertype	= Normal
name		= "NanoAtake start"
id		= 2563
pos		= -10,-10
postype		= p1
facing		= 1
stateno		= 2563
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 2550, Explod]
type = Explod
trigger1 = time = 95
anim =  9330
ID = 9330
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.3,0.3
Ontop = 1
removetime = -2
removeongethit = 1

[State 2550:	DestroySelf]
type			= DestroySelf
trigger1                = time = 95

;-----------------------------------------------
;Nanoatake - Projectile Bala 3
[Statedef 2562]
movetype	= A
anim		= 2560
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 2350:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
value =  75

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
x = 2
y = -5


[State 2550:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 40,10
pausetime	= 1,8
sparkno		= s9360
sparkxy		= -25,-30
;guard.sparkxy   = 30, 20
guard.sparkno	= -1
hitsound	= s2,12
guardsound	= s2,12
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= 4,-3
airguard.velocity = 4,-3
ground.cornerpush.veloff = 0


[State 950:	DestroySelf]
type			= DestroySelf
trigger1                = movecontact = 1
trigger2                = time = 175

;-----------------------------------------------
;Nanoatake - Projectile Bala 4
[Statedef 2563]
movetype	= A
anim		= 2560
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 2350:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
value =  -75

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
x = -2
y = -4

[State 2550:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 40,10
pausetime	= 1,8
sparkno		= s9360
sparkxy		= -25,-30
;guard.sparkxy   = 30, 20
guard.sparkno	= -1
hitsound	= s2,12
guardsound	= s2,12
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= 4,-3
airguard.velocity = 4,-3
ground.cornerpush.veloff = 0



[State 950:	DestroySelf]
type			= DestroySelf
trigger1                = movecontact = 1
trigger2                = time = 175

;-----------------------------------------------------------------------------------
;-----------------------------------------------------------------------------------
; NanoAtake - lanzamiento 3
[Statedef 2502]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2502
poweradd = -300

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 901:		Helper]
type		= Helper
trigger1	= (AnimElem = 2)
helpertype	= Normal
name		= "NanoAtake start 3"
id		= 2552
pos		= 45,-85
postype		= p1
facing		= 1
stateno		= 2552
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.9
size.yscale     = 0.9

[State 901, Explod]
type = Explod
trigger1 = Animelem = 2
anim =  949
ID = 949
pos = 35,-80
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
Ontop = 1
removetime = 16
removeongethit = 1


[State 901, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 4

[State 901, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  0
ctrl= 1

;-----------------------------------------------
;-----------------------------------------------
;Nanoatake - Projectile Adelante Start 3
[Statedef 2552]
movetype	= A
anim		= 2550
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 2550:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 2550: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 2550:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 950:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0


[State 2550:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 2
y			= -4.5


[State 2550:	VelMul]
type		= Veladd
trigger1	= (Time > 0) && (time <22)
x		= 0.3


[State 2550:	VelSet]
type			= VelSet
trigger1		= (Time >= 22)
x			= 0
y			= 0


[State 0: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 33
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .95, .90
palcontrast 	= 150,165,150
trans 		= add

[State 901:		Helper]
type		= Helper
triggerall      = time >= 22 && time < 62
trigger1	= time%20 =0
helpertype	= Normal
name		= "NanoAtake start"
id		= 2564
pos		= 10,10
postype		= p1
facing		= 1
stateno		= 2564
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 901:		Helper]
type		= Helper
triggerall      = time >= 22 && time < 62
trigger1	= time%20 =2
helpertype	= Normal
name		= "NanoAtake start"
id		= 2565
pos		= -10,10
postype		= p1
facing		= 1
stateno		= 2565
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 2550, Explod]
type = Explod
trigger1 = time = 95
anim =  9330
ID = 9330
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.3,0.3
Ontop = 1
removetime = -2
removeongethit = 1

[State 2550:	DestroySelf]
type			= DestroySelf
trigger1                = time = 95

;-----------------------------------------------
;Nanoatake - Projectile Bala 3
[Statedef 2564]
movetype	= A
anim		= 2560
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 2350:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
value =  -75

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
x = 2
y = 5


[State 2550:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 40,10
pausetime	= 1,8
sparkno		= s9360
sparkxy		= -25,-30
;guard.sparkxy   = 30, 20
guard.sparkno	= -1
hitsound	= s2,12
guardsound	= s2,12
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= 4,-3
airguard.velocity = 4,-3
ground.cornerpush.veloff = 0


[State 950:	DestroySelf]
type			= DestroySelf
trigger1                = movecontact = 1
trigger2                = time = 175

;-----------------------------------------------
;Nanoatake - Projectile Bala 4
[Statedef 2565]
movetype	= A
anim		= 2560
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 2350:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
value =  75

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
x = -2
y = 5

[State 2550:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 40,10
pausetime	= 1,8
sparkno		= s9360
sparkxy		= -25,-30
;guard.sparkxy   = 30, 20
guard.sparkno	= -1
hitsound	= s2,12
guardsound	= s2,12
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= 4,-3
airguard.velocity = 4,-3
ground.cornerpush.veloff = 0



[State 950:	DestroySelf]
type			= DestroySelf
trigger1                = movecontact = 1
trigger2                = time = 175



;===========================================================================
;-| SUPER MOVES |-----------------------------------------------------------
;---------------------------------------------------------------------------
;===========================================================================

;---------------------------------------------------------------------------
;Makankosappou
[Statedef 3000]
type 		= S
movetype	= A
physics		= S
anim		= 3000
;velset		= 0,0
ctrl		= 0
poweradd	= -1000
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2


[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 5
time = 20
movetime = 20
anim = -1
sound = S2,6
pos = 32,-80
darken = 0
unhittable = 1


[State 3000, VarSet]
type = Varset
trigger1 = time = 5
v = 12
value = -200

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 10 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 5
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Cmara lenta]
type = Pause
trigger1 = time = [20, 35]
time = 1
movetime = 0

[State 3000:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 1, > 0) && ((GameTime%10) = 0)
time			= 20
freq			= 120
ampl			= -2
phase			= 50


[State 3000, Super Charge]
type = Explod
trigger1 = Time = 5
anim = 9190
ID = 9190
pos = 10,-60
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .7,.7
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

;------------------------
[State 3000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,8


[State 3000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S18,6

[State 3000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2, > 0) && ((GameTime%9) = 0)
value			= S0,8
lowpriority		= 1
channel		= 1
;---------------------------------------

[State 3000:	PalFX]
type		= PalFX
trigger1	= (AnimElem = 2, > 0) && ((GameTime%100) = 0)
time		= 60
add		= 100,100,100
mul		= 256,256,256
sinadd		= -80,-80,-80,60
invertall	= 0
color		= 256



[State 3000:	Explod]
type		= Explod
trigger1	= (time = 36)
anim		= 9050
id		= 9050
pos		= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= -1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -1
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.7,0.7
sprpriority	= 0
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 3000:	Makakosanpo Chargue]
type		= Explod
trigger1	= (time = 26)
anim		= 9229
id		= 9229
pos		= 10,-60
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= -1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.5,0.5
sprpriority	= 3
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1



[State 3000:	ChangeState]
type			= ChangeState
trigger1		= animtime = 0
value			= 3005


;---------------------------------------------------------------------------
;Makankosappou: Release
[Statedef 3005]
type 		= S
movetype	= A
physics		= S
anim		= 3005
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 0


[State 3005:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1)
value			= S3,5

[State 3005:	StopSnd]
type			= StopSnd
trigger1		= (AnimElem = 1)
channel		= 0

[State 3005:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 1)
id			= 9050


[State 3005:	Makankosappou Explod]
type		= Explod
trigger1	= (AnimElem = 1)
anim		= 9240
id		= 9240
pos		= 42,-61
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= 15
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.7,0.7
sprpriority	= 2
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1



[State 3005:	Helper]
type		= Helper
trigger1 	= (AnimElem = 1)
helpertype	= Normal
name		= "Makankosappou"
id		= 3050
pos		= 42,-61
postype		= p1
facing		= 1
stateno		= 3050
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 3005:	Helper]
type		= Helper
trigger1 	= time = 0
helpertype	= Normal
name		= "Helper FX varios"
id		= 3060
pos		= 0,0
postype		= p1
facing		= 1
stateno		= 3060
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 3060, Explod]
type = Explod
triggerall = time > 10
trigger1 = time%3 = 0
anim =  9240
ID = 9240
pos = 100+(random%200),-70+(random%40)
vel = -1+(random%1),0.5+(random%1)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.1,0.1
Ontop = 1
removetime = -2
removeongethit = 0



[State 3005:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= (IfElse(BackEdgeBodyDist > -5,0,100))

;---------------------------------------------------------------------------
;Makankosappou: Projectile
[Statedef 3050]
type 		= A
movetype	= A
physics		= N
anim		= 9230
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 3

[State 9230:	NotHitBy]
type		= NotHitBy
trigger1	= 1
value		= SCA

[State 9230:	PlayerPush]
type		= PlayerPush
trigger1	= 1
value		= 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 9230:	VelSet]
type		= VelSet
trigger1	= (!Time)
value		= 0.5

[State 9230:	BGPalFX]
type		= BGPalFX
trigger1	= (MoveContact) && ((GameTime%4) = 0)
time		= 1
add		= 200,200,200
mul		= 256,256,256
sinadd		= -200,-200,-200,40
invertall	= 0
color		= 256

[State 9230:	Explod]
type		= Explod
trigger1	= (MoveContact) && ((GameTime%4) = 0)
anim		= 9010
id		= 9010
pos		= 0,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 30,40
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 1,1
sprpriority	= 4
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
ignorehitpause	= 1

[State 9230:	Explod]
type		= Explod
trigger1	= (MoveContact)
anim		= 9160
id		= 9160
pos		= 0,-25
postype		= p2
facing		= 1
vfacing		= 1
bindtime	= 30
vel		= 0,-0.5
accel		= 0,0
random		= 10,10
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.5,1
sprpriority	= 3
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent	= 0
ignorehitpause	= 1

[State 9230:	Explod]
type		= Explod
trigger1	= (MoveContact)
anim		= 9030
id		= 9030
pos		= 0,-61
postype		= p2
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 1,1
sprpriority	= 3
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent	= 0
ignorehitpause	= 1

[State 9230:	AfterImage]
type		= AfterImage
trigger1 	= (!Time)
time 		= 40
timegap		= 2
framegap 	= 3
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100,100,100
trans 		= add

[State 9230:	HitDef]
type		= HitDef
trigger1	= Time = 1 || Time = 4 || Time = 7 || Time = 9 || Time = 12 || Time = 15
attr		= S, HP
hitflag		= MAFDP
;guardflag	= M
animtype	= Hard
priority	= 7, Hit
damage		= 65, 30
pausetime	= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
;hitsound	= S0,5
;guardsound	= S0,9
ground.type	= Low
air.type	= Trip
ground.slidetime = 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.35
ground.velocity	= -6,-4.5
guard.velocity	= -6
air.velocity	= -6,-4.5
airguard.velocity = -6,-4.5
fall = 1
ground.cornerpush.veloff = 0
id		= 9230
getpower	= 0
givepower	= 50
palfx.time	= 40
palfx.mul	= 256,256,256
palfx.add	= 200,200,200
palfx.sinadd	= -100,-100,-100,40
envshake.time 	= 30
envshake.freq 	= 120
envshake.ampl 	= -8
ignorehitpause	= 1


[State 9230:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime) || (Parent, StateNo != 3005)

;---------------------------------------------------------------------------
;Makankosappou: Helper FX varios
[Statedef 3060]
type 		= A
movetype	= A
physics		= N
anim		= 3060
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 3

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
x = 15
y = 0

[State 3060, Explod]
type = Explod
trigger1 = time%2 = 0
anim =  7100
ID = 7100
pos = 0,10
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.3,0.3
Ontop = 1
removetime = -2
removeongethit = 0


[State 3060:	DestroySelf]
type		= DestroySelf
trigger1	= time = 200

;===============================================================================
;-------------------------------------------------------------------------------
;Big Bang + Daichiretsuzan
[Statedef 3100]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd = -1000
ctrl = 0
anim = 3100
sprpriority = 2
;velset = 0, 0

[State 3100, VelMul]
type = VelMul
trigger1 = Time > 0
x = .075
y = .125 ;.2

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 5
time = 20
movetime = 20
anim = -1
sound = S2,6
pos = 32,-80
darken = 0
unhittable = 1


[State 3000, VarSet]
type = Varset
trigger1 = time = 5
v = 12
value = -200

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 10 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 5
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Cmara lenta]
type = Pause
trigger1 = time = [20, 35]
time = 1
movetime = 0

[State 3000:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 1, > 0) && ((GameTime%10) = 0)
time			= 20
freq			= 120
ampl			= -2
phase			= 50


[State 3000, Super Charge]
type = Explod
trigger1 = Time = 10
anim = 9190
ID = 9190
pos = 0,-45
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .7,.7
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000:	Big Bang Chargue]
type		= Explod
trigger1	= (time = 36)
anim		= 9300
id		= 9300
pos		= 0,-45
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= -1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.5,0.5
sprpriority	= 3
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 26
value = S1,8
volume = 50
channel = 2


[State 3005:	Helper]
type		= Helper
trigger1 	= (time = 56)
helpertype	= Normal
name		= "Big Bang"
id		= 3150
pos		= 0,-30
postype		= p1
facing		= 1
stateno		= 3150
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (time = 56)
value = S1,4
volume = 50
channel = 3



[State 0, ChangeState]
type = ChangeState
trigger1 = time = 100
value = 50
ctrl = 1

;-------------------------------------------------------------------------------
;Big Bang - Projetile
[Statedef 3150]
movetype	= A
anim		= 9310
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 5

[State 2350:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
value =  -80

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
x = 1
y = 10

[State 9230:	HitDef]
type		= HitDef
trigger1	= 1
attr		= S, HP
hitflag		= MAFDP
;guardflag	= M
animtype	= Hard
priority	= 7, Hit
damage		= 250, 30
pausetime	= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound	= S0,5
guardsound	= S0,5
ground.type	= Low
air.type	= Trip
ground.slidetime = 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.35
ground.velocity	= -4,-6.5
guard.velocity	= -4
air.velocity	= -4,-4.5
airguard.velocity = -4,-4.5
fall = 1
ground.cornerpush.veloff = 0
id		= 9230
getpower	= 0
givepower	= 50
palfx.time	= 40
palfx.mul	= 256,256,256
palfx.add	= 200,200,200
palfx.sinadd	= -100,-100,-100,40
envshake.time 	= 30
envshake.freq 	= 120
envshake.ampl 	= -8
ignorehitpause	= 1

[State 3000:	Big Explosion]
type		= Explod
triggerall = numexplod(9330) = 0
trigger1 = Movecontact = 1
trigger2 = Pos y >= 0
anim		= 9330
id		= 9330
pos		= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 1,1
sprpriority	= 3
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Pos y >= 0
value = S0,5
volume = 50
channel = 4

[State 3005:	Helper]
type		= Helper
triggerall      = Numhelper(3160) = 0
trigger1 	= Pos y >= 0
helpertype	= Normal
name		= "Daichiretsuzan"
id		= 3160
pos		= -30,-0
postype		= p1
facing		= 1
stateno		= 3160
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 3005:	Helper]
type		= Helper
triggerall      = Numhelper(3160) = 1
trigger1 	= Pos y >= 0
helpertype	= Normal
name		= "Daichiretsuzan Atras"
id		= 3161
pos		= 10,0
postype		= p1
facing		= 1
stateno		= 3161
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0



[State 0, DestroySelf]
type = DestroySelf
trigger1 = Movecontact = 1
trigger2 = Pos y >= 0

;===============================================================================
;Daichiretsuzan
[Statedef 3160]
movetype = A
anim = 3160
velset	= 0,0
ctrl = 0
poweradd = 0
juggle = 0
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 1050, AssertSpecial]
type = AssertSpecial
trigger1 = 1
;flag = Invisible
flag = NoShadow

[STate 1050, HitBy]
type = HitBy
trigger1 = 1
value = SAC,NP,SP,HP

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA


[State 1050, VelSet]
type = VelSet
trigger1 = Time = 0
x = 9
y = 0


[State 0, Explod]
type = Explod
trigger1 = Time%8 = 0
anim = 9340
ID = 9340
pos = 25,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = 2
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 0
;persistent =


[State 1050, Hitdef]
type = Hitdef
trigger1 = 1
attr = S, H
hitflag	= MAFDP
guardflag = MA
animtype = Back
priority = 7, Hit
damage = 60,5
pausetime = 3,2
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 15+(random%5),-10+(random%5)
hitsound	= S2,12
guardsound	= S2,12
guard.sparkno = -1
hitsound = s1,7
guardsound = s1,7
ground.type = Low
air.type = Trip
ground.slidetime = 20
ground.hittime = 20
air.hittime = 15
ground.velocity = -8,-3
guard.velocity = -5
air.velocity = -9,-2
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall = 1
fall.xvelocity = -1
fall.yvelocity = -3
fall.recover = 0
air.fall = 1
down.velocity = -1,-2
down.bounce = 1
guard.kill = 0
getpower = 0
givepower = 35


[State 2450, Explod - spark]
type = Explod
trigger1 =  Movecontact = 1
anim =  1751
ID =    1751
pos =  0+(random%30),-50+(random%5)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 1050, DestroySelf]
type = DestroySelf
trigger1 = time = 90

;===============================================================================
;Daichiretsuzan  ATRAS
[Statedef 3161]
movetype = A
anim = 3160
velset	= 0,0
ctrl = 0
poweradd = 0
juggle = 0
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 1050, AssertSpecial]
type = AssertSpecial
trigger1 = 1
;flag = Invisible
flag = NoShadow

[STate 1050, HitBy]
type = HitBy
trigger1 = 1
value = SAC,NP,SP,HP

[State 1050, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA


[State 1050, VelSet]
type = VelSet
trigger1 = Time = 0
x = -10
y = 0


[State 0, Explod]
type = Explod
trigger1 = Time%8 = 0
anim = 9341
ID = 9341
pos = 25,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = -3,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = 2
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 0
;persistent =


[State 1050, Hitdef]
type = Hitdef
trigger1 = 1
attr = S, H
hitflag	= MAFDP
guardflag = MA
animtype = Back
priority = 7, Hit
damage = 60,5
pausetime = 3,2
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 15+(random%5),-10+(random%5)
hitsound	= S2,12
guardsound	= S2,12
guard.sparkno = -1
hitsound = s1,7
guardsound = s1,7
ground.type = Low
air.type = Trip
ground.slidetime = 20
ground.hittime = 20
air.hittime = 15
ground.velocity = -8,-3
guard.velocity = -5
air.velocity = -9,-2
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall = 1
fall.xvelocity = -1
fall.yvelocity = -3
fall.recover = 0
air.fall = 1
down.velocity = -1,-2
down.bounce = 1
guard.kill = 0
getpower = 0
givepower = 35


[State 2450, Explod - spark]
type = Explod
trigger1 =  Movecontact = 1
anim =  1751
ID =    1751
pos =  0+(random%30),0+(random%5)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 1050, DestroySelf]
type = DestroySelf
trigger1 = time = 90






;===========================================================================
;---------------------------------------------------------------------------
;===========================================================================

;---------------------------------------------------------------------------
;Chou KameHameHa - Chargue
[Statedef 3200]
type 		= S
movetype	= A
physics		= S
anim		= 3200
;velset		= 0,0
ctrl		= 0
poweradd	= -2000
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 3000, SuperPause]
type = SuperPause
trigger1 = (!time)
time = 50
movetime = 20
anim = -1
sound = s2, 6
pos = 32,-80
darken = 0
unhittable = 1


[State 3000, VarSet]
type = Varset
trigger1 = time = 1
v = 12
value = -200

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 10 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 1
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Cmara lenta]
type = Pause
trigger1 = time = [20, 35]
time = 1
movetime = 0

[State 3000:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 1, > 0) && ((GameTime%10) = 0)
time			= 20
freq			= 120
ampl			= -2
phase			= 50

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 5
anim = 9190
ID = 9190
pos = 10,-55
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .8,.8
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1




[State 3020:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(7)		= 200

[State 3020:	VarAdd]
type			= VarAdd
trigger1		= (Time > 100) && (Var(7) < 750)
var(7)		= 1

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,4

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,7

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,8

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S0,4
channel		= 0
loop			= 1

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3, = 15)
value			= S3,1

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2, = 30)
value			= S18,5
channel= 4
[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3, > 0) && ((GameTime%9) = 0)
value			= S0,8
lowpriority		= 1
channel		= 1

[State 3020:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 3, > 0) && ((GameTime%10) = 0)
time			= 10
freq			= 120
ampl			= -6
phase			= 90

[State 3020:	PalFX]
type			= PalFX
trigger1		= (AnimElem = 2, > 0) && ((GameTime%100) = 0)
time			= 60
add			= 100,100,100
mul			= 256,256,256
sinadd		= -80,-80,-80,60
invertall		= 0
color			= 256

[State 3020:	BGPalFX]
type			= BGPalFX
trigger1		= (AnimElem = 3, > 50) && ((GameTime%40) = 0) && (NumHelper(9270) = 0)
time			= 10
add			= 20,20,20
mul			= 256,256,256
sinadd		= 200,200,200,4
invertall		= 1
color			= 256




[State 60, Explod atras]
type = Explod
trigger1 = (AnimElem = 2)
anim = 7100
ID =  7100
pos = -20,20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 24
supermove = 1
pausemove =1
scale = 0.6, 0.6
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 60, Explod adelante]
type = Explod
trigger1 = (AnimElem = 2)
anim = 7101
ID =  7101
pos = 20,20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 24
supermove = 1
pausemove =1
scale = 0.6, 0.6
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0


[State 3020:	Explod ground]
type		= Explod
trigger1	= (AnimElem = 2)
anim		= 9050
id		= 9050
pos		= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= -1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -1
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.7,0.7
sprpriority	= 0
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 3020:	Kame Chargue]
type		= Explod
trigger1	= (AnimElem = 3)
anim		= 9200
id		= 9200
pos		= -20,-52
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= -1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -1
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.75,0.75
sprpriority	= 3
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1



[State 3020:	Helper]
type		= Helper
trigger1	= (Time > 100) && ((GameTime%10) = 0) && (Random < 249) && (NumHelper(3021) < 5)
helpertype	= Normal
name		= "Rock000"
id		= 3021
pos		= 0,0
postype		= p1
facing		= 0
stateno		= 3021
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= (IfElse(Random <= 799,0.75,3))
size.yscale	= (IfElse(Random <= 799,0.75,3))

[State 3020:	Helper]
type		= Helper
trigger1	= (Time > 100) && ((GameTime%20) = 0) && (Random > 749) && (NumHelper(3022) < 5)
helpertype	= Normal
name		= "Rock001"
id		= 3022
pos		= 0,0
postype		= p1
facing		= 0
stateno		= 3022
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= (IfElse(Random <= 499,0.75,0.50))
size.yscale	= (IfElse(Random <= 499,0.75,0.50))

[State 3020:	Helper]
type		= Helper
trigger1	= (Time > 100) && ((GameTime%30) = 0) && (Random = [249,749]) && (NumHelper(3023) < 5)
helpertype	= Normal
name		= "Rock002"
id		= 3023
pos		= 0,0
postype		= p1
facing		= 0
stateno		= 3023
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= (IfElse(Random <= 499,0.50,0.75))
size.yscale	= (IfElse(Random <= 499,0.50,0.75))


[State 3100, PowerAdd]
type = PowerAdd
trigger1 = time > 5
value = -5

[State 3100, VarSet  - Ki power base]
type		= VarSet
trigger1	= (!Time)
var(7)		= 300

[State 3100, VarAdd  - Charge Ki power]
type		= VarAdd
trigger1	= (Time > 70) && ((GameTime%1) = 0) && (Var(7) < 600)
var(7)		= 1

[State 3100, VarSet  - Helper Kame Scale]
type		= VarSet
trigger1	= (!Time)
var(6)		= 11

[State 3100, VarAdd  - Helper Kame Scale]
type		= VarAdd
trigger1	= (Time > 70) && ((GameTime%6) = 0) ;&& (Var(6) < 30)
var(6)		= 1

[State 3500:	ChangeState]
type			= ChangeState
triggerall              = time > 70
trigger1		= (Command != "holdc")
trigger2                = Time = 270
trigger3                = power <= 0
value			= (IfElse(Command = "holdup",3207,3205))

[State 3500:	ChangeState]
type			= ChangeState
triggerall              = time > 70
triggerall              = var(9) = 1
trigger1                = p2bodydist x <= 100
trigger2                = Time = 270
trigger3                = power <= 0
value			= (IfElse(p2bodydist y <= -90,3207,3205))

[State 3500:	ChangeState]
type			= ChangeState
trigger1		= (AnimElem = 12, > 80)
value			= 3020

;---------------------------------------------------------------------------
;Chou KameHameHa: Rock000
[Statedef 3021]
type 			= S
movetype		= I
physics		= N
anim			= 9080
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 3021:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 3021:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 3021:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= var(0)
y			= 0

[State 3021:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-1,-2))

[State 3021:	VelSet]
type			= VelSet
trigger1		= (Parent, StateNo = 3025) && (Parent, AnimElem = 2)
x			= 15

[State 3021:	VelAdd]
type			= VelAdd
trigger1		= (Vel X >= 15)
x			= 0.5

[State 3021:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != 3020)
y			= 0.05

[State 3021:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Const(Size.XScale) <= 1)
value			= S2,2

[State 3021:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Const(Size.XScale) > 1)
value			= S0,1

[State 3021:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,9

[State 3021:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 3021:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

;---------------------------------------------------------------------------
;Chou KameHameHa: Rock001
[Statedef 3022]
type 			= S
movetype		= I
physics		= N
anim			= 9090
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 3022:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 3022:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 3022:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= var(0)
y			= 0

[State 3022:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-1.5,-2.5))

[State 3022:	VelSet]
type			= VelSet
trigger1		= (Parent, StateNo = 3025) && (Parent, AnimElem = 2)
x			= 15

[State 3022:	VelAdd]
type			= VelAdd
trigger1		= (Vel X >= 15)
x			= 0.5

[State 3022:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != 3020)
y			= 0.05

[State 3022:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S2,2

[State 3022:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,9

[State 3022:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 3022:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

;---------------------------------------------------------------------------
;Chou KameHameHa: Rock002
[Statedef 3023]
type 			= S
movetype		= I
physics		= N
anim			= 9100
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 3023:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 3023:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 3023:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= var(0)
y			= 0

[State 3023:	PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 3023:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-2,-3))

[State 3023:	VelSet]
type			= VelSet
trigger1		= (Parent, StateNo = 3025) && (Parent, AnimElem = 2)
x			= 15

[State 3023:	VelAdd]
type			= VelAdd
trigger1		= (Vel X >= 15)
x			= 0.5

[State 3023:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != 3020)
y			= 0.05

[State 3023:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S2,2

[State 3023:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,9

[State 3023:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 3023:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)


;---------------------------------------------------------------------------
;Chou KameHameHa: Release
[Statedef 3205]
type 		= S
movetype	= A
physics		= S
anim		= 3205
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 0


[State 3205:	ScreenBound]
type			= ScreenBound
trigger1		= (P2MoveType = H) || (BackEdgeBodyDist < -1)
value			= 0
movecamera		= 0,0

[State 3205:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= -3

[State 3205:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 0) || (AnimElem = 2, = 2) || (AnimElem = 2, = 4) || (AnimElem = 2, = 6) || (AnimElem = 2, = 8) || (AnimElem = 2, = 10)
trigger2		= (AnimElem = 2, = 12) || (AnimElem = 2, = 14) || (AnimElem = 2, = 16) || (AnimElem = 2, = 18) || (AnimElem = 2, = 20)
trigger3		= (AnimElem = 2, = 22) || (AnimElem = 2, = 24) || (AnimElem = 2, = 26) || (AnimElem = 2, = 28) || (AnimElem = 2, = 30)
trigger4		= (AnimElem = 2, = 32) || (AnimElem = 2, = 34) || (AnimElem = 2, = 36) || (AnimElem = 2, = 38) || (AnimElem = 2, = 40)
x			= 0.85

[State 3205:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 1) || (AnimElem = 2, = 3) || (AnimElem = 2, = 5) || (AnimElem = 2, = 7) || (AnimElem = 2, = 9)
trigger2		= (AnimElem = 2, = 11) || (AnimElem = 2, = 13) || (AnimElem = 2, = 15) || (AnimElem = 2, = 17) || (AnimElem = 2, = 19)
trigger3		= (AnimElem = 2, = 21) || (AnimElem = 2, = 23) || (AnimElem = 2, = 25) || (AnimElem = 2, = 27) || (AnimElem = 2, = 29)
trigger4		= (AnimElem = 2, = 31) || (AnimElem = 2, = 33) || (AnimElem = 2, = 35) || (AnimElem = 2, = 37) || (AnimElem = 2, = 39)
x			= -0.85

[State 3205:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S3,5

[State 3205:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S18,4

[State 0, StopSnd]
type = StopSnd
trigger1 = Time = 0
channel = 4

[State 3205:	StopSnd]
type			= StopSnd
trigger1		= (AnimElem = 2)
channel		= 0

[State 3205:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 2)
id			= 9050

[State 3205:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 2)
id			= 9200


[State 3205:	Explod humito]
type		= Explod
trigger1	= (AnimElem = 2)
anim		= 9160
id		= 9160
pos		= -10+(random%30),-30+(random%30)
postype		= p2
facing		= 1
vfacing		= 1
bindtime	= 30
vel		= 0,-0.5
accel		= 0,0
random		= 10,10
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.5,1
sprpriority	= 2
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent	= 0
ignorehitpause	= 1

[State 3205:	Explod Kame Explod]
type		= Explod
trigger1	= (AnimElem = 2)
anim		= 9199
id		= 9199
pos		= 30 ,-59
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= -1
vel		= 0, 0
accel		= 0,0
random		= 10,10
removetime	= 69
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= ifelse(var(6) > 42, 0.8, ifelse(var(6) > 29, 0.7, ifelse(var(6) > 22, 0.6, 0.5))),ifelse(var(6) > 42, 0.9, ifelse(var(6) > 29, 0.8, ifelse(var(6) > 22, 0.7, 0.6)))
sprpriority	= 1
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent	= 0
ignorehitpause	= 1

[State 60, Explod atras]
type = Explod
trigger1 = (AnimElem = 2)
anim = 7100
ID =  7100
pos = -20,20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 24
supermove = 1
pausemove =1
scale = 0.6, 0.6
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 3205:	Helper]
type		= Helper
trigger1 	= (AnimElem = 2)
helpertype	= Normal
name		= "Chou KameHameHa"
id		= 9180
pos		= -30,ifelse(var(6) > 40, -87, ifelse(var(6) > 25,-80, ifelse(var(6) > 20, -75, -67)))
postype		= p1
facing		= 1
stateno		= 9180
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= 4
size.yscale	= ifelse(var(6) > 40, 3.5, ifelse(var(6) > 25, 2.5, ifelse(var(6) > 20, 2, 1)))



[State 3025:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= (IfElse(BackEdgeBodyDist > -5,0,100))

;---------------------------------------------------------------------------
;Chou KameHameHa: Release up
[Statedef 3207]
type 		= S
movetype	= A
physics		= S
anim		= 3207
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 0


[State 3205:	ScreenBound]
type			= ScreenBound
trigger1		= (P2MoveType = H) || (BackEdgeBodyDist < -1)
value			= 0
movecamera		= 0,0

[State 3205:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= -3

[State 3205:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 0) || (AnimElem = 2, = 2) || (AnimElem = 2, = 4) || (AnimElem = 2, = 6) || (AnimElem = 2, = 8) || (AnimElem = 2, = 10)
trigger2		= (AnimElem = 2, = 12) || (AnimElem = 2, = 14) || (AnimElem = 2, = 16) || (AnimElem = 2, = 18) || (AnimElem = 2, = 20)
trigger3		= (AnimElem = 2, = 22) || (AnimElem = 2, = 24) || (AnimElem = 2, = 26) || (AnimElem = 2, = 28) || (AnimElem = 2, = 30)
trigger4		= (AnimElem = 2, = 32) || (AnimElem = 2, = 34) || (AnimElem = 2, = 36) || (AnimElem = 2, = 38) || (AnimElem = 2, = 40)
x			= 0.85

[State 3205:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 1) || (AnimElem = 2, = 3) || (AnimElem = 2, = 5) || (AnimElem = 2, = 7) || (AnimElem = 2, = 9)
trigger2		= (AnimElem = 2, = 11) || (AnimElem = 2, = 13) || (AnimElem = 2, = 15) || (AnimElem = 2, = 17) || (AnimElem = 2, = 19)
trigger3		= (AnimElem = 2, = 21) || (AnimElem = 2, = 23) || (AnimElem = 2, = 25) || (AnimElem = 2, = 27) || (AnimElem = 2, = 29)
trigger4		= (AnimElem = 2, = 31) || (AnimElem = 2, = 33) || (AnimElem = 2, = 35) || (AnimElem = 2, = 37) || (AnimElem = 2, = 39)
x			= -0.85

[State 3205:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S3,5

[State 3205:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S18,4

[State 0, StopSnd]
type = StopSnd
trigger1 = Time = 0
channel = 4

[State 3205:	StopSnd]
type			= StopSnd
trigger1		= (AnimElem = 2)
channel		= 0

[State 3205:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 2)
id			= 9050

[State 3205:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 2)
id			= 9200


[State 3205:	Explod humito]
type		= Explod
trigger1	= (AnimElem = 2)
anim		= 9160
id		= 9160
pos		= -10+(random%30),-30+(random%30)
postype		= p2
facing		= 1
vfacing		= 1
bindtime	= 30
vel		= 0,-0.5
accel		= 0,0
random		= 10,10
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.5,1
sprpriority	= 2
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent	= 0
ignorehitpause	= 1

[State 60, Explod atras]
type = Explod
trigger1 = (AnimElem = 2)
anim = 7100
ID =  7100
pos = -20,20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 24
supermove = 1
pausemove =1
scale = 0.6, 0.6
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0



[State 3205:	Helper]
type		= Helper
trigger1 	= (AnimElem = 2)
helpertype	= Normal
name		= "Explod KameHameHa"
id		= 9181
pos		= 15,-75
postype		= p1
facing		= 1
stateno		= 9181
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= ifelse(var(6) > 42, 0.8, ifelse(var(6) > 29, 0.7, ifelse(var(6) > 22, 0.6, 0.5)))
size.yscale	= ifelse(var(6) > 42, 0.9, ifelse(var(6) > 29, 0.8, ifelse(var(6) > 22, 0.7, 0.6)))




[State 3205:	Helper]
type		= Helper
trigger1 	= (AnimElem = 2)
helpertype	= Normal
name		= "Chou KameHameHa FX"
id		= 9182
pos		= ifelse(var(6) > 40, -26, ifelse(var(6) > 25,-22, ifelse(var(6) > 20, -18, -16))),ifelse(var(6) > 40, -87, ifelse(var(6) > 25,-80, ifelse(var(6) > 20, -75, -67)))
postype		= p1
facing		= 1
stateno		= 9182
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= ifelse(var(6) > 40, 3.5, ifelse(var(6) > 25, 3, ifelse(var(6) > 20, 2.5, 2)))
size.yscale	= ifelse(var(6) > 40, 3.5, ifelse(var(6) > 25, 3, ifelse(var(6) > 20, 2.5, 2)))

[State 3205:	Helper]
type		= Helper
trigger1 	= (AnimElem = 2)
helpertype	= Normal
name		= "Chou KameHameHa hit"
id		= 9183
pos		= 10,ifelse(var(6) > 40, -57, ifelse(var(6) > 25,-50, ifelse(var(6) > 20, -45, -37)))
postype		= p1
facing		= 1
stateno		= 9183
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= 1
size.yscale	= 1



[State 3025:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= (IfElse(BackEdgeBodyDist > -5,0,100))

;------------------------------------------------------------------------------
;===============================================================================
;---------------------------------------------------------------------------
;Chou KameHameHa Aire - Chargue
[Statedef 3300]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd = -2000
ctrl = 0
anim = 3300
sprpriority = 2
;velset = 0, 0

[State 3100, VelMul]
type = VelMul
trigger1 = !Time
x = .05
y = .05

[State 3000, SuperPause]
type = SuperPause
trigger1 = (!time)
time = 50
movetime = 20
anim = -1
sound = s2, 6
pos = 32,-80
darken = 0
unhittable = 1


[State 3000, VarSet]
type = Varset
trigger1 = time = 1
v = 12
value = -200

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 10 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 1
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Cmara lenta]
type = Pause
trigger1 = time = [20, 35]
time = 1
movetime = 0

[State 3000:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 1, > 0) && ((GameTime%10) = 0)
time			= 20
freq			= 120
ampl			= -2
phase			= 50

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 5
anim = 9190
ID = 9190
pos = 10,-55
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .8,.8
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1




[State 3020:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(7)		= 200

[State 3020:	VarAdd]
type			= VarAdd
trigger1		= (Time > 100) && (Var(7) < 750)
var(7)		= 1

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,4

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,7

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,8

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S0,4
channel		= 0
loop			= 1

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3, = 15)
value			= S3,1

[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2, = 30)
value			= S18,5
channel= 4
[State 3020:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3, > 0) && ((GameTime%9) = 0)
value			= S0,8
lowpriority		= 1
channel		= 1

[State 3020:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 3, > 0) && ((GameTime%10) = 0)
time			= 10
freq			= 120
ampl			= -6
phase			= 90

[State 3020:	PalFX]
type			= PalFX
trigger1		= (AnimElem = 2, > 0) && ((GameTime%100) = 0)
time			= 60
add			= 100,100,100
mul			= 256,256,256
sinadd		= -80,-80,-80,60
invertall		= 0
color			= 256

[State 3020:	BGPalFX]
type			= BGPalFX
trigger1		= (AnimElem = 3, > 50) && ((GameTime%40) = 0) && (NumHelper(9270) = 0)
time			= 10
add			= 20,20,20
mul			= 256,256,256
sinadd		= 200,200,200,4
invertall		= 1
color			= 256




[State 3020:	Kame Chargue]
type		= Explod
trigger1	= (AnimElem = 3)
anim		= 9200
id		= 9200
pos		= -20,-52
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= -1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -1
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.75,0.75
sprpriority	= 3
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1



[State 3020:	Helper]
type		= Helper
trigger1	= (Time > 100) && ((GameTime%10) = 0) && (Random < 249) && (NumHelper(3021) < 5)
helpertype	= Normal
name		= "Rock000"
id		= 3021
pos		= 0,0
postype		= p1
facing		= 0
stateno		= 3021
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= (IfElse(Random <= 799,0.75,3))
size.yscale	= (IfElse(Random <= 799,0.75,3))

[State 3020:	Helper]
type		= Helper
trigger1	= (Time > 100) && ((GameTime%20) = 0) && (Random > 749) && (NumHelper(3022) < 5)
helpertype	= Normal
name		= "Rock001"
id		= 3022
pos		= 0,0
postype		= p1
facing		= 0
stateno		= 3022
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= (IfElse(Random <= 499,0.75,0.50))
size.yscale	= (IfElse(Random <= 499,0.75,0.50))

[State 3020:	Helper]
type		= Helper
trigger1	= (Time > 100) && ((GameTime%30) = 0) && (Random = [249,749]) && (NumHelper(3023) < 5)
helpertype	= Normal
name		= "Rock002"
id		= 3023
pos		= 0,0
postype		= p1
facing		= 0
stateno		= 3023
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= (IfElse(Random <= 499,0.50,0.75))
size.yscale	= (IfElse(Random <= 499,0.50,0.75))


[State 3100, PowerAdd]
type = PowerAdd
trigger1 = time > 5
value = -5

[State 3100, VarSet  - Ki power base]
type		= VarSet
trigger1	= (!Time)
var(7)		= 300

[State 3100, VarAdd  - Charge Ki power]
type		= VarAdd
trigger1	= (Time > 70) && ((GameTime%1) = 0) && (Var(7) < 600)
var(7)		= 1

[State 3100, VarSet  - Helper Kame Scale]
type		= VarSet
trigger1	= (!Time)
var(6)		= 11

[State 3100, VarAdd  - Helper Kame Scale]
type		= VarAdd
trigger1	= (Time > 70) && ((GameTime%6) = 0) ;&& (Var(6) < 30)
var(6)		= 1

[State 510,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger2 = pos Y > -5
y = 0

[State 3500:	ChangeState]
type			= ChangeState
triggerall              = time > 70
trigger1		= (Command != "holdc")
trigger2                = Time = 270
trigger3                = power <= 0
value			= (IfElse(Command = "holddown",3307,3305))

[State 3500:	ChangeState]
type			= ChangeState
triggerall              = time > 70
triggerall              = var(9) = 1
trigger1                = p2bodydist x <= 100
trigger2                = Time = 270
trigger3                = power <= 0
value			= (IfElse(p2bodydist y >= 50,3307,3305))

;---------------------------------------------------------------------------
;Chou KameHameHa aire: Release Adelante
[Statedef 3305]
type    = A
movetype= A
physics = N
anim		= 3305
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 0


[State 3205:	ScreenBound]
type			= ScreenBound
trigger1		= (P2MoveType = H) || (BackEdgeBodyDist < -1)
value			= 0
movecamera		= 0,0

[State 3205:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= -0.5

[State 3205:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 0) || (AnimElem = 2, = 2) || (AnimElem = 2, = 4) || (AnimElem = 2, = 6) || (AnimElem = 2, = 8) || (AnimElem = 2, = 10)
trigger2		= (AnimElem = 2, = 12) || (AnimElem = 2, = 14) || (AnimElem = 2, = 16) || (AnimElem = 2, = 18) || (AnimElem = 2, = 20)
trigger3		= (AnimElem = 2, = 22) || (AnimElem = 2, = 24) || (AnimElem = 2, = 26) || (AnimElem = 2, = 28) || (AnimElem = 2, = 30)
trigger4		= (AnimElem = 2, = 32) || (AnimElem = 2, = 34) || (AnimElem = 2, = 36) || (AnimElem = 2, = 38) || (AnimElem = 2, = 40)
x			= 0.85

[State 3205:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 1) || (AnimElem = 2, = 3) || (AnimElem = 2, = 5) || (AnimElem = 2, = 7) || (AnimElem = 2, = 9)
trigger2		= (AnimElem = 2, = 11) || (AnimElem = 2, = 13) || (AnimElem = 2, = 15) || (AnimElem = 2, = 17) || (AnimElem = 2, = 19)
trigger3		= (AnimElem = 2, = 21) || (AnimElem = 2, = 23) || (AnimElem = 2, = 25) || (AnimElem = 2, = 27) || (AnimElem = 2, = 29)
trigger4		= (AnimElem = 2, = 31) || (AnimElem = 2, = 33) || (AnimElem = 2, = 35) || (AnimElem = 2, = 37) || (AnimElem = 2, = 39)
x			= -0.85

[State 3205:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S3,5

[State 3205:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S18,4

[State 0, StopSnd]
type = StopSnd
trigger1 = Time = 0
channel = 4

[State 3205:	StopSnd]
type			= StopSnd
trigger1		= (AnimElem = 2)
channel		= 0

[State 3205:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 2)
id			= 9050

[State 3205:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 2)
id			= 9200


[State 3205:	Explod humito]
type		= Explod
trigger1	= (AnimElem = 2)
anim		= 9160
id		= 9160
pos		= -10+(random%30),-30+(random%30)
postype		= p2
facing		= 1
vfacing		= 1
bindtime	= 30
vel		= 0,-0.5
accel		= 0,0
random		= 10,10
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.5,1
sprpriority	= 2
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent	= 0
ignorehitpause	= 1

[State 3205:	Explod Kame Explod]
type		= Explod
trigger1	= (AnimElem = 2)
anim		= 9199
id		= 9199
pos		= 30 ,-59
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= -1
vel		= 0, 0
accel		= 0,0
random		= 10,10
removetime	= 69
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= ifelse(var(6) > 42, 0.8, ifelse(var(6) > 29, 0.7, ifelse(var(6) > 22, 0.6, 0.5))),ifelse(var(6) > 42, 0.9, ifelse(var(6) > 29, 0.8, ifelse(var(6) > 22, 0.7, 0.6)))
sprpriority	= 1
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent	= 0
ignorehitpause	= 1

[State 60, Explod atras]
type = Explod
triggerall = pos y > -30
trigger1 = (AnimElem = 2)
anim = 7100
ID =  7100
pos = -20,20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 24
supermove = 1
pausemove =1
scale = 0.6, 0.6
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0


[State 3205:	Helper]
type		= Helper
trigger1 	= (AnimElem = 2)
helpertype	= Normal
name		= "Chou KameHameHa"
id		= 9180
pos		= -30,ifelse(var(6) > 40, -87, ifelse(var(6) > 25,-80, ifelse(var(6) > 20, -75, -67)))
postype		= p1
facing		= 1
stateno		= 9180
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= 4
size.yscale	= ifelse(var(6) > 40, 3.5, ifelse(var(6) > 25, 2.5, ifelse(var(6) > 20, 2, 1)))


[State 510,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger2 = pos Y > -15
y = 0

[State 3025:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= (IfElse(BackEdgeBodyDist > -5,50,107))

;---------------------------------------------------------------------------
;Chou KameHameHa Aire: Release down
[Statedef 3307]
type 		= S
movetype	= A
physics		= S
anim		= 3307
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 0


[State 3205:	ScreenBound]
type			= ScreenBound
trigger1		= (P2MoveType = H) || (BackEdgeBodyDist < -1)
value			= 0
movecamera		= 0,0

[State 3205:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= -3

[State 3205:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 0) || (AnimElem = 2, = 2) || (AnimElem = 2, = 4) || (AnimElem = 2, = 6) || (AnimElem = 2, = 8) || (AnimElem = 2, = 10)
trigger2		= (AnimElem = 2, = 12) || (AnimElem = 2, = 14) || (AnimElem = 2, = 16) || (AnimElem = 2, = 18) || (AnimElem = 2, = 20)
trigger3		= (AnimElem = 2, = 22) || (AnimElem = 2, = 24) || (AnimElem = 2, = 26) || (AnimElem = 2, = 28) || (AnimElem = 2, = 30)
trigger4		= (AnimElem = 2, = 32) || (AnimElem = 2, = 34) || (AnimElem = 2, = 36) || (AnimElem = 2, = 38) || (AnimElem = 2, = 40)
x			= 0.85

[State 3205:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 1) || (AnimElem = 2, = 3) || (AnimElem = 2, = 5) || (AnimElem = 2, = 7) || (AnimElem = 2, = 9)
trigger2		= (AnimElem = 2, = 11) || (AnimElem = 2, = 13) || (AnimElem = 2, = 15) || (AnimElem = 2, = 17) || (AnimElem = 2, = 19)
trigger3		= (AnimElem = 2, = 21) || (AnimElem = 2, = 23) || (AnimElem = 2, = 25) || (AnimElem = 2, = 27) || (AnimElem = 2, = 29)
trigger4		= (AnimElem = 2, = 31) || (AnimElem = 2, = 33) || (AnimElem = 2, = 35) || (AnimElem = 2, = 37) || (AnimElem = 2, = 39)
x			= -0.85

[State 3205:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S3,5

[State 3205:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S18,4

[State 0, StopSnd]
type = StopSnd
trigger1 = Time = 0
channel = 4

[State 3205:	StopSnd]
type			= StopSnd
trigger1		= (AnimElem = 2)
channel		= 0

[State 3205:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 2)
id			= 9050

[State 3205:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 2)
id			= 9200


[State 3205:	Explod humito]
type		= Explod
trigger1	= (AnimElem = 2)
anim		= 9160
id		= 9160
pos		= -10+(random%30),-30+(random%30)
postype		= p2
facing		= 1
vfacing		= 1
bindtime	= 30
vel		= 0,-0.5
accel		= 0,0
random		= 10,10
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.5,1
sprpriority	= 2
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent	= 0
ignorehitpause	= 1

[State 60, Explod atras]
type = Explod
trigger1 = (AnimElem = 2)
anim = 7100
ID =  7100
pos = -20,20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 24
supermove = 1
pausemove =1
scale = 0.6, 0.6
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0



[State 3205:	Helper]
type		= Helper
trigger1 	= (AnimElem = 2)
helpertype	= Normal
name		= "Explod KameHameHa"
id		= 9184
pos		= 20,-45
postype		= p1
facing		= 1
stateno		= 9184
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= ifelse(var(6) > 42, 0.8, ifelse(var(6) > 29, 0.7, ifelse(var(6) > 22, 0.6, 0.5)))
size.yscale	= ifelse(var(6) > 42, 0.9, ifelse(var(6) > 29, 0.8, ifelse(var(6) > 22, 0.7, 0.6)))




[State 3205:	Helper]
type		= Helper
trigger1 	= (AnimElem = 2)
helpertype	= Normal
name		= "Chou KameHameHa FX"
id		= 9185
pos		= ifelse(var(6) > 40, 12, ifelse(var(6) > 25, 16, ifelse(var(6) > 20, 19, 23))),ifelse(var(6) > 40, -87, ifelse(var(6) > 25,-80, ifelse(var(6) > 20, -75, -67)))
postype		= p1
facing		= 1
stateno		= 9185
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= ifelse(var(6) > 40, 3.5, ifelse(var(6) > 25, 3, ifelse(var(6) > 20, 2.5, 2)))
size.yscale	= ifelse(var(6) > 40, 3.5, ifelse(var(6) > 25, 3, ifelse(var(6) > 20, 2.5, 2)))


[State 3205:	Helper]
type		= Helper
trigger1 	= (AnimElem = 2)
helpertype	= Normal
name		= "Chou KameHameHa hit"
id		= 9186
pos		= 10,-60
postype		= p1
facing		= 1
stateno		= 9186
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= 1
size.yscale	= 1


[State 3025:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= (IfElse(BackEdgeBodyDist > -5,50,107))


;============================================================================
;---------------------------------------------------------------------------
;Giga cell
[Statedef 3500]
type 		= S
movetype	= A
physics		= S
anim		= 3500
;velset		= 0,0
ctrl		= 0
poweradd	= -3000
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 3030, PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 1)
value = S9,9
volume = 2
channel = -1

[State 3030, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
movetime = 20
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1


[State 3030, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200

[State 3030, VarAdd]
type = VarAdd
trigger1 = time >= 5 && Var(12) < 0
v = 12
value = 6

[State 3030, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3030, Cmara lenta]
type = Pause
trigger1 = time = [20, 35]
time = 1
movetime = 0

[State 3030:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 1, > 0) && ((GameTime%10) = 0)
time			= 20
freq			= 120
ampl			= -2
phase			= 50


[State 3030, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 9190
ID = 9190
pos = 0,-60
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .9,.9
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3030:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1)
value			= S2,6

[State 3410, Explod - cosmo]
type = Explod
trigger1 =  (AnimElem = 3)
anim =  83
ID =    83
pos =  5,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 1,1
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0


[State 191, PalFX - Explosion CHargue]
type			= PalFX
trigger1		= time = 44 ;numhelper(3130) = 1
time			= 70
add			= 30,30,30
mul			= 256,256,256
sinadd		        = 256,256,256,140
invertall		= 0

[State 0, VelSet]
type = posadd
trigger1 = animelem = 9
x = 10

[State 3030, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10
value = S7,1
volume = 0
channel = -1

[State 3501:		Helper]
type		= Helper
trigger1	= (AnimElem = 10)
helpertype	= Normal
name		= "Giga Cell - hits"
id		= 3570
pos		= 10,0
postype		= p1
facing		= 1
stateno		= 3570
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 1200, Super desfensa]
type = ReversalDef
trigger1 = time >= 0
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
pausetime = 6,9
sparkno = S7002+(random%4)
sparkxy = 10
hitsound = S0,9
sprpriority = -1
numhits = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = movecontact = 1
value = -20
kill = 0
absolute = 0


[State 1600, End]
type = ChangeState
trigger1 = animtime = 0;var(22) = 159
value = 3510
ctrl = 0

;-----------------------------------------
;Giga cell - Punch 2
[Statedef 3510]
type 		= S
movetype	= A
physics		= S
anim		= 3510
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0, VelSet]
type = posadd
trigger1 = animelem = 1
x = 10

[State 3030, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S7,1
volume = 0
channel = -1

[State 3501:		Helper]
type		= Helper
trigger1	= (AnimElem = 2)
helpertype	= Normal
name		= "Giga Cell - hits"
id		= 3570
pos		= 10,0
postype		= p1
facing		= 1
stateno		= 3570
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 1200, Super desfensa]
type = ReversalDef
trigger1 = time >= 0
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
pausetime = 6,9
sparkno = S7002+(random%4)
sparkxy = 10
hitsound = S0,9
sprpriority = -1
numhits = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = movecontact = 1
value = -20
kill = 0
absolute = 0

[State 3501, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 3520
ctrl = 0

;-----------------------------------------
;Giga cell - Punch 3
[Statedef 3520]
type 		= S
movetype	= A
physics		= S
anim		= 3520
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 241, MakeDust]
type = MakeDust
trigger1 = animelem = 2
pos = -1, 0
spacing	= 1

[State 3410, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 2)
anim =  7100
ID =    7100
pos =  -30,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 210, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0


[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 6
y = 0

[State 3030, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S7,1
volume = 0
channel = -1

[State 3501:		Helper]
type		= Helper
trigger1	= (AnimElem = 2)
helpertype	= Normal
name		= "Giga Cell - hits"
id		= 3570
pos		= 10,0
postype		= p1
facing		= 1
stateno		= 3570
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 1200, Super desfensa]
type = ReversalDef
trigger1 = time >= 0
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
pausetime = 6,9
sparkno = S7002+(random%4)
sparkxy = 10
hitsound = S0,9
sprpriority = -1
numhits = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = movecontact = 1
value = -20
kill = 0
absolute = 0

[State 3501, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 3530
ctrl = 0

;-----------------------------------------
;Giga cell - Punch 4
[Statedef 3530]
type 		= S
movetype	= A
physics		= S
anim		= 3530
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 241, MakeDust]
type = MakeDust
trigger1 = animelem = 2
pos = -1, 0
spacing	= 1

[State 3410, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 2)
anim =  7100
ID =    7100
pos =  -30,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 210, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 6
y = 0

[State 3030, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S7,1
volume = 0
channel = -1

[State 3501:		Helper]
type		= Helper
trigger1	= (AnimElem = 2)
helpertype	= Normal
name		= "Giga Cell - hits"
id		= 3570
pos		= 10,0
postype		= p1
facing		= 1
stateno		= 3570
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 1200, Super desfensa]
type = ReversalDef
trigger1 = time >= 0
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
pausetime = 6,9
sparkno = S7002+(random%4)
sparkxy = 10
hitsound = S0,9
sprpriority = -1
numhits = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = movecontact = 1
value = -20
kill = 0
absolute = 0

[State 3501, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 3540
ctrl = 0


;-----------------------------------------
;Giga cell - Volcano
[Statedef 3540]
type 		= S
movetype	= A
physics		= S
anim		= 3540
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 3030, PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 2)
value = S0,1
volume = 0
channel = -1

[State 3030, PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 2)
value = S18,4
volume = 0
channel = -1


[State 210, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 0, ]
type=HitOverride
trigger1= 1
slot=5
attr=SCA,AA,AP,AT
stateno = 3545
time=1
ctrl=1
ignorehitpause=1

[State 191, PalFX - Explosion CHargue]
type			= PalFX
trigger1		= time = 10 ;numhelper(3130) = 1
time			= 50
add			= 30,30,30
mul			= 200,200,100
sinadd		        = 200,200,100,100
invertall		= 0

[State 3501, Explod]
type = Explod
trigger1 = (animelem = 2)
anim = 3550
ID = 3550
pos = 30, 10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 62
supermove
pausemove
scale = 1,1
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 3501:		Helper]
type		= Helper
trigger1	= (animelem = 2)
helpertype	= Normal
name		= "Ki Volcano 1"
id		= 3551
pos		= 0,0
postype		= p1
facing		= 1
stateno		= 3551
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 3030, PlaySnd]
type = PlaySnd
trigger1 = (time = 42)
value = S7,0
volume = 0
channel = -1

[State 3501:		Helper]
type		= Helper
trigger1	= (time = 42)
helpertype	= Normal
name		= "Ki Volcano 2"
id		= 3552
pos		= 30,0
postype		= p1
facing		= 1
stateno		= 3552
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 191, PalFX - Explosion CHargue]
type			= PalFX
trigger1		= time = 70 ;numhelper(3130) = 1
time			= 70
add			= 30,30,30
mul			= 256,256,256
sinadd		        = 256,256,256,140
invertall		= 0

[State 1200, Super desfensa]
type = ReversalDef
trigger1 = time >= 0
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
pausetime = 6,9
sparkno = S7002+(random%4)
sparkxy = 10
hitsound = S0,9
sprpriority = -1
numhits = 0

[State 0, ]
type=HitOverride
trigger1= 1
slot=5
attr=SCA,AA,AP,AT
stateno = 3545
time=1
ctrl=1
ignorehitpause=1

[State 3501, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------------------------------
;Giga cell - hits
[Statedef 3570]
movetype	= A
anim		= 3570
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 5

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 1

[State 3410, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype  = hard
damage    = 100
guardflag = MA
pausetime = 12,20
sparkno = S10005
sparkxy = -20,-65
guard.sparkno = s7007
hitsound   = s7, 2
guardsound = s0, 9
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;----------------------------------------
;GiGA cELL - Golpeado 5
[Statedef 3545]
movetype	= A
anim		= 3505
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 3030, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S18,3
volume = 0
channel = -1

[State 3501, ChangeState]
type = ChangeState
trigger1 = time = 30
value = 3549
ctrl = 1

;-----------------------------------------
;Giga cell - terminacin 2
[Statedef 3549]
type 		= S
movetype	= A
physics		= S
anim		= 3549
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 3501, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------
;Ki Volcano 1
[Statedef 3551]
movetype	= A
anim		= 3551
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[STate 3551: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 3551:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 3551, AssertSpecial]
type = AssertSpecial
trigger1 = time > 0
flag = noshadow


[State 3551:	Hitdef]
type            = Hitdef
triggerall      = HitCount< 1
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 100,10
pausetime	= 1,10
sparkno		= -1
sparkxy		= -10,-90
;guard.sparkxy   = 30, 20
guard.sparkno	= -1
hitsound	= s3,13
guardsound	= -1
ground.type	= low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= 0, -8
guard.velocity	= -1
air.velocity	= 0, -8
airguard.velocity = -1,-3
ground.cornerpush.veloff = 0
fall = 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 150,150,50
palfx.add	= 250,250,100
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
;ignorehitpause =
;persistent = 1

[State 3552, Spark]
type = Explod
trigger1 = Movecontact = 1
ID = 960
anim = 960
pos = 0,-70
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = 24
vel	= 0,0
accel = 0,0
random = 0,0;10,10
scale = 0.8,0.8
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 1
ignorehitpause	= 1
removeongethit	= 0

[State 3501:		Helper]
type		= Helper
trigger1	= (Movecontact = 1)
helpertype	= Normal
name		= "Humo"
id		= 3560
pos		= 0,0
postype		= p2
facing		= 1
stateno		= 3560
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 3551:	DestroySelf]
type			= DestroySelf
trigger1                = time = 22

;---------------------------------------
;Ki Volcano 2
[Statedef 3552]
movetype	= A
anim		= 3552
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[STate 3552: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 3552:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 3552, AssertSpecial]
type = AssertSpecial
trigger1 = time > 0
flag = noshadow


[State 3552:	Hitdef]
type            = Hitdef
triggerall      = HitCount< 1
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 50,10
pausetime	= 1,10
sparkno		= -1
sparkxy		= 10,-90
;guard.sparkxy   = 30, 20
guard.sparkno	= -1
hitsound	= s3,13
guardsound	= -1
ground.type	= low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -2, -10
guard.velocity	= -1
air.velocity	= -6, -8
airguard.velocity = -1,-3
ground.cornerpush.veloff = 0
fall = 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 150,150,50
palfx.add	= 250,250,100
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
;ignorehitpause =
;persistent = 1

[State 3552, Spark]
type = Explod
trigger1 = Movecontact = 1
ID = 960
anim = 960
pos = 0,-70
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = 24
vel	= 0,0
accel = 0,0
random = 0,0;10,10
scale = 0.8,0.8
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 1
ignorehitpause	= 1
removeongethit	= 0

[State 3501:		Helper]
type		= Helper
trigger1	= (Movecontact = 1)
helpertype	= Normal
name		= "Humo"
id		= 3560
pos		= 0,0
postype		= p2
facing		= 1
stateno		= 3560
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1


[State 3552:	DestroySelf]
type			= DestroySelf
trigger1                = time = 22

;---------------------------------------
;Humo
[Statedef 3560]
movetype	= A
anim		= 3560
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 3552, Humo luego de contactar el Porjectile]
type = Explod
trigger1 = time %2 = 0
ID = 9160
anim = 9160
pos = 0+(random%10),20+(random%10)
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = 24
vel	= 0,-0.5
accel = 0,0
random = 0,0;10,10
scale = 0.5,0.5
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 1
ignorehitpause	= 1
removeongethit	= 0

[State 3552, Humo luego de contactar el Porjectile]
type = Explod
trigger1 = time %2 = 0
ID = 9160
anim = 9160
pos = -25+(random%10),-10+(random%10)
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = 80
vel	= 0,-0.5
accel = 0,0
random = 10,100
scale = 0.7,1
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 1
ignorehitpause	= 1
removeongethit	= 0

[State 3552:	DestroySelf]
type			= DestroySelf
trigger1                = time = 40

;---------------------------------------------------------------------------
;Zanzouken: AfterImage
[Statedef 3036]
type 			= A
movetype		= I
physics		= N
anim			= 3030
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 3036:	AssertSpecial]
type			= AssertSpecial
trigger1 		= 1
flag			= Invisible
flag2			= NoShadow

[State 3036: 	PlayerPush]
type 			= PlayerPush
trigger1		= 1
value 		= 0

[State 3036: 	NotHitBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

[State 3036:	VelSet]
type			= VelSet
trigger1		= (!Time)
x 			= 3
y			= -20

[State 3036: 	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 20
timegap		= 3
framegap 		= 4
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 3036:	DestroySelf]
type			= DestroySelf
trigger1		= (Time > 15) || (Parent, StateNo != 3035)


;============================================================================

;===============================================================================
; Torvellino Infernal
;===============================================================================
;---------------------------------------------------------------------------
;Torvellino Infernal!!! (Director del - Atake Combinado)
[Statedef 3600]
type 		= S
movetype	= A
physics		= S
anim		= 7030
velset		= 0,0
ctrl		= 0
poweradd	= -5000
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2


[State 3030, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
movetime = 20
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1


[State 3030, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200

[State 3030, VarAdd]
type = VarAdd
trigger1 = time >= 5 && Var(12) < 0
v = 12
value = 6

[State 3030, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3030, Cmara lenta]
type = Pause
trigger1 = time = [20, 35]
time = 1
movetime = 0

[State 3030:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 1, > 0) && ((GameTime%10) = 0)
time			= 20
freq			= 120
ampl			= -2
phase			= 50


[State 3030, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 9190
ID = 9190
pos = 0,-60
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .9,.9
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3030:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1)
value			= S2,6

[State 3501:		Helper]
type		= Helper
trigger1	= Time = 10
helpertype	= Normal
name		= "Helper de Activacin en el Compaero"
id		= 8237
pos		= -30,-90
postype		= p1
facing		= 1
stateno		= 8237
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 3501, ChangeState]
type = ChangeState
trigger1 = time = 70
value = 3605
ctrl = 0

;--------------------------------------
;Helper de Activacin en el Compaero
[Statedef 8237]
movetype	= A
anim		= 8237
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Torvellino Infernal!!! (Director del - Atake Combinado)
;Teleport Inicial
[Statedef 3605]
type 		= S
movetype	= A
physics		= S
anim		= 3605
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0]
type=PlaySnd
trigger1=(time=5)||(time=10)
value=3,0

[State 1090]
type=AfterImage
trigger1= time = 5
time=10
length=10
palcontrast=120,120,120
palmul=.35,.35,.35
timegap=1
framegap=1
trans=Add
ignorehitpause=1

[State 1090, Afterimage bck]
type=Helper
trigger1=(time=5)
helpertype=normal
name="Afterimage bck"
ID=1093
pos=0,0
postype=p1
facing=1
stateno=1093
keyctrl=0
ownpal=1
persistent=0

[State 1090, Afterimage forw]
type=Helper
trigger1=(time=5)
helpertype=normal
name="Afterimage forw"
ID=1094
pos=0,0
postype=p1
facing=1
stateno=1094
keyctrl=0
ownpal=1
persistent=0

[State 0, PosAdd]
type = Posset
trigger1 = (time=5)
x = frontedgedist-1000
y = 0

[State 0, Turn]
type = Turn
triggerall = (time > 7)
trigger1 = p2bodydist x < 5
;ignorehitpause =
;persistent =


[State 3501, ChangeState]
type = ChangeState
trigger1 = (!animtime)
value = 3606
ctrl = 0

;---------------------------------------------------------------------------
;Torvellino Infernal!!! (Director del - Atake Combinado)
;Torvellino - Lanzamiento
[Statedef 3606]
type 		= S
movetype	= A
physics		= S
anim		= 3606
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2


[State 3030, Super Avatar Freezer]
type = Explod
trigger1 = Time = 0
anim = 10200
ID = 10200
pos= -50,-20
postype= back
bindtime= -1
removetime = -2
supermovetime= 99999999
pausemovetime= 99999999
scale= 0.7,0.7
sprpriority= -5
ontop= 0
ownpal= 1


[State 3030, Super Avatar Cell]
type = Explod
trigger1 = Time = 0
anim = 10100
ID = 10100
pos= 0,-70
postype= back
bindtime= -1
removetime = -2
supermovetime= 99999999
pausemovetime= 99999999
scale= 0.7,0.7
sprpriority= -5
ontop= 0
ownpal= 1

[State 2400, PlaySND "Torvellino infernal"]
type = PlaySnd
trigger1 = time = 0
value = 18,10
channel = 5

[State 3030, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 72
movetime = 72
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3030, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200

[State 3030, VarAdd]
type = VarAdd
trigger1 = time >= 72 && Var(12) < 0
v = 12
value = 6

[State 3030, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3030, Cmara lenta]
type = Pause
trigger1 = time = [72, 83]
time = 1
movetime = 0



[State 3501:		Helper]
type		= Helper
triggerall      = time > 90
triggerall      = numhelper(8237) = 0
triggerall      = numhelper(3650) = 0
trigger1	= time% 10 = 0
helpertype	= Normal
name		= "Torvellino"
id		= 3650
pos		= 30,0
postype		= p1
facing		= 1
stateno		= 3650
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1


[State 3605, Torvellino]
type = Explod
triggerall = time > 89
trigger1 = time% 10 = 0
ID = 3651
anim = 3651
pos = -40,30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
vel= 2,0
accel = 0.2,0
random = 0,0;10,10
scale =  0.5, 0.5
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 1
ignorehitpause	= 1
removeongethit	= 1


[State 2400, PlaySND]
type = PlaySnd
trigger1 = animelem = 3
value = 18,9
channel = 6


[State 2400, End]
type = ChangeState
trigger1 =  numhelper(3652) = 1
value = 3610
ctrl = 0

[State 2400, End]
type = ChangeState
trigger1 =  time = 200
value = 3607
ctrl = 0

;-----------------------------------------------------
;Torvellino Infernal!!!
;Tterminacin Fallida
[Statedef 3607]
type 		= S
movetype	= A
physics		= S
anim		= 3607
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 3651

[State 3060, Explod]
type = Explod
triggerall = time > 0
trigger1 = time%3 = 0
anim =  9240
ID = 9240
pos = 100+(random%200),-70+(random%40)
vel = -1+(random%1),0.5+(random%1)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.1,0.1
Ontop = 1
removetime = -2
removeongethit = 0

[State 2400, End]
type = ChangeState
trigger1 =  animtime = 0
value = 0
ctrl = 1


;---------------------------------------
;Torvellino - Hit
;------------------------------------------------------------------
;------------------------------------------------------------------
;helper que agarra
[Statedef 3650]
movetype	= A
anim		= 3650
ctrl = 0
sprpriority = 15

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
x = 20
y = 0

[State 3552, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow


[State 2400, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 2,15




[State 6401]
type = HitDef
trigger1 = 1
attr = S,NP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF      ;HLAFD+-
guardflag = MAF      ;HLA
animtype = light
air.animtype = light
ground.type = light
air.type = light
damage = 0,0
pausetime = 8,10
sparkno = -1
guard.sparkno = -1
p1stateno = 3655
p2stateno = 3658
;hitsound = S4,0
;guardsound = S3,0
ground.slidetime = 300
guard.slidetime = 0
ground.hittime = 300
guard.hittime = 0
air.hittime = 300
ground.velocity = 0,0
guard.velocity = 0
air.velocity = 0,0
kill = 0
fall = 1
fall.recover = 0
getpower        = 10, 0
fall = 0
fall.recover = 0


[State 6401, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = invisible
flag3 = unguardable



[State 6401]
type = destroyself
trigger1 = time = 150

;-----------------------------------------------------------
;manejar al oponente en el aire
[Statedef 3655]
movetype= A
ctrl = 0
vel = 0,0,0
anim = 3655
sprpriority = 2

[State 2400, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 17,4
channel = 7

[State 6402]
type = Helper
trigger1 = time = 50
helpertype = normal
name = "Telekinesis certificador del impacto"
ID = 3652
stateno = 3652
pos = 10,30
postype = p1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
size.xscale	= 1.0
size.yscale	= 1.0

[State 6402, 1]
type=PlaySnd
trigger1 = (time%10=0)
value= 3,10
volume = 10

[State 6402]
type = Explod
trigger1 = time = 1
anim = 3653
ID = 3653
pos = 0,-50
postype = p2
vel = 0,0
Bindtime = -1
removetime = -1;300
ignorehitpause = 1
sprpriority = 3
scale = 0.74,0.74 ;
shadow = 0,0,0
ownpal = 1
ontop = 0
facing = 1
vfacing = 1

[State 6402]
type = Explod
trigger1 = time = 1
anim = 3654
ID = 3654
pos = 0,-45
postype = p2
vel = 0,0
Bindtime = -1
removetime = -1;300
ignorehitpause = 1
sprpriority = 3
scale = 0.85, 0.85 ;
shadow = 0,0,0
ownpal = 1
ontop = 0
vfacing = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 274
id = 3654

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 282
id = 3653


[State 6402]
type = Explod
trigger1 = time = 282
anim = 3657
ID = 3657
pos = 0,-50
postype = p2
vel = 0,0
Bindtime = -1
removetime = -2;300
ignorehitpause = 1
sprpriority = 3
scale = 0.74,0.74 ;
shadow = 0,0,0
ownpal = 1
ontop = 0
facing = 1
vfacing = 1

[State 6402]
type = Explod
trigger1 = time = 275
anim = 3656
ID = 3656
pos = 0,-45
postype = p2
vel = 0,0
Bindtime = 1
removetime = -2;300
ignorehitpause = 1
sprpriority = 3
scale = 0.85, 0.85 ;
shadow = 0,0,0
ownpal = 1
ontop = 0
vfacing = 1

[state 6402]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = invisible
flag3 = unguardable


[State 6402]
type = TargetBind
trigger1 = 1
time = 300
pos = 20,0
ignorehitpause = 1
persistent = 1

[State 6402]
type = VelSet
trigger1 = time = 1
x = ifelse(pos x > 0, -2,ifelse(pos x < 0, 2, 0))
y = -0.5

[State 6402, quiet]
type = VelSet
trigger1 = pos x > -2 && pos x < 2
x = 0
y = 0

[State 3005:	Bolita dark]
type		= Helper
trigger1	= parent, numhelper (3678) = 1
helpertype	= Normal
name		= "Portal Infernal"
id		= 3671
pos		= 0, 0;pos y = 0
postype		= p2
facing		= 1
stateno		= 3671
keyctrl		= 0
ownpal		= 1
size.xscale     = 1
size.yscale     = 1
supermovetime	= 0
pausemovetime	= 0

[State 6402]
type = DestroySelf
trigger1 = time = 300

;---------------------------------------------------------------------------
; helper que agarra - P2
[Statedef 3658]
type    = A
movetype= H
physics = N
juggle  = 0
velset = 0,0
ctrl = 0


[State 3658, ChangeAnim]
type = ChangeAnim2
trigger1 = time = 0
value = 3658
;elem = 1

[State 3658, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 150

[State 3658, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 3658, vel]
type = velset
trigger1 = time >= 0
x = 0
y = 0

[State 3658, damage]
type = LifeAdd
triggerall = time >= 150
trigger1 = time%10 = 0
value = -350


[State 3658, end]
type = SelfState
trigger1 =  time = 300
value = 5050
ctrl = 1

;--------------------------------------------------------
;Telekinesis certificador del impacto
[Statedef 3652]
movetype = A
ctrl = 0
anim = 3655
sprpriority = 2


[State 6405, DestroySelf]
type = DestroySelf
trigger1 = time = 50

;---------------------------------------------------------------------------
;Torvellino Infernal!!! (Director del - Atake Combinado)
;Salto
[Statedef 3610]
type 		= S
movetype	= A
physics		= S
anim		= 3610
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 3060, Explod]
type = Explod
triggerall = time > 0 && time < 20
trigger1 = time%3 = 0
anim =  9240
ID = 9240
pos = 100+(random%200),-70+(random%40)
vel = -1+(random%1),0.5+(random%1)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.1,0.1
Ontop = 1
removetime = -2
removeongethit = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 0
value = 0


[State 2400, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 18,8
channel = 5

[State 2400, PlaySND]
type = PlaySnd
trigger1 = time = 20
value = 17,6
channel = 6

[State 0, VelSet]
type = VelSet
trigger1 = time > 27
x = 8
y = -6

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 27
y = 0.4

[State 0: 	AfterImage]
type 		= AfterImage
trigger1 	= Time > 20
time 		= 32
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .90, .90
palcontrast 	= 100, 200, 100
trans 		= add

;[State 0, RemoveExplod]
;type = RemoveExplod
;trigger1 = time = 1
;id = 3651

[State 0, ChangeState]
type = ChangeState
triggerall = time > 20
trigger1 = p2bodydist x < -70
trigger2 = time = 60
value = 3615
ctrl = 0

;---------------------------------------------------------------------------
;Torvellino Infernal!!! (Director del - Atake Combinado)
;Bigbanecitos - Lanzamiento
[Statedef 3615]
type 		= S
movetype	= A
physics		= S
anim		= 3615
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 3000:	Big Bang Chargue]
type		= Explod
trigger1	= (time = 5)
anim		= 9300
id		= 9300
pos		= -20,-45
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= -1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.5,0.5
sprpriority	= 3
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,8
volume = 50
channel = 2


[State 3005:	Helper]
type		= Helper
triggerall 	= (time > 35)
trigger1        = time% 10 = 0
helpertype	= Normal
name		= "Big Bang"
id		= 3660
pos		= -20,-50
postype		= p1
facing		= 1
stateno		= 3660+(Random%4)
keyctrl		= 0
ownpal		= 1
size.xscale     = 0.5
size.yscale     = 0.5
supermovetime	= 0
pausemovetime	= 0



[State 0, ChangeState]
type = ChangeState
trigger1 = time = 100
value = 3620
ctrl = 0

;-------------------------------------------------------------------------------
;Torvellino Infernal!!! (Director del - Atake Combinado)
;Bigbanecitos - projetiles
[Statedef 3660]
movetype	= A
anim		= 9310
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (time = 1)
value = S1,4
volume = 50
channel = 3

[State 0: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 32
framegap 	= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .90, .90, .90
palcontrast 	= 100, 100, 100
trans 		= add

[State 2350:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
value =  -100

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
x = -1
y = 10

[State 9230:	HitDef]
type		= HitDef
trigger1	= 1
attr		= S, HP
hitflag		= MAFDP
;guardflag	= M
animtype	= Hard
priority	= 7, Hit
damage		= 30, 10
pausetime	= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound	= S0,5
guardsound	= S0,5
ground.type	= Low
air.type	= Trip
ground.slidetime = 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.35
ground.velocity	= -4,-6.5
guard.velocity	= -4
air.velocity	= -4,-4.5
airguard.velocity = -4,-4.5
fall = 1
ground.cornerpush.veloff = 0
id		= 9230
getpower	= 0
givepower	= 50
palfx.time	= 40
palfx.mul	= 256,256,256
palfx.add	= 200,200,200
palfx.sinadd	= -100,-100,-100,40
envshake.time 	= 30
envshake.freq 	= 120
envshake.ampl 	= -8
ignorehitpause	= 1

[State 3000:	Big Explosion]
type		= Explod
triggerall = numexplod(9330) = 0
trigger1 = Movecontact = 1
trigger2 = Pos y >= 0
anim		= 9330
id		= 9330
pos		= 0+(random%10),0+(random%10)
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.4,0.4
sprpriority	= 3
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Movecontact = 1
trigger2 = Pos y >= 0

;-------------------------------------------------------------------------------
;Torvellino Infernal!!! (Director del - Atake Combinado)
;Bigbanecitos - projetiles
[Statedef 3661]
movetype	= A
anim		= 9310
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (time = 1)
value = S1,4
volume = 50
channel = 3

[State 0: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 32
framegap 	= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .90, .90, .90
palcontrast 	= 100, 100, 100
trans 		= add

[State 2350:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
value =  -110

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
x = -2
y = 10

[State 9230:	HitDef]
type		= HitDef
trigger1	= 1
attr		= S, HP
hitflag		= MAFDP
;guardflag	= M
animtype	= Hard
priority	= 7, Hit
damage		= 30, 10
pausetime	= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound	= S0,5
guardsound	= S0,5
ground.type	= Low
air.type	= Trip
ground.slidetime = 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.35
ground.velocity	= -4,-6.5
guard.velocity	= -4
air.velocity	= -4,-4.5
airguard.velocity = -4,-4.5
fall = 1
ground.cornerpush.veloff = 0
id		= 9230
getpower	= 0
givepower	= 50
palfx.time	= 40
palfx.mul	= 256,256,256
palfx.add	= 200,200,200
palfx.sinadd	= -100,-100,-100,40
envshake.time 	= 30
envshake.freq 	= 120
envshake.ampl 	= -8
ignorehitpause	= 1

[State 3000:	Big Explosion]
type		= Explod
triggerall = numexplod(9330) = 0
trigger1 = Movecontact = 1
trigger2 = Pos y >= 0
anim		= 9330
id		= 9330
pos		= 0+(random%10),0+(random%10)
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.4,0.4
sprpriority	= 3
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Movecontact = 1
trigger2 = Pos y >= 0

;-------------------------------------------------------------------------------
;Torvellino Infernal!!! (Director del - Atake Combinado)
;Bigbanecitos - projetiles
[Statedef 3662]
movetype	= A
anim		= 9310
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (time = 1)
value = S1,4
volume = 50
channel = 3

[State 0: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 32
framegap 	= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .90, .90, .90
palcontrast 	= 100, 100, 100
trans 		= add

[State 2350:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
value =  -120

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
x = -2.5
y = 10

[State 9230:	HitDef]
type		= HitDef
trigger1	= 1
attr		= S, HP
hitflag		= MAFDP
;guardflag	= M
animtype	= Hard
priority	= 7, Hit
damage		= 30, 10
pausetime	= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound	= S0,5
guardsound	= S0,5
ground.type	= Low
air.type	= Trip
ground.slidetime = 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.35
ground.velocity	= -4,-6.5
guard.velocity	= -4
air.velocity	= -4,-4.5
airguard.velocity = -4,-4.5
fall = 1
ground.cornerpush.veloff = 0
id		= 9230
getpower	= 0
givepower	= 50
palfx.time	= 40
palfx.mul	= 256,256,256
palfx.add	= 200,200,200
palfx.sinadd	= -100,-100,-100,40
envshake.time 	= 30
envshake.freq 	= 120
envshake.ampl 	= -8
ignorehitpause	= 1

[State 3000:	Big Explosion]
type		= Explod
triggerall = numexplod(9330) = 0
trigger1 = Movecontact = 1
trigger2 = Pos y >= 0
anim		= 9330
id		= 9330
pos		= 0+(random%10),0+(random%10)
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.4,0.4
sprpriority	= 3
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Movecontact = 1
trigger2 = Pos y >= 0

;-------------------------------------------------------------------------------
;Torvellino Infernal!!! (Director del - Atake Combinado)
;Bigbanecitos - projetiles
[Statedef 3663]
movetype	= A
anim		= 9310
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (time = 1)
value = S1,4
volume = 50
channel = 3

[State 0: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 32
framegap 	= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .90, .90, .90
palcontrast 	= 100, 100, 100
trans 		= add

[State 2350:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
value =  -130

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
x = -3.3
y = 10

[State 9230:	HitDef]
type		= HitDef
trigger1	= 1
attr		= S, HP
hitflag		= MAFDP
;guardflag	= M
animtype	= Hard
priority	= 7, Hit
damage		= 30, 10
pausetime	= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound	= S0,5
guardsound	= S0,5
ground.type	= Low
air.type	= Trip
ground.slidetime = 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.35
ground.velocity	= -4,-6.5
guard.velocity	= -4
air.velocity	= -4,-4.5
airguard.velocity = -4,-4.5
fall = 1
ground.cornerpush.veloff = 0
id		= 9230
getpower	= 0
givepower	= 50
palfx.time	= 40
palfx.mul	= 256,256,256
palfx.add	= 200,200,200
palfx.sinadd	= -100,-100,-100,40
envshake.time 	= 30
envshake.freq 	= 120
envshake.ampl 	= -8
ignorehitpause	= 1

[State 3000:	Big Explosion]
type		= Explod
triggerall = numexplod(9330) = 0
trigger1 = Movecontact = 1
trigger2 = Pos y >= 0
anim		= 9330
id		= 9330
pos		= 0+(random%10),0+(random%10)
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.4,0.4
sprpriority	= 3
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Movecontact = 1
trigger2 = Pos y >= 0

;---------------------------------------------------------------------------
;Torvellino Infernal!!! (Director del - Atake Combinado)
;Remate DARK
[Statedef 3620]
type 		= S
movetype	= A
physics		= S
anim		= 3620
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2



[State 3000:	bOLITA dark]
type		= Explod
trigger1	= Animelem = 1
anim		= 3677
id		= 3677
pos		= -10,-75
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= -1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -1
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 1,1
sprpriority	= 3
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 3005:	Bolita dark]
type		= Helper
trigger1	= animelem = 2
helpertype	= Normal
name		= "Bolita Dark"
id		= 3677
pos		= 10,-50
postype		= p1
facing		= 1
stateno		= 3677
keyctrl		= 0
ownpal		= 1
size.xscale     = 1
size.yscale     = 1
supermovetime	= 0
pausemovetime	= 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 2
id = 3677


[State 0, ChangeState]
type = ChangeState
trigger1 = time = 175
value = 50
ctrl = 1

;--------------------------------------------------------
; Bolita Dark
[Statedef 3677]
movetype = A
ctrl = 0
anim = 3677
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
x = -2
y = 10

[State 0, VelSet]
type = Veladd
trigger1 = time >= 0
x = -0.6

[State 3005:	Bolita dark]
type		= Helper
trigger1	= pos y >= 0
helpertype	= Normal
name		= "Aviso al portal"
id		= 3678
pos		= 10,-50
postype		= p1
facing		= 1
stateno		= 3678
keyctrl		= 0
ownpal		= 1
size.xscale     = 1
size.yscale     = 1
supermovetime	= 0
pausemovetime	= 0


[State 6405, DestroySelf]
type = DestroySelf
trigger1 = pos y >= 0
;--------------------------------------------------------
; Bolita Dark
[Statedef 3678]
movetype = A
ctrl = 0
anim = 3678
sprpriority = 2

[State 6405, DestroySelf]
type = DestroySelf
trigger1 = time = 1

;--------------------------------------------------------
; Portal Infernal
[Statedef 3671]
movetype = A
ctrl = 0
anim = 3671
juggle = 1
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 30

[State 2000, VarSet]
type = Varset
trigger1 = time = 0
fv = 19
value = 0.00

[State 2000, VarAdd]
type = Varadd
trigger1 = time >= 0 && time < 30
fv = 19
value = 0.05

[State 3000:	Portal]
type		= Explod
trigger1	= Time = 1
anim		= 3679
id		= 3679
pos		= 5,-10
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.1, 0.1
sprpriority	= -3
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 2000, VarAdd]
type = Varadd
trigger1 = time >= 113
fv = 19
value = -0.05

[State 3550, Cambio de escala]
type = ModifyExplod
trigger1 = time = [0, 30]
trigger2 = time = [113, 134]
ID = 3679
scale = fvar(19), fvar(19)/3



[State 3000:	Geiser Infernal]
type		= Explod
trigger1	= Time = 19
anim		= 3670
id		= 3670
pos		= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= -1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.8,0.8
sprpriority	= -2
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 3000:	Calavera]
type		= Explod
triggerall      = time > 39 && time < 113
trigger1	= Time%10 = 0
anim		= 3675
id		= 3675
pos		= -15+(random%30),-10
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,-9
accel		= 0,0.2
random		= 0,0
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.5,0.5
sprpriority	= 3
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 9230:	HitDef]
type		= HitDef
triggerall      = time > 21 && time <= 113
trigger1	= 1
attr		= S, HP
hitflag		= MAFDP
;guardflag	= M
animtype	= Hard
priority	= 7, Hit
damage		= 50, 10
pausetime	= 0,8
guard.pausetime	= 0,8
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound	= S2,14
guardsound	= S2,14
ground.type	= Low
air.type	= Trip
ground.slidetime = 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.35
ground.velocity	= 0,-8
guard.velocity	= -4
air.velocity	= 0,-8
airguard.velocity = -4,-4.5
fall =1
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
Palfx.time       = 30
Palfx.add       = 10,-200,10
Palfx.sinadd   = 40,30,0,3
Palfx.color     = 0
Palfx.invertall = 1
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 6405, DestroySelf]
type = DestroySelf
trigger1 = time = 135

;===============================================================================
;---------------------------------------------------------------------------
;Torvellino Infernal!!! (Director del - Atake Combinado) - Esclavo
[Statedef 3700]
type 		= S
movetype	= A
physics		= S
anim		= 7030
velset		= 0,0
ctrl		= 0
poweradd	= -2000
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2


[State 3030, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
movetime = 20
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1


[State 3030, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200

[State 3030, VarAdd]
type = VarAdd
trigger1 = time >= 5 && Var(12) < 0
v = 12
value = 6

[State 3030, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3030, Cmara lenta]
type = Pause
trigger1 = time = [20, 35]
time = 1
movetime = 0

[State 3030:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 1, > 0) && ((GameTime%10) = 0)
time			= 20
freq			= 120
ampl			= -2
phase			= 50


[State 3030, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 9190
ID = 9190
pos = 0,-60
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .9,.9
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3030:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1)
value			= S2,6

[State 2400, PlaySND]
type = PlaySnd
trigger1 = time = 70
value = 18,10
channel = 5

[State 3501, ChangeState]
type = ChangeState
trigger1 = time = 70
value = 3705
ctrl = 0

;---------------------------------------------------------------------------
;Torvellino Infernal!!! (Director del - Atake Combinado)- Esclavo
;Teleport Inicial
[Statedef 3705]
type 		= S
movetype	= A
physics		= S
anim		= 3605
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0]
type=PlaySnd
trigger1=(time=5)||(time=10)
value=3,0

[State 1090]
type=AfterImage
trigger1= time = 5
time=10
length=10
palcontrast=120,120,120
palmul=.35,.35,.35
timegap=1
framegap=1
trans=Add
ignorehitpause=1

[State 1090, Afterimage bck]
type=Helper
trigger1=(time=5)
helpertype=normal
name="Afterimage bck"
ID=1093
pos=0,0
postype=p1
facing=1
stateno=1093
keyctrl=0
ownpal=1
persistent=0

[State 1090, Afterimage forw]
type=Helper
trigger1=(time=5)
helpertype=normal
name="Afterimage forw"
ID=1094
pos=0,0
postype=p1
facing=1
stateno=1094
keyctrl=0
ownpal=1
persistent=0

[State 0, PosAdd]
type = Posset
trigger1 = (time=5)
x = frontedgedist-1000
y = 0

[State 0, Turn]
type = Turn
triggerall = (time > 7)
trigger1 = p2bodydist x < 5
;ignorehitpause =
;persistent =


[State 3501, ChangeState]
type = ChangeState
trigger1 = (!animtime)
value = 3706
ctrl = 0

;---------------------------------------------------------------------------
;Torvellino Infernal!!! (Director del - Atake Combinado) - Esclavo
;Torvellino - Lanzamiento
[Statedef 3706]
type 		= S
movetype	= A
physics		= S
anim		= 3706
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 2400, PlaySND]
type = PlaySnd
trigger1 = time = 10
value = 18,9
channel = 5

[State 3605, Torvellino]
type = Explod
triggerall = time > 10
trigger1 = time% 10 = 0
ID = 3651
anim = 3651
pos = -40,30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
vel= 2,0
accel = 0.2,0
random = 0,0;10,10
scale =  0.5, 0.5
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 1
ignorehitpause	= 1
removeongethit	= 1


[State 2400, End]
type = ChangeState
trigger1 =  partner, numhelper(3652) = 1
value = 3610
ctrl = 0

[State 2400, End]
type = ChangeState
trigger1 =  time = 150
value = 3607
ctrl = 0




;=============================================================================
;---------------------------------------------------------------------------
;=============================================================================
;---------------------------------------------------------------------------
;=============================================================================
;---------------------------------------------------------------------------
;===========================================================================
;-| Misc |------------------------------------------------------------------
;---------------------------------------------------------------------------
;Short Jump
[Statedef 7000]
type 			= A
movetype		= I
physics		= A
;anim			= 7000
;velset		= 0,0
ctrl			= 1
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 7000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= !Time
value 		= IfElse((Vel X) = 0, 41, IfElse((Vel X) > 0, 42, 43))

[State 7000: 	VelSet]
type 			= VelSet
trigger1 		= !Time
x 			= IfElse(Vel X = 0,0,IfElse(Vel X < 0,-3.1,3.4))
y 			= -6.5

[State 7000: 	VelSet]
type 			= VelSet
trigger1 		= (!Time) && (Var(0))
x 			= IfElse(Vel X = 0,0,IfElse(Vel X < 0,-5,5))

[State 7000: 	AfterImage]
type 			= AfterImage
trigger1 		= ((!Time) && (Vel X != 0)) && (Var(0))
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 7000: 	ChangeState]
type 			= ChangeState
trigger1 		= (Pos Y >= 0) && (Vel Y > 0)
value 		= 52


;---------------------------------------------------------------------------
;Evade Forward
[Statedef 7010]
type 			= S
movetype		= I
physics		= N
;anim			= 7010
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 7010:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time)
value			= 7010
elem			= IfElse(PrevStateNo = 100,2,1)

[State 7010:	Turn]
type			= Turn
trigger1		= (P2BodyDist X < 0) && (!AnimTime)

[State 7010:	SprPriority]
type			= SprPriority
trigger1		= (AnimElem = 2, > 0)
value			= -2

[State 7010: 	PlayerPush]
type 			= PlayerPush
trigger1		= (AnimElem = 2, > 0)
value 		= 0

[State 7010: 	NotHitBy]
type 			= NotHitBy
trigger1 		= (!Time)
value 		= SCA
time 			= IfElse(PrevStateNo = 100,10,17)

[State 7010:	PowerAdd]
type			= PowerAdd
trigger1		= (!Time) && ((PrevStateNo = 150) || (PrevStateNo = 152))
value			= -500

[State 7010:	EnvColor]
type			= EnvColor
trigger1		= (!Time) && ((PrevStateNo = 150) || (PrevStateNo = 152))
value			= 255,255,255
time			= 7

[State 7010:	MakeDust]
type			= MakeDust
trigger1 		= (AnimElem = 2, > 0)
pos 			= -5, 0
spacing 		= 4

[State 7010: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 2)
x 			= 8.5

[State 7010: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 3)
x 			= 1

[State 7010:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && ((PrevStateNo = 150) || (PrevStateNo = 152))
value			= S0,9

[State 7010: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 2)
value 		= S18,9
channel		= 0

[State 7010: 	AfterImage]
type 			= AfterImage
trigger1 		= (AnimElem = 2)
time 			= 10
timegap		= 4
framegap 		= 4
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100,100,100
trans 		= add

[State 7010: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0

;---------------------------------------------------------------------------
;Evade Backward
[Statedef 7020]
type 			= S
movetype		= I
physics		= N
;anim			= 7020
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 7020:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time)
value			= 7020
elem			= IfElse(PrevStateNo = 105,2,1)

[State 7020:	SprPriority]
type			= SprPriority
trigger1		= (AnimElem = 2, > 0)
value			= -2

[State 7020: 	PlayerPush]
type 			= PlayerPush
trigger1		= (AnimElem = 2, > 0)
value 		= 0

[State 7020: 	NotHitBy]
type 			= NotHitBy
trigger1 		= (!Time)
value 		= SCA
time 			= IfElse(PrevStateNo = 105,10,17)

[State 7020:	MakeDust]
type			= MakeDust
trigger1 		= (AnimElem = 2, > 0)
pos 			= 5, 0
spacing 		= 4

[State 7020: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 2)
x 			= -8.5

[State 7020: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 3)
x 			= -1

[State 7020: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 2)
value 		= S18,9
channel		= 0

[State 7020: 	AfterImage]
type 			= AfterImage
trigger1 		= (AnimElem = 2)
time 			= 10
timegap		= 4
framegap 		= 4
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100,100,100
trans 		= add

[State 7020: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0


;-----------------------------------------

;---------------------------------------------------------------------------
;Ki Charge
[Statedef 7030]
type 			= S
movetype		= I
physics		= S
anim			= 7030
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 7030:	PowerAdd]
type			= PowerAdd
trigger1		= (Time = [12,60])
value			= 5

[State 7030:	PowerAdd]
type			= PowerAdd
trigger1		= (Time > 60)
value			= 5

[State 7030:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S18,3
channel		= 0
lowpriority = 0
volume = 3

[State 7030:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1)
value			= S3,1
channel		= 1

[State 7030:	PlaySnd]
type			= PlaySnd
trigger1		= (Time > 13) && ((GameTime%50) = 0)
value			= S1,5
channel		= 2

[State 7030:	PlaySnd]
type			= PlaySnd
trigger1		= (Time > 13) && ((GameTime%9) = 0)
value			= S0,8
lowpriority		= 1
channel		= 3



[State 7030:	BGPalFX]
type			= BGPalFX
trigger1		= ((Time > 100) && ((GameTime%70) = 0))
time			= 10
add			= 20,20,20
mul			= 256,256,256
sinadd		= 200,200,200,4
invertall		= 1
color			= 256

[State 7030:	EnvShake]
type			= EnvShake
trigger1 		= ((Time > 100) && ((GameTime%5) = 0))
time			= 5
freq			= 140
ampl			= -4
phase			= 90

[State 3010:	Helper]
type			= Helper
trigger1		= (AnimElem = 2, = 15)
helpertype		= Normal
name			= "Flame Effect"
id			= 9001
pos			= 20,0
postype		= p1
facing		= 0
stateno		= 9001
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale =   0.6
size.yscale =   0.6


[State 7030:	Explod]
type			= Explod
trigger1		= (Time = 13)
anim			= 9020
id			= 9020
pos			= 20,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 7030:	Explod]
type			= Explod
trigger1		= (Time = 13)
anim			= 9020
id			= 9020
pos			= -20,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 7030:	Explod]
type			= Explod
trigger1		= (Time = 13)
anim			= 9050
id			= 9050
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.7,0.7
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1



[State 7030:	Helper]
type			= Helper
trigger1		= (Time > 100) && ((GameTime%10) = 0) && (Random < 249) && (NumHelper(7032) < 5)
helpertype		= Normal
name			= "Rock000"
id			= 7032
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 7032
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 799,0.75,3))
size.yscale		= (IfElse(Random <= 799,0.75,3))

[State 7030:	Helper]
type			= Helper
trigger1		= (Time > 100) && ((GameTime%20) = 0) && (Random > 749) && (NumHelper(7032) < 5)
helpertype		= Normal
name			= "Rock001"
id			= 7033
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 7033
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 499,0.75,0.50))
size.yscale		= (IfElse(Random <= 499,0.75,0.50))

[State 7030:	Helper]
type			= Helper
trigger1		= (Time > 100) && ((GameTime%30) = 0) && (Random = [249,749]) && (NumHelper(7032) < 5)
helpertype		= Normal
name			= "Rock002"
id			= 7034
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 7034
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= (IfElse(Random <= 499,0.50,0.75))
size.yscale		= (IfElse(Random <= 499,0.50,0.75))

[State 1, aura 1]
type = Explod
trigger1 = random > 750
anim = 2552
ID = 2552
pos = 0,-10
postype = p1
facing = 1
vfacing = 1
bindtime = -1
random = 10,60
supermove = 1
scale = .3,.3
sprpriority = ifelse(random<500,-3,3)
ownpal = 1
pausemovetime   = 1000

[State 1, aura 1]
type = Explod
trigger1 = random > 750
anim = 2552
ID = 2552
pos = 0,-10
postype = p1
facing = -1
vfacing = 1
bindtime = -1
random = 10,60
supermove = 1
scale = .3,.3
sprpriority = ifelse(random<500,-3,3)
ownpal = 1
pausemovetime   = 1000


[State 1, aura 2]
type = Explod
trigger1 = random > 700
anim = 2553
ID = 2553
pos = -20,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
random = 10,30
supermove = 1
scale = .2,.2
sprpriority = ifelse(random<500,-3,3)
ownpal = 1
pausemovetime   = 1000

[State 1, aura 2]
type = Explod
trigger1 = random > 700
anim = 2553
ID = 2553
pos = 20,-20
postype = p1
facing = -1
vfacing = 1
bindtime = -1
random = 10,30
supermove = 1
scale = .2,.2
sprpriority = ifelse(random<500,-3,3)
ownpal = 1
pausemovetime   = 1000


[State 1, aura 3]
type = Explod
trigger1 = random > 700
anim = 2554
ID = 2554
pos = 0,-20
postype = p1
facing = -1
vfacing = 1
bindtime = -1
random = 10,60
supermove = 1
scale = .3,.3
sprpriority = ifelse(random<500,-3,3)
ownpal = 1
pausemovetime   = 1000


[State 7030:	ChangeState]
type			= ChangeState
trigger1		= ((Command != "holdy") || (Command != "holdb")) && (Var(2) <= 0)
value			= 7035

;---------------------------------------------------------------------------
;Ki Charge: Rock000
[Statedef 7032]
type 			= S
movetype		= I
physics		= N
anim			= 9080
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 7032:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 7032:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 7032:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(1)		= (Parent, StateNo)

[State 7032:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= var(0)
y			= 0

[State 7032:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-1,-2))

[State 7032:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != Var(1))
y			= 0.05

[State 7032:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Const(Size.XScale) <= 1)
value			= S2,2

[State 7032:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Const(Size.XScale) > 1)
value			= S0,1

[State 7032:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,9

[State 7032:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 7032:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

;---------------------------------------------------------------------------
;Ki Charge: Rock001
[Statedef 7033]
type 			= S
movetype		= I
physics		= N
anim			= 9090
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 7033:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 7033:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 7033:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(1)		= (Parent, StateNo)

[State 7033:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= var(0)
y			= 0

[State 7033:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-1.5,-2.5))

[State 7033:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != Var(1))
y			= 0.05

[State 7033:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S2,2

[State 7033:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,9

[State 7033:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 7033:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

;---------------------------------------------------------------------------
;Ki Charge: Rock002
[Statedef 7034]
type 			= S
movetype		= I
physics		= N
anim			= 9100
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 7034:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 7034:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 7034:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(1)		= (Parent, StateNo)

[State 7034:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= var(0)
y			= 0

[State 7034:	PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 7034:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-2,-3))

[State 7034:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != Var(1))
y			= 0.05

[State 7034:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S2,2

[State 7034:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,9

[State 7034:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 7034:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

;---------------------------------------------------------------------------
;Ki Charge - End
[Statedef 7035]
type 			= S
movetype		= I
physics		= S
anim			= 7035
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 7035:	VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 7035:	StopSnd]
type			= StopSnd
trigger1		= (!Time)
channel		= 0

[State 7035:	StopSnd]
type			= StopSnd
trigger1		= (!Time)
channel		= 1

[State 7035:	RemoveExplod]
type			= RemoveExplod
trigger1		= (!Time)
id			= 9050

[State 7035:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;===========================================================================
;-| Effects |---------------------------------------------------------------

;---------------------------------------------------------------------------
;Flame Effect
[Statedef 9001]
type 			= S
movetype		= I
physics		= N
anim			= 7032
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 4
xscale = 1
yscale = 1

[State 1, aura 1]
type = Explod
trigger1 = random > 750
anim = 2552
ID = 2552
pos = 0,-10
postype = p1
facing = 1
vfacing = 1
bindtime = -1
random = 10,60
supermove = 1
scale = .3,.3
sprpriority = ifelse(random<500,-3,3)
ownpal = 1
pausemovetime   = 1000

[State 1, aura 1]
type = Explod
trigger1 = random > 750
anim = 2552
ID = 2552
pos = 0,-10
postype = p1
facing = -1
vfacing = 1
bindtime = -1
random = 10,60
supermove = 1
scale = .3,.3
sprpriority = ifelse(random<500,-3,3)
ownpal = 1
pausemovetime   = 1000


[State 1, aura 2]
type = Explod
trigger1 = random > 700
anim = 2553
ID = 2553
pos = -20,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
random = 10,30
supermove = 1
scale = .2,.2
sprpriority = ifelse(random<500,-3,3)
ownpal = 1
pausemovetime   = 1000

[State 1, aura 2]
type = Explod
trigger1 = random > 700
anim = 2553
ID = 2553
pos = 20,-20
postype = p1
facing = -1
vfacing = 1
bindtime = -1
random = 10,30
supermove = 1
scale = .2,.2
sprpriority = ifelse(random<500,-3,3)
ownpal = 1
pausemovetime   = 1000


[State 1, aura 3]
type = Explod
trigger1 = random > 700
anim = 2554
ID = 2554
pos = 0,-20
postype = p1
facing = -1
vfacing = 1
bindtime = -1
random = 10,60
supermove = 1
scale = .3,.3
sprpriority = ifelse(random<500,-3,3)
ownpal = 1
pausemovetime   = 1000

[State 9001:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow

[State 9001:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= 0,0

[State 9001:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(0)		= 35

[State 9001:	VarSet]
type			= VarSet
trigger1		= (Var(0) = 35)
var(1)		= 0

[State 9001:	VarSet]
type			= VarSet
trigger1		= (Var(0) = 150)
var(1)		= 1

[State 9001:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(2)		= (Parent, StateNo)

[State 9001:	VarAdd]
type			= VarAdd
trigger1		= 1
var(0)		= IfElse(Var(1) = 0,1,-1)

[State 9001: 	AfterImage]
type 			= AfterImage
trigger1 		= 1
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= var(0), var(0), var(0)
trans 		= add

[State 9001:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, StateNo != Var(2)) || ((Parent, StateNo = 3010) && (Parent, AnimElem = 3, = 60))



;---------------------------------------------------------------------------
;HitSpark: Orange
;[Statedef 9010]

;---------------------------------------------------------------------------
;Dust
;[Statedef 9020]

;---------------------------------------------------------------------------
;Small Explosion
;[Statedef 9030]

;---------------------------------------------------------------------------
;Ki Blast Effect
[Statedef 9040]
type 			= S
movetype		= I
physics		= N
anim			= 9040
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 9040:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 9040:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(0)		= 200

[State 9040:	VarAdd]
type			= VarAdd
trigger1		= 1
var(0)		= -2

[State 9040:	AfterImage]
type 			= AfterImage
trigger1 		= 1
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 120, 120, 120
palmul 		= .50, .50, .50
palcontrast 	= var(0), var(0), var(0)
trans 		= add

[State 9040:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime)

;---------------------------------------------------------------------------
;Shockwave
;[Statedef 9050]

;---------------------------------------------------------------------------
;Ki Barrier
[Statedef 9060]
type 		= A
movetype	= A
physics		= N
;anim		= 9060
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 9060:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (Anim != 9060)
value			= 9060

[State 9060:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 9060:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= -5,-55

[State 9060:	HitBy]
type			= HitBy
trigger1		= 1
value			= , NP, SP, HP
ignorehitpause	= 1

[State 9060:	HitOverride]
type			= HitOverride
trigger1		= 1
attr			= , NP, SP, HP
slot			= 0
stateno		= 9060
ignorehitpause	= 1

[State 9060:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(0)		= 100

[State 9060:	VarAdd]
type			= VarAdd
trigger1		= 1
var(0)		= -1

[State 9060:	ParentVarSet]
type			= ParentVarSet
trigger1		= (MoveContact) && ((EnemyNear, BackEdgeBodyDist < 10) || (EnemyNear, FrontEdgeBodyDist < 10))
var(4)		= 1
ignorehitpause	= 1

[State 9060:	AfterImage]
type 			= AfterImage
trigger1 		= 1
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= var(0), var(0), var(0)
trans 		= add

[State 9060:	HitDef]
type			= HitDef
trigger1		= (!MoveContact) && (Parent, StateNo = 2000)
attr			= S, SP
hitflag		= MAFDP
guardflag		= M
animtype		= Low
air.animtype	= DiagUp
priority		= 7, Hit
damage		= 70,35
pausetime		= 10,12
guard.pausetime	= 10,12
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= 10,0
hitsound		= S0,9
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 38
ground.hittime	= 38
air.hittime		= 12
ground.velocity	= (IfElse(P2Dist X > 0,-1.5,1.5)),-8.5
guard.velocity	= (IfElse(P2Dist X > 0,-4,4))
air.velocity	= (IfElse(P2Dist X > 0,-1.5,1.5)),-8.5
airguard.velocity	= (IfElse(P2Dist X > 0,-1.5,1.5)),-8.5
ground.cornerpush.veloff = 0
fall			= 1
fall.recover	= 0
id			= 9060
guard.kill		= 0
getpower		= 0
givepower		= 20
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -7
persistent		= 0

[State 9060:	HitDef]
type			= HitDef
trigger1		= (!MoveContact) && (Parent, StateNo = 3010)
attr			= S, HP
hitflag		= MAFDP
guardflag		= M
animtype		= DiagUp
priority		= 7, Hit
damage		= 75,12
pausetime		= 0,20
guard.pausetime	= 0,20
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= 10,0
hitsound		= S0,9
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -3,-11
guard.velocity	= -10
air.velocity	= -3,-11
airguard.velocity	= -3,-11
ground.cornerpush.veloff = 0
yaccel		= 0.35
fall			= 1
fall.recover	= 0
down.bounce		= 1
id			= 9060
kill			= 0
guard.kill		= 0
getpower		= 0
givepower		= 50
envshake.time 	= 20
envshake.freq 	= 120
envshake.ampl 	= -6
persistent		= 0

[State 9060:	HitDef]
type			= HitDef
trigger1		= (!MoveContact) && (Parent, StateNo = 3020)
attr			= S, HP
hitflag		= MAFDP
guardflag		= M
animtype		= DiagUp
priority		= 7, Hit
damage		= 100,25
pausetime		= 0,80
guard.pausetime	= 0,20
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= 10,0
hitsound		= S0,9
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -3,-12
guard.velocity	= -10
air.velocity	= -3,-12
airguard.velocity	= -3,-12
ground.cornerpush.veloff = 0
yaccel		= 0.35
fall			= 1
fall.recover	= 0
down.bounce		= 1
id			= 9060
kill			= 0
guard.kill		= 0
getpower		= 0
givepower		= 20
envshake.time 	= 20
envshake.freq 	= 120
envshake.ampl 	= -6
persistent		= 0

[State 9060:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime) || (Parent, MoveType = H)

;---------------------------------------------------------------------------
;Small Projectile
[Statedef 9070]
type 			= S
movetype		= I
physics		= N
anim			= 9070
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2
size.xscale     = 0.4
size.yscale     = 0.4

[State 9070:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Invisible
flag2			= NoShadow

[State 9070:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9070:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9070:	MakeDust]
type			= MakeDust
trigger1		= (Vel Y = 0)
pos 			= 0,60
spacing 		= 2

[State 9070:	EnvShake]
type			= EnvShake
trigger1		= (Pos Y >= 0)
time			= 12
freq			= 120
ampl			= -4
phase			= 90

[State 9070:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 14
y			= (IfElse((Parent,Command = "holdup"),-6.666666,(IfElse((Parent,Command = "holddown"),6.666666,0))))

[State 9070:	VelMul]
type			= VelMul
trigger1		= (Time > 0)
x			= 1.1
y			= 1.1

[State 9070:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 10
timegap		= 2
framegap 		= 3
length 		= 10
paladd 		= 200, 50, 10
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9070:	Helper]
type			= Helper
trigger1		= (Pos Y >= 0)
helpertype		= Normal
name			= "Rock000"
id			= 9080
pos			= 0,0
;postype		= p1
facing		= 1
stateno		= 9080
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.5
size.yscale		= 0.5

[State 9070:	Helper]
type			= Helper
trigger1		= (Pos Y >= 0)
helpertype		= Normal
name			= "Rock001"
id			= 9090
pos			= 0,0
;postype		= p1
facing		= 1
stateno		= 9090
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.5
size.yscale		= 0.5

[State 9070:	Helper]
type			= Helper
trigger1		= (Pos Y >= 0)
helpertype		= Normal
name			= "Rock002"
id			= 9100
pos			= 0,0
;postype		= p1
facing		= 1
stateno		= 9100
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.5
size.yscale		= 0.5

[State 9070:	DestroySelf]
type			= DestroySelf
trigger1 		= (Parent, NumProjID(9070) = 0)

;---------------------------------------------------------------------------
;Debris000
[Statedef 9080]
type 			= S
movetype		= I
physics		= N
anim			= 9080
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 9080:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 9080:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9080:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9080:	MakeDust]
type			= MakeDust
trigger1		= (Pos Y >= 1) && (Time > 10)
pos 			= 5,0
pos2			= -5,0
spacing 		= 2
persistent		= 0

[State 9080:	VelAdd]
type			= VelAdd
trigger1		= (Time > 10)
y			= (IfElse(Random <= 499,0.40,0.35))

[State 9080:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= (IfElse(Random <= 499,3,-3))
y			= (IfElse(Random <= 499,-8,-4))

[State 9080:	VelSet]
type			= VelSet
trigger1		= (Pos Y >= 1) && (Time > 10)
x			= 0
y			= 0

[State 9080:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9080:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime)

;---------------------------------------------------------------------------
;Debris001
[Statedef 9090]
type 			= S
movetype		= I
physics		= N
anim			= 9090
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 9090:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 9090:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9090:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9090:	MakeDust]
type			= MakeDust
trigger1		= (Pos Y >= 1) && (Time > 10)
pos 			= 5,0
pos2			= -5,0
spacing 		= 2
persistent		= 0

[State 9090:	VelAdd]
type			= VelAdd
trigger1		= (Time > 10)
y			= (IfElse(Random <= 499,0.40,0.35))

[State 9090:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= (IfElse(Random <= 499,2,-5))
y			= (IfElse(Random <= 499,-10,-5))

[State 9090:	VelSet]
type			= VelSet
trigger1		= (Pos Y >= 1) && (Time > 10)
x			= 0
y			= 0

[State 9090:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9090:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime)

;---------------------------------------------------------------------------
;Debris002
[Statedef 9100]
type 			= S
movetype		= I
physics		= N
anim			= 9100
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 9100:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 9100:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9100:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9100:	MakeDust]
type			= MakeDust
trigger1		= (Pos Y >= 1) && (Time > 10)
pos 			= 5,0
pos2			= -5,0
spacing 		= 2
persistent		= 0

[State 9100:	VelAdd]
type			= VelAdd
trigger1		= (Time > 10)
y			= (IfElse(Random <= 499,0.40,0.35))

[State 9100:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= (IfElse(Random <= 499,4,-5))
y			= (IfElse(Random <= 499,-6,-3))

[State 9100:	VelSet]
type			= VelSet
trigger1		= (Pos Y >= 1) && (Time > 10)
x			= 0
y			= 0

[State 9100:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9100:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime)

;---------------------------------------------------------------------------
;Jishin Ha: Projectile
[Statedef 9110]
type 			= A
movetype		= A
physics		= N
anim			= 9110
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9110:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow

[State 9110:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9110:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9110:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= 41,-60
ignorehitpause	= 1

[State 9110:	ParentVarSet]
type			= ParentVarSet
trigger1		= (MoveContact) && (EnemyNear, BackEdgeBodyDist < 10) && (Parent, P2BodyDist X < 25)
var(4)		= 1
ignorehitpause	= 1

[State 9110:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S3,6


[State 9110:	HitDef]
type		= HitDef
trigger1	= Animelem = 4 || Animelem = 7 || animelem = 10
attr		= S, SP
hitflag		= MAFP
guardflag	= M
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 20
pausetime	= 0,4
guard.pausetime	= 0,4
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 15+(random%5),-10+(random%5)
hitsound	= S2,12
guardsound	= S2,12
ground.type	= High
air.type	= Trip
ground.slidetime = 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -10
guard.velocity	= -10
air.velocity	= -8,-4.7
airguard.velocity = -8,-4.7
ground.cornerpush.veloff = 0
air.fall	= 1
id		= 9110
getpower	= 0
givepower	= 70

[State 2450, Explod - spark]
type = Explod
trigger1 =  Movecontact = 1
anim =  1751
ID =    1751
pos =  0+(random%30),0+(random%5)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0


[State 9110:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime)

;---------------------------------------------------------------------------
;Renzokou Kikou Ha: Projectile Straight
[Statedef 9130]
type 			= A
movetype		= A
physics		= N
anim			= 9130
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9131: AssertSpecial] 
type = AssertSpecial 
trigger1 = 1 
flag = NoShadow 



[State 9130:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9130:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 10
y			= IfElse(Random <= 499,-0.5,0.5)



[State 9130:	Helper]
type			= Helper
trigger1		= (!Time)
helpertype		= Normal
name			= "Projectile Tail"
id			= 9140
pos			= 11,0
postype		= p1
facing		= 1
stateno		= 9140
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 9130:	HitDef]
type			= HitDef
trigger1		= 1
attr			= S, SP
hitflag		= MAFDP
guardflag		= MA
animtype		= Hard
priority		= 7, Hit
damage		= 20,5
pausetime		= 12,12
guard.pausetime	= 15,20
sparkno		= S9030
guard.sparkno	= S9030
sparkxy		= 0,0
hitsound		= S0,5
guardsound		= S0,9
ground.type		= High
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 9130
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 9130:	ChangeState]
type			= ChangeState
triggerall		= (P2Dist X < 75)
trigger1		= (P2Dist Y > 100) || (P2StateType = L) || (P2StateType = C) || ((P2Dist X = [0,10]) && (EnemyNear, Pos Y = 0))
value			= 9131

[State 9130:	ChangeState]
type			= ChangeState
trigger1		= (P2Dist X < 75) && (P2Dist Y < -40)
value			= 9132

[State 9130:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10)
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Renzokou Kikou Ha: Projectile Down
[Statedef 9131]
type 			= A
movetype		= A
physics		= N
anim			= 9131
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9131: AssertSpecial] 
type = AssertSpecial 
trigger1 = 1 
flag = NoShadow 


[State 9131:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9131:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 10
y			= 6.666666

[State 9131:	HitDef]
type			= HitDef
trigger1		= 1
attr			= S, SP
hitflag		= MAFDP
guardflag		= HA
animtype		= Hard
priority		= 7, Hit
damage		= 20,5
pausetime		= 12,12
guard.pausetime	= 15,20
sparkno		= S9030
guard.sparkno	= S9030
sparkxy		= 0,0
hitsound		= S0,5
guardsound		= S0,9
ground.type		= High
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 9130
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 9131:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) || (Pos Y >= 1)
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Renzokou Kikou Ha: Projectile Up
[Statedef 9132]
type 			= A
movetype		= A
physics		= N
anim			= 9132
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9131: AssertSpecial] 
type = AssertSpecial 
trigger1 = 1 
flag = NoShadow 

[State 9132:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9132:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 10
y			= -6.666666



[State 9132:	HitDef]
type			= HitDef
trigger1		= 1
attr			= S, SP
hitflag		= MAFDP
guardflag		= MA
animtype		= Hard
priority		= 7, Hit
damage		= 20,5
pausetime		= 12,12
guard.pausetime	= 15,20
sparkno		= S9030
guard.sparkno	= S9030
sparkxy		= 0,0
hitsound		= S0,5
guardsound		= S0,9
ground.type		= High
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -8,3.5
airguard.velocity	= -8,3.5
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 9130
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 9132:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) || (Pos Y < -1000)
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Renzokou Kikou Ha: Projectile Tail
[Statedef 9140]
type 			= A
movetype		= I
physics		= N
anim			= 9140
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2


[State 9140:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 9140:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9140:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9140:	VelSet]
type			= VelSet
trigger1		= 1
x			= Parent, Vel X
y			= Parent, Vel Y

[State 9140: 	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 30
timegap		= 1
framegap 		= 3
length 		= 60
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 9140:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, MoveContact) || (Parent, FrontEdgeBodyDist < -10) || (Parent, StateNo != 9130)

;---------------------------------------------------------------------------
;Projectile Smoke
;[Statedef 9160]
;---------------------------------------------------------------------------
;Large Projectile: Straight
;[Statedef 9170]
;---------------------------------------------------------------------------
;Chou KameHameHa: Projectile
[Statedef 9180]
type 		= A
movetype	= A
physics		= N
anim		= 9180
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 3

[State 9180:	AssertSpecial]
type			= AssertSpecial
trigger1		= (Parent, Var(7) > 580)
flag			= UnGuardable

[State 9180: AssertSpecial] 
type = AssertSpecial 
trigger1 = 1 
flag = NoShadow 


[State 1420]
type = posadd
trigger1 = 1
x = parentdist X-30

[State 9180:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9180:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9180:	BGPalFX]
type			= BGPalFX
trigger1		= (Time < 25) && ((GameTime%2) = 0)
time			= 1
add			= (200-Time*3),(200-Time*3),(255-Time*3)
mul			= 256,256,256
;sinadd		= 256,256,256,0
invertall		= 1
color			= 256

[State 9180:	Explod]
type		= Explod
trigger1	= (MoveContact) && ((GameTime%4) = 0)
anim		= 9010
id		= 9010
pos		= 0,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 30,40
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 1,1
sprpriority	= 4
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
ignorehitpause	= 1

[State 9180:	Explod]
type		= Explod
trigger1	= (MoveContact)
anim		= 9160
id		= 9160
pos		= 0,-25
postype		= p2
facing		= 1
vfacing		= 1
bindtime	= 30
vel		= 0,-0.5
accel		= 0,0
random		= 10,10
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.5,1
sprpriority	= 3
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent	= 0
ignorehitpause	= 1

[State 9180:	Explod]
type		= Explod
trigger1	= (MoveContact)
anim		= 9220
id		= 9220
pos		= 0,-30
postype		= p2
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 1,1
sprpriority	= 1
ontop		= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent	= 0
ignorehitpause	= 1

[State 9180:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 40
timegap		= 2
framegap 		= 3
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100,100,100
trans 		= add

[State 9180:	HitDef]
type		= HitDef
trigger1	= (!MoveContact)
attr		= S, HP
hitflag		= MAFDP
guardflag	= M
animtype	= Hard
priority	= 7, Hit
damage		= (Parent, Var(7)),(Parent, Var(7)/3)
pausetime	= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound	= S0,5
guardsound	= S0,9
ground.type	= Trip
air.type	= Trip
ground.slidetime = 25
ground.hittime	= 25
air.hittime	= 25
yaccel		= 0.35
ground.velocity	= -25,-3
guard.velocity	= -8
air.velocity	= -25,-3
airguard.velocity	= -25,-3
ground.cornerpush.veloff = 0
fall		= 1
fall.recover	= 0
id		= 9180
getpower	= 0
givepower	= 50
palfx.time	= 40
palfx.mul	= 256,256,256
palfx.add	= 200,200,255
palfx.sinadd	= -100,-100,-155,40
envshake.time 	= 30
envshake.freq 	= 120
envshake.ampl 	= -8
persistent		= 0



[State 9180:	DestroySelf]
type		= DestroySelf
trigger1	= (!AnimTime) || (Parent, StateNo != 3205)
trigger1	= (!AnimTime) || (Parent, StateNo != 3305)

;---------------------------------------------------------------------------
;Chou KameHameHa: Projectile Diagonal Arriba
;-------------------------------------------------------------------------------
;KameHameHa: Projectile Diagonal Arriba - Fx
[Statedef 9181]
movetype	= A
anim		= 9199
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 5

[State 2350:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
value =  40

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add




[State 2350:	DestroySelf]
type			= DestroySelf
trigger1 		= (Parent, StateNo != 3207)

;----------------------------------------------------
;KameHameHa: Projectile Diagonal Arriba - Fx
[Statedef 9182]
movetype	= A
anim		= 9180
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 5

[State 2350:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
value =  40

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add


[State 2350:	DestroySelf]
type			= DestroySelf
trigger1 		= animtime = 0 || (Parent, StateNo != 3207)
trigger2
;----------------------------------------
;KameHameHa: Projectile Diagonal Arriba - Hit
[Statedef 9183]
type 		= A
movetype	= A
physics		= N
anim		= 9183
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 3

[State 2350:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 9180:	AssertSpecial]
type			= AssertSpecial
trigger1		= (Parent, Var(7) > 580)
flag			= UnGuardable



[State 9180:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9180:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9180:	BGPalFX]
type			= BGPalFX
trigger1		= (Time < 25) && ((GameTime%2) = 0)
time			= 1
add			= (200-Time*3),(200-Time*3),(255-Time*3)
mul			= 256,256,256
;sinadd		= 256,256,256,0
invertall		= 1
color			= 256

[State 9180:	Explod]
type		= Explod
trigger1	= (MoveContact) && ((GameTime%4) = 0)
anim		= 9010
id		= 9010
pos		= 0,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 30,40
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 1,1
sprpriority	= 4
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
ignorehitpause	= 1

[State 9180:	Explod]
type		= Explod
trigger1	= (MoveContact)
anim		= 9160
id		= 9160
pos		= 0,-25
postype		= p2
facing		= 1
vfacing		= 1
bindtime	= 30
vel		= 0,-0.5
accel		= 0,0
random		= 10,10
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.5,1
sprpriority	= 3
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent	= 0
ignorehitpause	= 1

[State 9180:	Explod]
type		= Explod
trigger1	= (MoveContact)
anim		= 9220
id		= 9220
pos		= 0,-30
postype		= p2
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 1,1
sprpriority	= 1
ontop		= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent	= 0
ignorehitpause	= 1

[State 9180:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 40
timegap		= 2
framegap 		= 3
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100,100,100
trans 		= add

[State 9180:	HitDef]
type		= HitDef
trigger1	= (!MoveContact)
attr		= S, HP
hitflag		= MAFDP
guardflag	= M
animtype	= Hard
priority	= 7, Hit
damage		= (Parent, Var(7)),(Parent, Var(7)/3)
pausetime	= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound	= S0,5
guardsound	= S0,9
ground.type	= Trip
air.type	= Trip
ground.slidetime = 25
ground.hittime	= 25
air.hittime	= 25
yaccel		= 0.35
ground.velocity	= -25, -20
guard.velocity	= -8
air.velocity	= -25, -20
airguard.velocity	= -25, -10
ground.cornerpush.veloff = 0
fall		= 1
fall.recover	= 0
id		= 9180
getpower	= 0
givepower	= 50
palfx.time	= 40
palfx.mul	= 256,256,256
palfx.add	= 200,200,255
palfx.sinadd	= -100,-100,-155,40
envshake.time 	= 30
envshake.freq 	= 120
envshake.ampl 	= -8
persistent		= 0



[State 9180:	DestroySelf]
type		= DestroySelf
trigger1	= (!AnimTime) || (Parent, StateNo != 3207)

;---------------------------------------------------------------------------
;Chou KameHameHa: Projectile Diagonal Abajo
;-------------------------------------------------------------------------------
;KameHameHa: Projectile Diagonal Abajo - Fx
[Statedef 9184]
movetype	= A
anim		= 9199
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 5

[State 2350:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
value =  -40

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add




[State 2350:	DestroySelf]
type			= DestroySelf
trigger1 		= (Parent, StateNo != 3307)

;----------------------------------------------------
;KameHameHa: Projectile Diagonal Arriba - Fx
[Statedef 9185]
movetype	= A
anim		= 9180
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 5

[State 2350:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
value =  -40

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add


[State 2350:	DestroySelf]
type			= DestroySelf
trigger1 		= animtime = 0 || (Parent, StateNo != 3307)
trigger2
;----------------------------------------
;KameHameHa: Projectile Diagonal Arriba - Hit
[Statedef 9186]
type 		= A
movetype	= A
physics		= N
anim		= 9186
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 3

[State 2350:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 9180:	AssertSpecial]
type			= AssertSpecial
trigger1		= (Parent, Var(7) > 580)
flag			= UnGuardable



[State 9180:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9180:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9180:	BGPalFX]
type			= BGPalFX
trigger1		= (Time < 25) && ((GameTime%2) = 0)
time			= 1
add			= (200-Time*3),(200-Time*3),(255-Time*3)
mul			= 256,256,256
;sinadd		= 256,256,256,0
invertall		= 1
color			= 256

[State 9180:	Explod]
type		= Explod
trigger1	= (MoveContact) && ((GameTime%4) = 0)
anim		= 9010
id		= 9010
pos		= 0,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 30,40
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 1,1
sprpriority	= 4
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
ignorehitpause	= 1

[State 9180:	Explod]
type		= Explod
trigger1	= (MoveContact)
anim		= 9160
id		= 9160
pos		= 0,-25
postype		= p2
facing		= 1
vfacing		= 1
bindtime	= 30
vel		= 0,-0.5
accel		= 0,0
random		= 10,10
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.5,1
sprpriority	= 3
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent	= 0
ignorehitpause	= 1

[State 9180:	Explod]
type		= Explod
trigger1	= (MoveContact)
anim		= 9220
id		= 9220
pos		= 0,-30
postype		= p2
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 1,1
sprpriority	= 1
ontop		= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent	= 0
ignorehitpause	= 1

[State 9180:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 40
timegap		= 2
framegap 		= 3
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100,100,100
trans 		= add

[State 9180:	HitDef]
type		= HitDef
trigger1	= (!MoveContact)
attr		= S, HP
hitflag		= MAFDP
guardflag	= M
animtype	= Hard
priority	= 7, Hit
damage		= (Parent, Var(7)),(Parent, Var(7)/3)
pausetime	= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound	= S0,5
guardsound	= S0,9
ground.type	= Trip
air.type	= Trip
ground.slidetime = 25
ground.hittime	= 25
air.hittime	= 25
yaccel		= 0.35
ground.velocity	= -25,-3
guard.velocity	= -8
air.velocity	= -25,-3
airguard.velocity	= -25,-3
ground.cornerpush.veloff = 0
fall		= 1
fall.recover	= 0
id		= 9180
getpower	= 0
givepower	= 50
palfx.time	= 40
palfx.mul	= 256,256,256
palfx.add	= 200,200,255
palfx.sinadd	= -100,-100,-155,40
envshake.time 	= 30
envshake.freq 	= 120
envshake.ampl 	= -8
persistent		= 0



[State 9180:	DestroySelf]
type		= DestroySelf
trigger1	= (!AnimTime) || (Parent, StateNo != 3307)

;---------------------------------------------------------------------------
;SuperPause
[Statedef 9190]
type 			= S
movetype		= I
physics		= N
anim			= 9190
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9190:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= GlobalNoShadow
flag2			= NoBarDisplay

[State 9190:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoMusic
flag2			= NoFG

[State 9190:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9190:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9190:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= 12,-61

[State 9190: 	AfterImage]
type 			= AfterImage
trigger1		= (!Time)
time 			= 25
timegap		= 4
framegap 		= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9190:	BGPalFX]
type			= BGPalFX
trigger1		= (!Time)
time			= 50
add			= -100,-100,-100
mul			= 256,256,256
sinadd		= 100,100,100,50
invertall		= 1
color			= 256

[State 9190:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9191
id			= 9191
pos			= 0,0
postype		= Back
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -14,0
accel			= 0,0
random		= 0,0
removetime		= 50
supermove		= 1
supermovetime	= 50
pausemovetime	= 0
scale			= 1,1.1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 9190:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9191
id			= 9191
pos			= -20,53
postype		= Back
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -14,0
accel			= 0,0
random		= 0,0
removetime		= 50
supermove		= 1
supermovetime	= 50
pausemovetime	= 0
scale			= 1,1.1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 9190:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9191
id			= 9191
pos			= -10,106
postype		= Back
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -14,0
accel			= 0,0
random		= 0,0
removetime		= 50
supermove		= 1
supermovetime	= 50
pausemovetime	= 0
scale			= 1,1.1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 9190:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9191
id			= 9191
pos			= -10,158
postype		= Back
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -14,0
accel			= 0,0
random		= 0,0
removetime		= 50
supermove		= 1
supermovetime	= 50
pausemovetime	= 0
scale			= 1,1.1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 9190:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9191
id			= 9191
pos			= 0,210
postype		= Back
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -14,0
accel			= 0,0
random		= 0,0
removetime		= 50
supermove		= 1
supermovetime	= 50
pausemovetime	= 0
scale			= 1,1.1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 9190:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime)

;---------------------------------------------------------------------------
;SuperPause: BG
;[Statedef 9191]

;---------------------------------------------------------------------------
;Projectile Charge
;[Statedef 9200]

;---------------------------------------------------------------------------
;Ripple
;[Statedef 9210]

;---------------------------------------------------------------------------
;Big Explosion
;[Statedef 9220]

;---------------------------------------------------------------------------
;Makankosappou: Tail
;[Statedef 9240]

;---------------------------------------------------------------------------
;Projectile Charge; Yellow
;[Statedef 9250]

;---------------------------------------------------------------------------
;Large Projectile; Blue: Straight
;[Statedef 9260]


;===========================================================================
;-| Helper |----------------------------------------------------------------
;---------------------------------------------------------------------------
;Artificial Intelligence
[Statedef 11000]
type 			= S
movetype		= I
physics		= N
;anim			= 11000
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 11000:	ScreenBound]
type			= ScreenBound
trigger1		= 1
value			= 0
movecamera		= 0,0

[State 11000:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 11000:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 11000:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 11000: 	ParentVarSet]
type 			= ParentVarSet
triggerall 		= (Parent, Var(2) != 1)
trigger1 		= ((Parent, Command = "x") && (Command != "x")) || ((Parent, Command = "y") && (Command != "y")) || ((Parent, Command = "z") && (Command != "z"))
trigger2 		= ((Parent, Command = "a") && (Command != "a")) || ((Parent, Command = "b") && (Command != "b")) || ((Parent, Command = "c") && (Command != "c"))
trigger3 		= ((Parent, Command = "holdfwd") && (Command != "holdfwd")) || ((Parent, Command = "holdback") && (Command != "holdback")) 
trigger4 		= ((Parent, Command = "holdup") && (Command != "holdup")) || ((Parent, Command = "holddown") && (Command != "holddown")) 
var(2)		= 1

[State 11000: 	ParentVarSet]
type 			= ParentVarSet
triggerall 		= (Parent, Var(2) != -1)
trigger1 		= ((Parent, Command = "x") && (Command = "x")) || ((Parent, Command = "y") && (Command = "y")) || ((Parent, Command = "z") && (Command = "z"))
trigger2 		= ((Parent, Command = "a") && (Command = "a")) || ((Parent, Command = "b") && (Command = "b")) || ((Parent, Command = "c") && (Command = "c"))
trigger3 		= ((Parent, Command = "holdfwd") && (Command = "holdfwd")) || ((Parent, Command = "holdback") && (Command = "holdback")) 
trigger4 		= ((Parent, Command = "holdup") && (Command = "holdup")) || ((Parent, Command = "holddown") && (Command = "holddown")) 
var(2)		= -1

[State 11000:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, Var(2) = -1)

;---------------------------------------------------------------------------
;WinKO Finish
[Statedef 11010]
type 			= S
movetype		= I
physics		= N
;anim			= 11010
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 11010:	ScreenBound]
type			= ScreenBound
trigger1		= 1
value			= 0
movecamera		= 0,0

[State 11010:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 11010:	AssertSpecial]
type			= AssertSpecial
trigger1		= (Time < 50) && (Parent, StateNo = [3000,4999])
flag			= NoMusic

[State 11010:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 11010:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 11010:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Parent, StateNo = [3000,4999])
value			= S3,2

[State 11010:	Pause]
type			= Pause
trigger1		= (!Time) && (Parent, StateNo = [3000,4999])
time			= 12
movetime		= 12

[State 11010:	EnvColor]
type			= EnvColor
trigger1		= (Time < 12) && (Parent, StateNo = [3000,4999])
value			= (Time*4),(Time*4),(Time*4)
time			= 1
under			= 1

[State 11010:	EnvShake]
type			= EnvShake
trigger1		= (!Time) && (Parent, StateNo = [3000,4999])
time			= 12
freq			= 120
ampl			= -3
phase			= 90

[State 11010:	AllPalFX]
type			= AllPalFX
trigger1		= (Time < 50)
time			= 1
add			= 0,0,0
mul			= 256,256,256
sinadd		= 0,0,0,1
invertall		= 0
color			= (Time*5)

;===========================================================================
;-| Common |----------------------------------------------------------------

;---------------------------------------------------------------------------
;Stand
[Statedef 0]
type 			= S
movetype		= I
physics		= S
;anim			= 0
;velset		= 0,0
ctrl			= 1
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 0:		ChangeAnim]
type 			= ChangeAnim
trigger1 		= ((Anim != 0) && (Anim != 5)) || ((Anim = 5) && (!AnimTime))
value			= 0

[State 0: 		VelSet]
type 			= VelSet
trigger1 		= (!Time)
y 			= 0

[State 0: 		VelSet] 
type 			= VelSet
trigger1 		= (Abs(Vel X) < 2) || (Time = 4)
x 			= 0

[State 0, 5]
type = ChangeState
trigger1 = Time = 0
trigger1 = Pos Y < 0
value = 991

;---------------------------------------------------------------------------
;Stand to Crouch
[Statedef 10]
type 			= C
movetype		= I
physics		= C
anim			= 10
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 10: 		VelMul]
type 			= VelMul
trigger1 		= (!Time)
x 			= .75

[State 10: 		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 11

[State 10:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y < 0)
value			= 50

;---------------------------------------------------------------------------
;Crouching
[Statedef 11]
type 			= C
movetype		= I
physics		= C
anim			= 11
;velset		= 0,0
ctrl			= 1
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 11: 		ChangeAnim] 
type 			= ChangeAnim
trigger1 		= (Anim = 6) && (!AnimTime)
value 		= 11

[State 11:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y < 0)
value			= 50

[State 11:		ChangeState]
type			= ChangeState
trigger1		= (RoundState != 2)
value			= 0

;---------------------------------------------------------------------------
;Crouch to Stand
[Statedef 12]
type 			= S
movetype		= I
physics		= S
anim			= 12
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 12: 		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0

[State 12:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y < 0)
value			= 50

;---------------------------------------------------------------------------
;Walk
[Statedef 20]
type 			= S
movetype		= I
physics		= S
;anim			= -1
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 20: 		VelSet]
type 			= VelSet
trigger1 		= (Command = "holdfwd")
x 			= Const(Velocity.Walk.Fwd.X)

[State 20: 		VelSet]
type 			= VelSet
trigger1 		= (Command = "holdback")
x 			= Const(Velocity.Walk.Back.X)

[State 20: 		ChangeAnim]
type 			= ChangeAnim
triggerall 		= (Vel X > 0)
trigger1 		= ((Anim != 20) && (Anim != 5)) || ((Anim = 5) && (!AnimTime))
value 		= 20

[State 20: 		ChangeAnim]
type 			= ChangeAnim
triggerall 		= (Vel X < 0)
trigger1 		= ((Anim != 21) && (Anim != 5)) || ((Anim = 5) && (!AnimTime))
value 		= 21

[State 20:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y < 0)
value			= 50

;---------------------------------------------------------------------------
;Jump Start
[Statedef 40]
type 			= S
movetype		= I
physics		= S
anim			= 40
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= (EnemyNear, Facing = Facing)
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 40: 		VarSet]
type 			= VarSet
trigger1 		= (!Time)
sysvar(1) 		= 0

[State 40: 		VarSet]
type 			= VarSet
trigger1 		= (Command = "holdfwd")
sysvar(1) 		= 1

[State 40: 		VarSet]
type 			= VarSet
trigger1 		= (Command = "holdback") && (Var(20) != 1)
sysvar(1) 		= -1

[State 40: 		VarSet]
type 			= VarSet
trigger1 		= (!Time)
var(0) 		= 0

[State 40: 		VarSet]
type 			= VarSet
triggerall		= (Var(0) = 0)
trigger1		= ((PrevStateNo = [100,101]) && (Command = "holdfwd")) || ((PrevStateNo = [105,106]) && (Command = "holdback")) || (Command = "Long Jump")
var(0) 		= 1

[State 40: 		MakeDust]
type 			= MakeDust
trigger1 		= (!AnimTime)
pos 			= -5, 0
spacing 		= 4

[State 40:		PlaySnd]
type			= PlaySnd
trigger1		= (!AnimTime)
value			= S1,6

[State 40:		VelSet]
type			= VelSet
trigger1		= (Pos Y < 0)
x			= 0
y			= 0

[State 40: 		VelSet]
type 			= VelSet
trigger1 		= (!AnimTime)
x 			= IfElse(SysVar(1) = 0,Const(Velocity.Jump.Neu.X),IfElse(SysVar(1) = 1,Const(Velocity.Jump.Fwd.X),Const(Velocity.Jump.Back.X)))
y 			= Const(Velocity.Jump.Y)

[State 40: 		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime) && (Command != "holdup")
value 		= 7000
ctrl 			= 1

[State 40: 		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 50
ctrl 			= 1
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
;AirJump Start
[Statedef 45]
type 			= A
movetype		= I
physics		= N
;anim			= -1
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 45: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (SelfAnimExist(44))
value 		= 44

[State 45: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!SelfAnimExist(44))
value 		= 41

[State 45: 		VarSet]
type 			= VarSet
trigger1 		= (!Time)
sysvar(1) 		= 0

[State 45: 		VarSet]
type 			= VarSet
trigger1 		= (Command = "holdfwd")
sysvar(1) 		= 1

[State 45: 		VarSet]
type 			= VarSet
trigger1 		= (Command = "holdback")
sysvar(1) 		= -1

[State 45: 		VelSet]
type 			= VelSet
trigger1 		= (Time = 2)
x 			= IfElse(SysVar(1) = 0, Const(Velocity.AirJump.Neu.X), IfElse(SysVar(1) = 1, Const(Velocity.AirJump.Fwd.X), Const(Velocity.AirJump.Back.X)))
y 			= Const(Velocity.AirJump.Y)

[State 45: 		ChangeState]
type 			= ChangeState
trigger1 		= (Time = 2)
value 		= 50
ctrl 			= 1

;---------------------------------------------------------------------------
;Jump Up
[Statedef 50]
type 			= A
movetype		= I
physics		= A
;anim			= 50
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 50: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time)
value 		= IfElse((Vel X) = 0,41,IfElse((Vel X) > 0,42,43))

[State 50: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Vel Y > -2) && (SelfAnimExist(Anim + 3))
value 		= (Anim + 3)
persistent 		= 0

[State 50: 		VarSet]
type 			= VarSet
trigger1 		= (!Time)
sysvar(1) 		= 0

[State 50: 		VelSet]
type 			= VelSet
trigger1 		= (!Time) && (Var(0) = 1)
x 			= IfElse((Vel X) = 0,0,IfElse((Vel X) < 0,-5,6.7))

[State 50: 		VelAdd]
type 			= VelAdd
trigger1 		= (!Time) && (Var(0) = 1)
y			= -0.30


;---------------------------------------------------------------------------
;Jump Land
[Statedef 52]
type 			= S
movetype		= I
physics		= S
anim			= 47
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 52:		CtrlSet]
type			= CtrlSet
trigger1		= (Time = 2)
value			= 1

[State 52: 		VelSet]
type 			= VelSet
trigger1 		= (!Time)
x			= 0
y 			= 0

[State 52: 		PosSet]
type 			= PosSet
trigger1 		= (!Time)
y 			= 0

[State 52:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,6

[State 52: 		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0

;---------------------------------------------------------------------------
;Run_Fwd
[Statedef 100]
type 		= S
movetype	= I
physics		= N
anim		= 100
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 100:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoWalk
flag2			= NoAutoTurn

[State 100:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoStandGuard
flag2			= NoCrouchGuard

[State 100:		ScreenBound]
type			= ScreenBound
trigger1		= (BackEdgeBodyDist <= -5)
value			= 0
movecamera		= 0,0

[State 100:		CtrlSet]
type			= CtrlSet
trigger1		= 1
value			= (IfElse(BackEdgeBodyDist > -5,1,0))

[State 100:		VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 0
y			= 0

[State 100: 	VelSet]
type 			= VelSet
trigger1 		= (Time > 6)
x 			= Const(Velocity.Run.Fwd.X)
y			= 0

[State 100:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,10

[State 100: 	MakeDust]
type 			= MakeDust
trigger1 		= 1
pos 			= -5, 0
spacing 		= 4

[State 1300,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 3001, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 2)
anim =  7100
ID =    7100
pos =  5,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 100:		ChangeState]
type			= ChangeState
trigger1		= (Command != "holdfwd") && (BackEdgeBodyDist > -1)
value			= 101

[State fly, Changestate]
type = ChangeState
trigger1 = Pos Y < 0
value =  990

;---------------------------------------------------------------------------
;Run_Fwd - Stop
[Statedef 101]
type 		= S
movetype	= I
physics		= N
anim		= 101
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 1


[State 101, VelMul]
type = VelMul
trigger1 = 1
x = .3
;y =
;ignorehitpause = 0
;persistent = 1


[State 101: 	MakeDust]
type 			= MakeDust
trigger1 		= 1
pos 			= -5, 0
spacing 		= 4
[State 0, VelAdd]
type = VelAdd
trigger1 = time = 0
x = 0.5
y = 0

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
;trigger1 = vel X = 0
trigger1 = animtime = 0
value = 0

[State fly, Changestate]
type = ChangeState
trigger1 = Pos Y < 0
value = 991

;---------------------------------------------------------------------------

; Run Fwd en el aire
[Statedef 107]
type=S
physics=N
CTRL=0

[State 11,1]
type=ChangeAnim
trigger1=Anim !=100 && !time
value=100

[State 100,1]
type = VelSet
trigger1 = (Time > 6)
x = Const(Velocity.Run.Fwd.X)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (Animelem = 2)
value = S1,10


[State 1300,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 106,3]
type = MakeDust
trigger1 = pos y >= -30
pos = -25,floor(-pos y)
spacing = 2


[State 100,2] ;Prevent run from canceling into walk
type=AssertSpecial
trigger1=1
flag=NoWalk

[State 100,3] ;Prevent from turning
type=AssertSpecial
trigger1=1
flag=NoAutoTurn

[State 100,1]
type=null;VelSet
trigger1=time>=12
trigger1=pos y>=0
x=0

[State 100,4]
type = ChangeState
trigger1 = time <=12
trigger1 = command = "a"
value = 620

[State 100,4]
type = ChangeState
trigger1 = time <= 12
trigger1 = command = "b"
value = 630

[State 100,4]
type = ChangeState
trigger1 = time <= 12
trigger1 = command = "c"
value = 920

[State 100,4]
type = ChangeState
trigger1 = time <=12
trigger1 = command="x"
value = 600

[State 100,4]
type = ChangeState
trigger1 = time <=12
trigger1 = command = "y"
value = 610

[State 900,GoDown2]
type = VelSet
Trigger1 = pos Y > -1
y = 0

[State 100,4]
type = ChangeState
trigger1 = time > 20
value = ifelse(pos y >=0,101,50)
ctrl = ifelse(pos y >=0,1,0)
;---------------------------------------------------------------------------


;Run_Back
[Statedef 105]
type 		= S
movetype	= I
physics		= N
anim		= 105
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 1

[State 100:	AssertSpecial]
type		= AssertSpecial
trigger1	= 1
flag		= NoWalk
flag2		= NoAutoTurn

[State 100:	AssertSpecial]
type		= AssertSpecial
trigger1	= 1
flag		= NoStandGuard
flag2		= NoCrouchGuard

[State 100:	ScreenBound]
type		= ScreenBound
trigger1	= (BackEdgeBodyDist <= -5)
value		= 0
movecamera	= 0,0

[State 100:	CtrlSet]
type		= CtrlSet
trigger1	= 1
value		= (IfElse(BackEdgeBodyDist > -5,1,0))

[State 100:	VelSet]
type		= VelSet
trigger1	= (!Time)
x		= 0
y		= 0

[State 105: 	VelSet]
type 		= VelSet
trigger1 	= (Time > 6)
x 		= Const(Velocity.Run.Back.X)
y		= 0

[State 105: 	MakeDust]
type 		= MakeDust
trigger1 	= 1
pos 		= -5, 0
spacing 	= 4

[State 1300,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 3001, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 2)
anim =  7101
ID =    7101
pos =  5,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.5,0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (Animelem = 2)
value = S1,10

[State 100:		ChangeState]
type			= ChangeState
trigger1		= (Command != "holdback") && (AnimElem = 2, > 5) && (BackEdgeBodyDist > -1)
value			= 106


;---------------------------------------------------------------------------
;Run_Back - Stop
[Statedef 106]
type 		= S
movetype	= I
physics		= N
anim		= 106
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 106: 	VelSet]
type 			= VelSet
trigger1 		= 1
x 			= -1
y			= 0

[State 106: 	MakeDust]
type 			= MakeDust
trigger1 		= Time = 2
pos 			= -5,-2
spacing 		= 4

[State 106: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0
ctrl 			= 1

;---------------------------------------------------------------------------

; Run Back en el aire
[Statedef 108]
type=S
physics=N
CTRL=0

[State 11,1]
type=ChangeAnim
trigger1=Anim !=105 && !time
value=105

[State 100,1]
type=VelSet
trigger1 = (time > 6)
x = Const(Velocity.Run.Back.X)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (Animelem = 2)
value = S1,10

[State 1300,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 106,3]
type = MakeDust
trigger1 =  pos y >= -30
pos = 25,floor(-pos y)
spacing = 2

[State 100,2] ;Prevent run from canceling into walk
type=AssertSpecial
trigger1=1
flag=NoWalk

[State 100,3] ;Prevent from turning
type=AssertSpecial
trigger1=1
flag=NoAutoTurn

[State 100,1]
type=null;VelSet
trigger1=time>=12
trigger1=pos y>=0
x=0

[State 100,4]
type=ChangeState
trigger1 = time<=12
trigger1 = command = "a"
value = 620

[State 100,4]
type = ChangeState
trigger1 = time <= 12
trigger1 = command = "b"
value = 630

[State 100,4]
type = ChangeState
trigger1 = time <= 12
trigger1 = command = "c"
value = 920

[State 100,4]
type = ChangeState
trigger1 = time<=12
trigger1 = command="x"
value = 600

[State 100,4]
type = ChangeState
trigger1 = time<=12
trigger1 = command="y"
value = 610

[State 900,GoDown2]
type = VelSet
Trigger1 = pos Y > -1
y = 0

[State 100,4]
type = ChangeState
trigger1 = time > 20
value = ifelse(pos y >=0,106,50)
ctrl = ifelse(pos y >=0,1,0)

;----------------------------------------------------------------------

;Run_Up
[Statedef 110]
type 			= S
movetype		= I
physics		= N
;anim			= -1
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 110: 	CtrlSet]
type 			= CtrlSet
trigger1 		= !Time
value 		= 0

[State 110: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= !Time
value 		= 110

[State 110: 	HitBy]
type 			= HitBy
trigger1 		= !Time
value 		= SCA, NT, ST, HT
time 			= 30

[State 110: 	VelSet]
type 			= VelSet
trigger1 		= !Time
x 			= 0
z 			= -7

[State 110: 	VelMul]
type 			= VelMul
trigger1 		= 1
z 			= 0.8

[State 110: 	VelSet]
type 			= VelSet
trigger1 		= AnimTime = -8
z 			= 0

[State 110: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (!AnimTime)
value 		= 1

[State 110: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0

;---------------------------------------------------------------------------
;Run_Down
[Statedef 115]
type 			= S
movetype		= I
physics		= N
;anim			= -1
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 115: 	CtrlSet]
type 			= CtrlSet
trigger1 		= !Time
value 		= 0

[State 115: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= !Time
value 		= 110

[State 115: 	HitBy]
type 			= HitBy
trigger1 		= !Time
value 		= SCA, AT
time 			= 30

[State 115: 	VelSet]
type 			= VelSet
trigger1 		= !Time
x 			= 0
z 			= 7

[State 115: 	VelMul]
type 			= VelMul
trigger1 		= 1
z 			= 0.8

[State 115: 	VelSet]
type 			= VelSet
trigger1 		= AnimTime = -8
z 			= 0

[State 115: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (!AnimTime)
value 		= 1

[State 115: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0

;---------------------------------------------------------------------------
;Guard Start
[Statedef 120]
type 			= U 
physics 		= U

[State 120: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= !Time
value 		= 120 + (StateType = C) + (StateType = A)*2

[State 120: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = S)
physics 		= S

[State 120: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = C)
physics 		= C

[State 120: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = A)
physics 		= A

[State 120: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 130 + (StateType = C) + (StateType = A)*2

;---------------------------------------------------------------------------
;Stand Guard (Guarding)
[Statedef 130]
type 			= S
physics		= S

[State 130:		PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 130: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim != 130)
value 		= 130

[State 130:		VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

;---------------------------------------------------------------------------
;Crouch Guard (Guarding)
[Statedef 131]
type 			= C
physics		= C

[State 131:		PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 131: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim != 131)
value 		= 131

[State 131:		VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

;---------------------------------------------------------------------------
;Air Guard (Guarding)
[Statedef 132]
type 			= A
physics		= N

[State 132: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim != 132)
value 		= 132

[State 132: 	VelAdd]
type 			= VelAdd
trigger1 		= 1
y 			= Const(Movement.YAccel)

[State 132: 	VarSet]
type 			= VarSet
trigger1 		= 1
sysvar(0) 		= (Pos Y >= 0) && (Vel Y > 0)

[State 132: 	VelSet]
type 			= VelSet
trigger1 		= SysVar(0)
y 			= 0

[State 132: 	PosSet]
type 			= PosSet
trigger1 		= SysVar(0)
y 			= 0

[State 132: 	ChangeState]
type 			= ChangeState
trigger1 		= (SysVar(0)) && (Command != "holdback")
value 		= 52

[State 132: 	ChangeState]
type 			= ChangeState
trigger1 		= SysVar(0)
value 		= 130

;---------------------------------------------------------------------------
;Guard End
[Statedef 140]
type 			= U
physics 		= U
ctrl 			= 1

[State 140: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time)
value 		= 140 + (StateType = C) + (StateType = A)*2

[State 140: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = S)
physics 		= S

[State 140: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = C)
physics 		= C

[State 140: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = A)
physics 		= A

;---------------------------------------------------------------------------
;Stand GuardHit (Shaking)
[Statedef 150]
type 			= S
movetype		= H
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 150: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= 1
value 		= 150

[State 150: 	ChangeState]
type 			= ChangeState
trigger1 		= HitShakeOver
value 		= 151

[State 150: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= (!Time)
waveform 		= Square
time 			= 3

;---------------------------------------------------------------------------
;Stand GuardHit (Knocked Back)
[Statedef 151]
type 			= S
movetype		= H
physics		= S
anim			= 150
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 151: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time)
x 			= 1

[State 151: 	VelSet]
type 			= VelSet
trigger1 		= (Time = GetHitVar(SlideTime)) || (Time >= GetHitVar(HitTime))
x 			= 0

[State 151: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (Time = GetHitVar(ctrltime))
value 		= 1

[State 151: 	ChangeState]
type 			= ChangeState
trigger1 		= Time >= GetHitVar(hittime)
value 		= 130
ctrl 			= 1

;---------------------------------------------------------------------------
;Crouch GuardHit (Shaking)
[Statedef 152]
type 			= C
movetype		= H
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 152: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= 1
value 		= 151

[State 152: 	ChangeState]
type 			= ChangeState
trigger1 		= HitShakeOver
value 		= 153

[State 152: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= (!Time)
waveform 		= Square
time 			= 4

;---------------------------------------------------------------------------
;Crouch GuardHit2 (Knocked Back)
[Statedef 153]
type 			= C
movetype		= H
physics		= C
anim			= 151
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 153: 	HitVelSet]
type 			= HitVelSet
trigger1 		= !Time
x 			= 1

[State 153: 	VelSet]
type 			= VelSet
trigger1 		= (Time = GetHitVar(SlideTime)) || (Time >= GetHitVar(HitTime))
x 			= 0

[State 153: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (Time = GetHitVar(CtrlTime))
value 		= 1

[State 153: 	ChangeState]
type 			= ChangeState
trigger1 		= (Time >= GetHitVar(HitTime))
value 		= 131
ctrl 			= 1

;---------------------------------------------------------------------------
;Air GuardHit (Shaking)
[Statedef 154]
type 			= A
movetype		= H
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 154: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= 1
value 		= 152

[State 154: 	ChangeState]
type 			= ChangeState
trigger1 		= HitShakeOver
value 		= 155 

[State 154: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= (!Time)
waveform 		= Square
time 			= 4

;---------------------------------------------------------------------------
;Air GuardHit2 (Knocked Away)
[Statedef 155]
type 			= A
movetype		= H
physics		= N
anim			= 152
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 155: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time)
x 			= 1
y 			= 1

[State 155: 	VelAdd]
type 			= VelAdd
trigger1 		= 1
y 			= Const(Movement.YAccel)

[State 155: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (Time = GetHitVar(CtrlTime))
value 		= 1

[State 155: 	VarSet]
type 			= VarSet
trigger1 		= 1
sysvar(0) 		= (Pos Y >= 0) && (Vel Y > 0)

[State 155: 	VelSet]
type 			= VelSet
trigger1 		= SysVar(0)
y 			= 0

[State 155: 	PosSet]
type 			= PosSet
trigger1 		= SysVar(0)
y 			= 0

[State 155: 	ChangeState]
type 			= ChangeState
trigger1 		= SysVar(0)
trigger1 		= Command != "holdback"
value 		= 52

[State 155: 	ChangeState]
type 			= ChangeState
trigger1 		= SysVar(0)
value 		= 130

;---------------------------------------------------------------------------
;Air Guard (Guarding)
;Used, to prevent an error message flow I could not fix any other way... =|
[Statedef 51]
type 			= A
physics		= N

[State 51: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim != 132)
value 		= 132

[State 51: 		VelAdd]
type 			= VelAdd
trigger1 		= 1
y 			= 0.45

[State 51: 		VarSet]
type 			= VarSet
trigger1 		= 1
sysvar(0) 		= (Pos Y >= 0) && (Vel Y > 0)

[State 51: 		VelSet]
type 			= VelSet
trigger1 		= SysVar(0)
y 			= 0

[State 51: 		PosSet]
type 			= PosSet
trigger1 		= SysVar(0)
y 			= 0

[State 51: 		ChangeState]
type 			= ChangeState
trigger1 		= (SysVar(0)) && (Command != "holdback")
value 		= 52

[State 51: 		ChangeState]
type 			= ChangeState
trigger1 		= SysVar(0)
value 		= 130

;---------------------------------------------------------------------------
;Lose (Time Over)
[Statedef 170]
type 			= S
movetype		= I
physics		= N
anim			= 170
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 170: 	NotHitBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

;---------------------------------------------------------------------------
;Draw Game (Time Over)
[Statedef 175]
type 			= S
movetype		= I
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 175: 	ChangeState] 
type 			= ChangeState
trigger1 		= (!Time) && (!SelfAnimExist(175))
value 		= 170

[State 175: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time)
value 		= 175

[State 175: 	NotHitBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

;---------------------------------------------------------------------------
;HitGround_Shake
[Statedef 5000]
type 			= S
movetype		= H
physics		= N
;anim			= 5000
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 5000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) != [3,5])
value 		= IfElse((GetHitVar(GroundType) = 1),5000,5010) + GetHitVar(AnimType)

[State 5000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) = [3,5])
value 		= 5030

[State 5000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(AnimType))) && (GetHitVar(HitCount) >= 2)
value 		= 5047 + GetHitVar(AnimType)

[State 5000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Time > 0)
value 		= Anim

[State 5000: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (GetHitVar(YVel) != 0) && (GetHitVar(Fall)) || (Pos Y != 0)
type 			= A

[State 5000: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver) && (GetHitVar(YVel) = 0)
value 		= 5001

[State 5000: 	ChangeState]
type 			= ChangeState
trigger1 		= HitShakeOver
value 		= 5030

[State 5000: 	ForceFeedBack]
type 			= ForceFeedBack
trigger1 		= (Anim = 5000) || (Anim = 5010)
persistent 		= 0
time 			= 6
waveform 		= Square

[State 5000: 	ForceFeedBack]
type 			= ForceFeedBack
trigger1 		= (Anim = 5001) || (Anim = 5011)
persistent 		= 0
time 			= 8
waveform 		= SineSquare
ampl 			= 110,-1,-.3

[State 5000: 	ForceFeedBack]
type 			= ForceFeedBack
trigger1 		= (Anim = 5012) || (Anim = 5002) || (Anim = 5030)
persistent 		= 0
time 			= 15
waveform 		= SineSquare
ampl 			= 140

;---------------------------------------------------------------------------
; HITG_SLIDE
[Statedef 5001]
type    		= S
movetype		= H
physics 		= S

[State 5001:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Pos Y < 0)
physics		= N

[State 5001: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time) && (Pos Y >= 0)
x 			= 1

[State 5001: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time) && (Pos Y < 0)
x 			= 1
y			= 1

[State 5001: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!AnimTime)
value 		= 5005 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10

[State 5001: 	VelMul]
type 			= VelMul
trigger1 		= (Time >= GetHitVar(slidetime)) && (Pos Y >= 0)
x 			= .6

[State 5001: 	VelSet]
type 			= VelSet
trigger1 		= (HitOver) && (Pos Y >= 0)
x 			= 0

[State 5001: 	VelSet]
type 			= VelSet
trigger1 		= (HitOver) && (Pos Y < 0)
x 			= 0
y			= 0

[State 5001: 	DefenceMulSet]
type 			= DefenceMulSet
trigger1 		= HitOver
value 		= 1

[State 5001: 	ChangeState]
type 			= ChangeState
trigger1 		= HitOver
value 		= 0
ctrl 			= 1

;---------------------------------------------------------------------------
; HITC_SHAKE
[Statedef 5010]
type    		= C
movetype		= H
physics 		= N
velset 		= 0,0

[State 5010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) != [3,5])
value 		= 5020 + GetHitVar(AnimType)

[State 5010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) = [3,5])
value 		= 5030

[State 5010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && ((GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype))))
value 		= 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= Time > 0
value 		= Anim

[State 5010: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver) && (GetHitVar(yvel) = 0)
value 		= 5011

[State 5010: 	ChangeState]
type 			= ChangeState
trigger1 		= HitShakeOver
value 		= 5030

[State 5010: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= Anim = 5020
persistent 		= 0
time 			= 6
waveform 		= Square

[State 5010: 	FFB Medium]
type 			= ForceFeedback
trigger1 		= Anim = 5021
persistent 		= 0
time 			= 8
waveform 		= SineSquare
ampl 			= 110,-1,-.3

[State 5010: 	FFB Hard]
type 			= ForceFeedback
trigger1 		= Anim = 5022
persistent 		= 0
time 			= 15
waveform 		= SineSquare
ampl 			= 140

;---------------------------------------------------------------------------
; HITC_SLIDE
[Statedef 5011]
type    		= C
movetype		= H
physics 		= C

[State 5011: 	HitVelSet]
type 			= HitVelSet
trigger1 		= !Time
x 			= 1

[State 5011: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!AnimTime)
value 		= 5025 + GetHitVar(AnimType)

[State 5011: 	VelMul]
type 			= VelMul
trigger1 		= (Time >= GetHitVar(SlideTime))
x 			= .6

[State 5011: 	VelSet]
type 			= VelSet
trigger1 		= (HitOver)
x 			= 0

[State 5011: 	DefenceMulSet]
type 			= DefenceMulSet
trigger1 		= (HitOver)
value 		= 1

[State 5011: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitOver)
value 		= 11
ctrl 			= 1

;---------------------------------------------------------------------------
; HITA_SHAKE
[Statedef 5020]
type			= A
movetype		= H
physics		= N
velset		= 0,0

[State 5020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = !Time
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = !Time
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5020, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = !Time
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5020, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5020, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5020, FFB Light]
type = ForceFeedback
trigger1 = Anim = 5000 || (Anim = 5010)
persistent = 0
time = 6
waveform = square

[State 5020, FFB Medium]
type = ForceFeedback
trigger1 = Anim = 5001 || (Anim = 5011)
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5020, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012 || (Anim = 5002) || (Anim = 5030) || (Anim = [5051,5059])
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 5030]
type    = A
movetype= H
physics = N
ctrl = 0

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 5030, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5030, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 5040 ;HITA_RECOV

[State 5030, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 5050 ;HITA_FALL

[State 5030, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 5035 ;HITA_UP (transition)
;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 5035]
type    = A
movetype= H
physics = N

[State 5035, 1]
type = ChangeAnim
trigger1 = !Time && SelfAnimExist(5035) && (Anim != [5051,5059]) && Anim != 5090
value = 5035

[State 5035, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5035, 3]
type = ChangeState
triggerall = (!HitFall) || (HitFall)
trigger1 = (HitOver) || (!AnimTime) || ((Vel Y > 0) && (Pos Y >= 10)) || ((!Time) && (Anim != 5035))
value = IfElse(!HitFall,5040,5050)

;---------------------------------------------------------------------------
; HITA_RECOV (recovering in air, not falling)
[Statedef 5040]
type    = A
movetype= H
physics = N

[State 5040, 1]
type = ChangeState
trigger1 = !Alive
value = 5050

[State 5040, 2]
type = ChangeAnim
trigger1 = (!AnimTime)
trigger1 = Anim != 5040
trigger2 = !Time
trigger2 = Anim != 5035
value = 5040

[State 5040, 3]
type = CtrlSet
trigger1 = HitOver
value = 1

[State 5040, 4]
type = StateTypeSet
trigger1 = HitOver
movetype = I

[State 5040, 5]
type = VelAdd
trigger1 = 1
y = 0.48

[State 5040, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;JUMPLAND

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 5050]
type    		= A
movetype		= H
physics		= N

[State 5050:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!AnimTime) && (Anim = 5035)
trigger2		= (!Time) && (Anim != 5035) && (Anim != [5051, 5059]) && (Anim != [5061, 5069]) && (Anim != 5090)
value			= 5050

[State 5050:	ChangeAnim]
type			= ChangeAnim
trigger1		= (Anim = [5050,5059]) && (Vel Y >= IfElse(Anim = 5050,1,-2)) && (SelfAnimExist(Anim+10))
value			= (Anim+10)
persistent		= 0

[State 5050:	VelAdd]
type			= VelAdd
trigger1		= 1
y			= GetHitVar(yaccel)

[State 5050:	ChangeState]
type			= ChangeState
trigger1		= (Vel Y > 0) && (Pos Y >= -20) && (Alive) && (Command = "recovery") && (EnemyNear, Ctrl)
value			= 5200

[State 5050:	ChangeState]
type			= ChangeState
trigger1		= (Vel Y > -1) && (Alive) && (Command = "recovery") && (EnemyNear, Ctrl)
value			= 5210

[State 5050:	ChangeState]
type			= ChangeState
trigger1		= (Vel Y > 0) && (Pos Y >= IfElse((Anim = [5051,5059]) || (Anim = [5061,5069]), 0, 25))
value			= 5100

;---------------------------------------------------------------------------
; HIT_TRIP (shaking)
[Statedef 5070]
type			= A
movetype		= H
physics		= N
velset		= 0,0

[State 5070: 	ChangeAnim]
type 			= ChangeAnim 
trigger1 		= (PrevStateNo != 100) || (Vel X < 5)
value 		= 5070

[State 5070: 	ChangeAnim]
type 			= ChangeAnim 
triggerall		= (SelfAnimExist(5071))
trigger1 		= (PrevStateNo = 100) || (Vel X > 5)
value 		= 5071

[State 5070: 	ChangeAnim]
type 			= ChangeAnim 
triggerall		= (!SelfAnimExist(5071))
trigger1 		= (PrevStateNo = 100) || (Vel X > 5)
value 		= 5070

[State 5070:	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver)
value 		= 5071

[State 5070:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (!Time)
time			= 12
waveform		= sinesquare
ampl			= 140

;---------------------------------------------------------------------------
; HIT_TRIP2 (fall through air)
[Statedef 5071]
type    		= A
movetype		= H
physics 		= N

[State 5071: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time)
x 			= 1
y 			= 1

[State 5071:	VelAdd]
type 			= VelAdd
trigger1 		= 1
y			= GetHitVar(yaccel)

[State 5071:	ChangeState]
type			= ChangeState
trigger1		= (Vel Y > 0) && (Pos Y >= -20) && (Alive) && (Command = "recovery") && (EnemyNear, Ctrl)
value			= 5200

[State 5071:	ChangeState]
type			= ChangeState
trigger1		= (Vel Y > -1) && (Alive) && (Command = "recovery") && (EnemyNear, Ctrl)
value			= 5210

[State 5071: 	ChangeState]
type 			= ChangeState
trigger1 		= (Vel Y > 0) && (Pos Y >= 15)
value 		= 5110

;---------------------------------------------------------------------------
; HITL_SHAKE
[Statedef 5080]
type    = L
movetype= H
physics = N
velset = 0,0

[State 5080, 1] ;Set default anim
type = VarSet
trigger1 = !Time
sysvar(2) = ifelse (GetHitVar(yvel) = 0, 5080, 5090)

[State 5080, 2]
type = VarAdd
trigger1 = !Time
trigger1 = (anim = [5081,5089]) || (anim = [5111,5119])
trigger1 = SelfAnimExist(sysvar(2) + (anim % 10))
sysvar(2) = anim % 10

[State 5080, 3] ;If 5090 doesn't exist, default to 5030
type = VarSet
trigger1 = !Time
trigger1 = sysvar(2) = 5090
trigger1 = !SelfAnimExist(5090)
sysvar(2) = 5030

[State 5080, 3] ;Freeze
type = ChangeAnim
trigger1 = 1
value = sysvar(2)

[State 5080, 4]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 5081 ;HITL_SLIDE

[State 5080, 5]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) != 0
value = 5030 ;HITA_UP

;---------------------------------------------------------------------------
; HITL_SLIDE
[Statedef 5081]
type    = L
movetype= H
physics = C

[State 5081, 1]
type = HitVelSet
trigger1 = !Time
x = 1

[State 5081, 2]
type = VelSet
trigger1 = HitOver
x = 0

[State 5081, 3] ;Don't show hit ground frame
type = VarSet
trigger1 = !Time
sysvar(0) = 1

[State 5081, 4]
type = ChangeState
trigger1 = HitOver
value = 5110 ;HIT_LIEDOWN

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 5100]
type			= L
movetype		= H
physics		= N

[State 5100:	VelSet]
type			= VelSet
trigger1		= (!Time) && (GetHitVar(Fall.YVel) = 0) && (Vel X > 1)
x			= 1

[State 5100:	EnvShake]
type			= FallEnvShake
trigger1		= (!Time)

[State 5100:	VarSet]
type			= VarSet
trigger1		= (!Time)
sysvar(1)		= Floor(Vel Y)

[State 5100:	ChangeAnim]
type			= ChangeAnim
triggerall		= (!Time)
trigger1		= (Anim != [5051,5059]) && (Anim != [5061,5069])
trigger2		= (!SelfAnimExist(5100 + (anim % 10)))
value			= 5100

[State 5100:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && ((Anim = [5051,5059]) || (Anim = [5061,5069])) && (SelfAnimExist(5100 + (Anim%10)))
value			= 5100 + (Anim%10)

[State 5100:	PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 5100:	VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 5100:	VelMul]
type			= VelMul
trigger1		= (!Time)
x			= 0.75

[State 5100: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (Random < 125) && (Time = 1)
value 		= S0,7

[State 5100: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (Random = [126,250]) && (Time = 1)
value 		= S3,8

[State 5100: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (Time = 1)
value 		= S0,6

[State 5100:	ChangeState]
type			= ChangeState
trigger1		= (!Time) && (GetHitVar(Fall.YVel) = 0)
value			= 5110

[State 5100:	GameMakeAnim]
type			= GameMakeAnim
trigger1		= (Time = 1)
value			= 60 + (SysVar(1) > 5) + (SysVar(1) > 14)
pos			= 0, 0
under			= SysVar(1) <= 10

[State 5100:	HitFallDamage]
type			= HitFallDamage
trigger1		= (Time = 3)

[State 5100:	PosFreeze]
type			= PosFreeze
trigger1		= 1

[State 5100:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 5101

[State 5100:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (!Time)
waveform		= sinesquare
ampl			= 128,-3,-.2,.005
time			= 20

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 5101]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = !Time
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = !Time
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = !Time

[State 5101, 4]
type = PosSet
trigger1 = !Time
y = 20

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
type = ChangeState
value = 5110

;---------------------------------------------------------------------------
; HIT_LIEDOWN
[Statedef 5110]
type    = L
movetype= H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = !Time

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = !Time
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = !Time
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = !Time

[State 5110, 5]
type = PosSet
trigger1 = !Time
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = !Time
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 7]
type = GameMakeAnim
trigger1 = !Time
trigger1 = !SysVar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 10

[State 5110, 8]
type = VelSet
trigger1 = !Time
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = (!AnimTime)
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = (!AnimTime)
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = (!AnimTime)
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = !Time
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (!Time) && (!SysVar(0))
value 		= S0,6

[State 5110, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = !Time
time = 8
ampl = 240
waveform = sine

[State 5110, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = !Time
ampl = 200, 7, -.467
time = 30
waveform = sine

;---------------------------------------------------------------------------
; HIT_GETUP
[Statedef 5120]
type    = L
movetype= I
physics = N

[State 5120, 1a] ;Get up anim (normal)
type = ChangeAnim
triggerall = !Time
trigger1 = anim != [5111,5119]
trigger2 = !SelfAnimExist(5120 + (anim % 10))
value = 5120

[State 5120, 1b] ;Get up anim (for hit up/diag-up)
type = ChangeAnim
triggerall = !Time
trigger1 = anim = [5111,5119]
trigger1 = SelfAnimExist(5120 + (anim % 10))
value = 5120 + (anim % 10)

[State 5120, 2]
type = VelSet
trigger1 = !Time
x = 0

[State 5120, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 10

[State 5120, 4]
type = HitFallSet
trigger1 = (!AnimTime)
value = 1

[State 5120, 5] ;Can't be thrown right after getting up
type = NotHitBy
trigger1 = (!AnimTime)
value = , NT,ST,HT
time = 12

[State 5120, 6] ;Can't be hit right after getting up (short time)
type = NotHitBy
trigger1 = (!AnimTime)
value2 = SCA
time = 3

[State 5120, 7]
type = ChangeState
trigger1 = (!AnimTime)
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; HIT_LIEDEAD
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -3

[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = (!Time) && (SelfAnimExist(5140))
trigger1 = ((Anim != [5111,5119]) && (Anim != [5171,5179])) || (!SelfAnimExist(5140 + (Anim % 10)))
value = 5140

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
trigger1 = (!Time) && ((Anim = [5111,5119]) || (Anim = [5171,5179])) && (SelfAnimExist(5140 + (Anim % 10)))
value = 5140 + (anim % 10)

[State 5150, 4] ;Match over anim
type = ChangeAnim
persistent = 0
trigger1 = (MatchOver = 1) && (Anim = [5140,5149]) && (SelfAnimExist(Anim+10))
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
trigger1 = (!Time) && (Anim != [5140,5159]) && (Anim != [5110,5119])
value = 5110

[State 5150, 6] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5150, 7] ;Friction
type = VelSet
trigger1 = Vel X < .05
persistent = 0
x = 0

[State 5150, 8]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (still falling)
[Statedef 5200]
type			= A
movetype		= H
physics 		= N

[State 5200:	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim = 5035) && (!AnimTime)
value 		= 5050

[State 5200:	VelAdd]
type 			= VelAdd
trigger1 		= 1
y			= GetHitVar(yaccel)

[State 5200:	SelfState]
type 			= SelfState
trigger1 		= (Vel Y > 0) && (Pos Y >= 10)
value 		= 5201

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground)
[Statedef 5201]
type    = A
movetype= H
physics = A
anim = 5200

[State 5201: 	Turn]
type 			= Turn
trigger1 		= (!Time) && (P2Dist X < -5)

[State 5201: 	VelSet]
type 			= VelSet
trigger1 		= (!Time)
x 			= -.15
y 			= -3.5

[State 5201: 	PosSet]
type 			= PosSet
trigger1 		= (!Time)
y 			= 0

[State 5201: 	NotHitBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

[State 5201: 	PalFX]
type 			= PalFX
trigger1 		= (!Time)
time 			= 5
add 			= 128,128,128

[State 5201:	Explod]
type			= Explod
trigger1 		= (Time = 1)
anim			= F60
id			= 60
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

;---------------------------------------------------------------------------
; HIT_AIRFALLRECOVER
[Statedef 5210]
type    = A
movetype= I
physics = N
anim = 5210
ctrl = 0

[State 5210, 1]
type = PalFX
trigger1 = !Time
time = 5
add = 128,128,128

[State 5210, 1]
type = PosFreeze
trigger1 = !Time
value = 4

[State 5210, 2]
type = Turn
trigger1 = !Time
trigger1 = p2dist X < -20

[State 5210, 1] 
type = VelMul
trigger1 = Time = 4
x = .8
y = .8

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
y = -8

[State 5210, 1] 
type = VelMul
trigger1 = Time = 4
trigger1 = Vel Y > 0
y = .5

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -3
y = -2

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -2
y = -1

[State 5210, 2] ;Go up
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdup"
y = -2

[State 5210, 2] ;Go down
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holddown"
y = 1.5

[State 5210, 2] ;Go fwd
type = VelMul
trigger1 = Time = 4
trigger1 = Command = "holdfwd"
x = 1

[State 5210, 2] ;Go back
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdback"
x = -1

[State 5210, 3]
type = NotHitBy
trigger1 = !Time
value = SCA
time = 15

[State 5210, 4]
type = CtrlSet
trigger1 = Time = 20
value = 1

[State 5210, 5]
type = VelAdd
trigger1 = Time >= 4
y = .35

[State 5210: 	ChangeState]
type 			= ChangeState
trigger1 		= (Vel Y > 0) && (Pos Y >= 0)
value 		= 52
ctrl 			= 1

;---------------------------------------------------------------------------
;Dizzy State
[Statedef 5300]
type 			= S
movetype		= I
physics 		= S
anim 			= 5300
velset 		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 5300: 	SelfState]
type 			= SelfState
trigger1 		= (Time > 200)
value 		= 0
ctrl 			= 1

[State 5300:	PlaySnd]
type			= PlaySnd
trigger1		= (Random < 250) && (AnimElem = 2)
value			= S0,7

;---------------------------------------------------------------------------
;Continue?
[Statedef 5500]
type 			= S
anim 			= 5300
velset 		= 0,0
ctrl 			= 0

[State 5500: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (SelfAnimExist(5500))
value 		= 5500

;---------------------------------------------------------------------------
;Initialize
[Statedef 5900]
type 			= S
;anim			= 5900

[State 5900:	AssertSpecial]
type			= AssertSpecial
trigger1		= (RoundNo = 1)
flag			= Invisible

[State 5900: 	ChangeState] 
type 			= ChangeState
trigger1 		= (RoundNo = 1) && (Time = 1)
value 		= 190

;===========================================================================
;-| Effects |---------------------------------------------------------------

;---------------------------------------------------------------------------



