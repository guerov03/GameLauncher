;===================trunks by frs games>franciynaldo=====================

[Data]
life = 1000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 0
IntPersistIndex = 60
FloatPersistIndex = 40
[Size]
xscale = .97
yscale = .97
ground.back = 15
ground.front = 16
air.back = 12
air.front = 12
height = 60
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = -5, -90
mid.pos = -5, -60
shadowoffset = 0
draw.offset = 0,0
[Velocity]
walk.fwd  = 2.4
walk.back = -2.2
run.fwd  = 9.6, 0
run.back = -4.5,-3.8
jump.neu = 0,-8.4
jump.back = -2.55
jump.fwd = 2.5
runjump.back = -2.55,-8.1
runjump.fwd = 4,-8.1
airjump.neu = 0,-8.1
airjump.back = -2.55
airjump.fwd = 2.5
[Movement]
airjump.num = 1
airjump.height = 35
yaccel = .44
stand.friction = .85
crouch.friction = .82
[Statedef 170]
type = S
ctrl = 0
anim = 170+ ifelse(var(5)=1,10000,0)
velset = 0,0
[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
[Statedef 180]
type = S
[State 0]
type = ChangeState
trigger1 = random <= 449
value = 181
[State 0]
type = ChangeState
trigger1 = random <= 449
value = 182
[State 0]
type = ChangeState
trigger1 = random <= 449
value = 183
[State 0]
type = ChangeState
trigger1 = random <= 449
value = 184
[Statedef 184]
type = S
ctrl = 0
anim = 184+ ifelse(var(5)=1,10000,0)
velset = 0,0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =time >40
id = 7036
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time > 40
id = 7029

[State 0, Explod]
type = Explod
triggerall = palno = 7
trigger1 = animelem = 4
anim = 7030
pos = 0,0
postype = p1
facing = 1
vfacing = 1
removetime = -1
bindtime = -1
scale = 0.7,0.8
sprpriority = 20

[State 0, BGPalFX]
type = BGPalFX
triggerall = var (5) =1
trigger1 = animelem = 2
time = 5
add = 256,256,256
[State 0, EnvShake]
type = EnvShake
triggerall = var (5) =1
trigger1 = animelem = 1
time = 40
freq = 60
ampl = -4
phase = 90

[State 0, PlaySnd]
type = PlaySnd
triggerall = var (5) =1
trigger1 = animelem = 9
value = S730,2
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var (5) =0
trigger1 = animelem = 4
value = S989,16
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var (5) =0
trigger1 = animelem = 7
value = S700,0
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var (5) =0
trigger1 = animelem = 11
value = S4,0
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var (5) =0
trigger1 = animelem = 20
value = S989,16
volume = 255
channel = -1





[State 0, PlaySnd]
type = PlaySnd
triggerall = var (5) =1
trigger1 = animelem = 8
value = S989,16
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var (5) =1
trigger1 = animelem = 11
value = S700,0
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var (5) =1
trigger1 = animelem = 15
value = S4,0
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var (5) =1
trigger1 = animelem = 24
value = S989,16
volume = 255
channel = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time =[0,400]
flag = nomusic

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time =[0,400]
flag = roundnotover

;---------------------------------------------------------------------------
; Win pose 1 - Bow
; CNS difficulty: basic
; CNS ƒŒƒxƒ‹: Šî–{
[Statedef 183]
type = S
ctrl = 0
anim = 183+ ifelse(var(5)=1,10000,0)
velset = 0,0

[State 0, Explod]
type = Explod
triggerall = palno != 7
triggerall = var (5) =1
trigger1 = animelem = 9
anim = 7029
pos = 0,0
postype = p1
facing = 1
vfacing = 1
removetime = 20
bindtime = -1
scale = 1,1
sprpriority = 20


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno = 183
id = 7036
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno = 183
id = 7029

[State 0, Explod]
type = Explod
triggerall = palno = 7
trigger1 = animelem = 1
anim = 7030
pos = 0,0
postype = p1
facing = 1
vfacing = 1
removetime = -1
bindtime = -1
scale = 0.7,0.8
sprpriority = 20

[State 0, BGPalFX]
type = BGPalFX
triggerall = var (5) =1
trigger1 = animelem = 9
time = 15
add = 256,256,256

[State 0, PlaySnd]
type = PlaySnd
triggerall = var (5) =1
trigger1 = animelem = 9
value = S730,2
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var (5) =1
trigger1 = animelem = 1
value = S989,32
volume = 255
channel = -1

[State 0, EnvShake]
type = EnvShake
triggerall = var (5) =1
trigger1 = animelem = 9
time = 15
freq = 60
ampl = -4
phase = 90


[State 0, PlaySnd]
type = PlaySnd
triggerall = var (5) =0
trigger1 = animelem = 8
value = S989,29
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var (5) =1
trigger1 = animelem = 18
value = S989,29
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S989,31
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var (5) =1
trigger1 = animelem = 12
value = S989,30
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var (5) =0
trigger1 = animelem = 2
value = S989,30
volume = 255
channel = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time =[0,800]
flag = nomusic

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time =[0,800]
flag = roundnotover


[Statedef 181]
type = S
ctrl = 0
anim = 181+ ifelse(var(5)=1,10000,0)
velset = 0,0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S989,27
volume = 255
channel = -1
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time =[0,500]
flag = roundnotover


[Statedef 182]
type = S
ctrl = 0
anim = 182+ ifelse(var(5)=1,10000,0)
velset = 0,0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S989,28
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall = palno != 7
trigger1 = animelem = 1
value = S989,25
volume = 255
channel = -1

[State 0, Explod]
type = Explod
triggerall = palno != 7
trigger1 = animelem = 1
anim = 7029
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 300
scale = 1,1
sprpriority = 20

[State 0, Explod]
type = Explod
triggerall = palno != 7
trigger1 = animelem = 1
anim = 7036
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 300
scale = 1,1
sprpriority = -1

[State 0]
type	= Helper
trigger1= (Time > 20) && ((GameTime%10) = 0) && (Random < 249) && (NumHelper(8200) < 5)
helpertype= Normal
name= "pedras"
id= 1230
pos= 0,0
postype= p1
facing	 = 0
stateno	 = 1230
keyctrl	 = 0
ownpal	 = 1
supermovetime= 9999
pausemovetime= 9999
size.xscale= (IfElse(Random <= 799,0.75,3))
size.yscale= (IfElse(Random <= 799,0.75,3))
[State 0]
type= Helper
trigger1= (Time > 20) && ((GameTime%20) = 0) && (Random > 749) && (NumHelper(8210) < 5)
helpertype= Normal
name	= "pedras1"
id = 1231
pos = 0,0
postype	= p1
facing	= 0
stateno	= 1231
keyctrl	= 0
ownpal	 = 1
supermovetime= 9999
pausemovetime= 9999
size.xscale= (IfElse(Random <= 499,0.75,0.50))
size.yscale= (IfElse(Random <= 499,0.75,0.50))
[State 0]
type= Helper
trigger1= (Time > 20) && ((GameTime%30) = 0) && (Random = [249,749]) && (NumHelper(8220) < 5)
helpertype= Normal
name= "pedras2"
id= 1232
pos= 0,0
postype	= p1
facing	 = 0
stateno = 1232
keyctrl	= 0
ownpal = 1
supermovetime= 9999
pausemovetime= 9999
size.xscale = (IfElse(Random <= 499,0.50,0.75))
size.yscale= (IfElse(Random <= 499,0.50,0.75))


[State 0, EnvShake]
type = EnvShake
trigger1 = time = 20
time = 300
freq = 60
ampl = -4
phase = 90

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 20
time = 10
add = 256,256,256


[State 0, EnvShake]
type = EnvShake
trigger1 = time = 301
time = 20
freq = 60
ampl = -8
phase = 90


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 301
value = S989,1
volume = 2555
channel = -1


[State 0, Explod]
type = Explod
trigger1 = time = 301
anim = 7038
pos = 0,-50
postype = p1
facing = 1
vfacing = 1
bindtime = 1
sprpriority = 20

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time >300
id = 7036
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time >300
id = 7029

[State 0, Explod]
type = Explod
triggerall = palno = 7
trigger1 = animelem = 29
anim = 7030
pos = 0,0
postype = p1
facing = 1
vfacing = 1
removetime = -1
bindtime = -1
scale = 0.7,0.8
sprpriority = 20

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time =[0,400]
flag = roundnotover

[Statedef 1919]
type = S
ctrl = 0
anim = 1919
velset = 0,0


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time < 120
id = 7036
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time < 120
id = 7029

[State 0, Explod]
type = Explod
triggerall = palno = 7
trigger1 = animelem = 1
anim = 7030
pos = 0,0
postype = p1
facing = 1
vfacing = 1
removetime =120
bindtime = -1
scale = 0.7,0.8
sprpriority = 20

[State 0]
type	= Helper
trigger1= (Time > 20) && ((GameTime%10) = 0) && (Random < 249) && (NumHelper(8200) < 5)
helpertype= Normal
name= "pedras"
id= 1230
pos= 0,0
postype= p1
facing	 = 0
stateno	 = 1230
keyctrl	 = 0
ownpal	 = 1
supermovetime= 9999
pausemovetime= 9999
size.xscale= (IfElse(Random <= 799,0.75,3))
size.yscale= (IfElse(Random <= 799,0.75,3))
[State 0]
type= Helper
trigger1= (Time > 20) && ((GameTime%20) = 0) && (Random > 749) && (NumHelper(8210) < 5)
helpertype= Normal
name	= "pedras1"
id = 1231
pos = 0,0
postype	= p1
facing	= 0
stateno	= 1231
keyctrl	= 0
ownpal	 = 1
supermovetime= 9999
pausemovetime= 9999
size.xscale= (IfElse(Random <= 499,0.75,0.50))
size.yscale= (IfElse(Random <= 499,0.75,0.50))
[State 0]
type= Helper
trigger1= (Time > 20) && ((GameTime%30) = 0) && (Random = [249,749]) && (NumHelper(8220) < 5)
helpertype= Normal
name= "pedras2"
id= 1232
pos= 0,0
postype	= p1
facing	 = 0
stateno = 1232
keyctrl	= 0
ownpal = 1
supermovetime= 9999
pausemovetime= 9999
size.xscale = (IfElse(Random <= 499,0.50,0.75))
size.yscale= (IfElse(Random <= 499,0.50,0.75))


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S989,33
volume = 255
channel = 31

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 100
trigger1 = timemod = 30,0
time = 30
freq = 60
ampl = -5
phase = 130


[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 13
time = 20
add = 256,256,256




[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0



[Statedef 1929]
type = S
ctrl = 0
anim = 1929
velset = 0,0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time < 550
id = 7036
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time < 550
id = 7029

[State 0, Explod]
type = Explod
triggerall = palno = 7
trigger1 = animelem = 1
anim = 7030
pos = 0,0
postype = p1
facing = 1
vfacing = 1
removetime =549
bindtime = -1
scale = 0.7,0.8
sprpriority = 20

[State 0, Explod]
type = Explod
trigger1 = animelem = 50
anim = 7038
pos = 0,-50
postype = p1
facing = 1
vfacing = 1
bindtime = -1
;scale = 0.7,0.8
sprpriority = 30



[State 0]
type	= Helper
trigger1= (Time > 20) && ((GameTime%10) = 0) && (Random < 249) && (NumHelper(8200) < 5)
helpertype= Normal
name= "pedras"
id= 1230
pos= 0,0
postype= p1
facing	 = 0
stateno	 = 1230
keyctrl	 = 0
ownpal	 = 1
supermovetime= 9999
pausemovetime= 9999
size.xscale= (IfElse(Random <= 799,0.75,3))
size.yscale= (IfElse(Random <= 799,0.75,3))
[State 0]
type= Helper
trigger1= (Time > 20) && ((GameTime%20) = 0) && (Random > 749) && (NumHelper(8210) < 5)
helpertype= Normal
name	= "pedras1"
id = 1231
pos = 0,0
postype	= p1
facing	= 0
stateno	= 1231
keyctrl	= 0
ownpal	 = 1
supermovetime= 9999
pausemovetime= 9999
size.xscale= (IfElse(Random <= 499,0.75,0.50))
size.yscale= (IfElse(Random <= 499,0.75,0.50))
[State 0]
type= Helper
trigger1= (Time > 20) && ((GameTime%30) = 0) && (Random = [249,749]) && (NumHelper(8220) < 5)
helpertype= Normal
name= "pedras2"
id= 1232
pos= 0,0
postype	= p1
facing	 = 0
stateno = 1232
keyctrl	= 0
ownpal = 1
supermovetime= 9999
pausemovetime= 9999
size.xscale = (IfElse(Random <= 499,0.50,0.75))
size.yscale= (IfElse(Random <= 499,0.50,0.75))


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S989,43
volume = 255
channel = 31

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 47
value = S989,44
volume = 255
channel = 31

[State 2002, BGPalFX]
type = BGPalFX
trigger1 = Time >550
time = 1
add = var(10),var(10),var(10)
color = 0
[State 2002, varrandom]
type = varrandom
trigger1 = time >= 0
v = 10
range = 0,255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 28
value = S700,0
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 50
value = S989,1
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 34
value = S0,4
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 39
value = S989,16
volume = 255
channel = -1



[State 0, EnvShake]
type = EnvShake
trigger1 = time > 520
trigger1 = timemod = 30,0
time = 30
freq = 60
ampl = -5
phase = 130


[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 51
time = 20
add = 256,256,256




[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0



[Statedef 191]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S989,34
volume = 255
channel = 31



[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0


[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S989,35
volume = 255
channel = 31



[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;[Statedef 193]
type = S
ctrl = 0
anim = 193
velset = 0,0
;[State 0]
type = Explod
trigger1 = time = 0
anim = 1933
pos = 50,2
postype = p1
sprpriority = 5
removetime = 2000
supermovetime = -1
;[State 0]
type = Explod
trigger1 = time = 0
anim = 5758
pos = -80,-10
postype = p1
sprpriority = -8
removetime = -1
supermovetime = -1
scale = 0.8,0.8
;[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S989,36
volume = 255
channel = 31
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 114
value = S989,49
volume = 255
channel = 31
[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro
[State 191, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 0
anim = 195+ ifelse(var(5)=1,10000,0)
velset = 0,0
movetype = I
physics = S
sprpriority = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
triggerall = var (5) = 0
value = S195,0
volume = 255
channel = 18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
triggerall = var (5) = 1
value = S195,1
volume = 255
channel = 18


[State 195, 1]
type = CtrlSet
trigger1 = Time = 210
value = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;======================================

[Statedef 4700]
type = S
movetype= A
physics= S
velset= 0,0
ctrl= 0
anim = 1110 + ifelse(var(5)=1,10000,0)

[State 0]
type= PlaySnd
trigger1= AnimElem= 1
value= s100, 0
volume = 255
[State 0]
type= VelSet
trigger1= AnimElem= 1
x= 33
[State 0, MakeDust]
type = MakeDust
trigger1 = 1
pos = 0,0
spacing = 2
[State 0]
type= HitDef
trigger1 = AnimElem = 1
attr= S, NA
animtype= Medium
damage = 10,5
guardflag= MA
pausetime= 0,10
sparkxy= 0,-10
sparkno=  s371212
hitsound= s210,1111
guardsound= s6,0
ground.type= low
ground.slidetime= 12
ground.hittime= 60
ground.velocity= 0,0
air.velocity= 0,0
p1stateno = 4701
[State 0]
type= ChangeState
trigger1= time = 33
value= 0
ctrl= 1

[Statedef 4701]
type = S
movetype= A
physics= S
velset= 0,0
ctrl= 0
anim = 4701+ ifelse(var(5)=1,10000,0)

[State 0]
type= HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
trigger3 = AnimElem = 8
trigger4 = AnimElem = 11
trigger5 = AnimElem = 14
trigger6 = AnimElem = 16
trigger7 = AnimElem = 18
trigger8 = AnimElem = 20
trigger9 = AnimElem = 22
trigger10 = AnimElem = 24
attr= S, NA
animtype = medium
damage = 10,5
guardflag= MA
pausetime= 0,20
sparkxy= -20,-50
sparkno=  s37
hitsound= s989,47
guardsound= s6,0
ground.slidetime= 0
ground.hittime= 0
ground.velocity= 0,0
air.velocity= 0,-1
envshake.time = 10
envshake.freq = 140
envshake.ampl = 8


[State 200, 1]
type = HitDef
trigger1 = AnimElem = 26
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20, 0                   ;Damage that move inflicts, guard damage
animtype = medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
pausetime = 5, 1                 ;Time attacker pauses, time opponent shakes
sparkno = s37                      ;Spark anim no (Def: set above)
sparkxy = -20, -60               ;X-offset for the "hit spark" rel. to p2,
hitsound = s620, 0                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 0             ;Time that the opponent slides back
ground.hittime  = 0             ;Time opponent is in hit state
ground.velocity = -100 ,-3            ;Velocity at which opponent is pushed
airguard.velocity = -100,-3    ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = trip                 ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -20,-5           ;X-velocity at which opponent is pushed,
air.hittime = 12
envshake.time = 20
envshake.freq = 140
envshake.ampl = 8

[State 0, TargetState]
type = TargetState
trigger1 = Animelem = 26,5
value = 1025



[State 0]
type	= ScreenBound
trigger1= 1
movecamera= 0,0
value	= 0
ignorehitpause= 1


[State 0, Explod]
type = Explod
trigger1 = animelem = 26
anim = 39
pos = 50,20
postype = p2
facing = -1
vfacing = 1
bindtime = -1
removetime = 15
scale = 1,1
sprpriority = 10



[State 0, Explod]
type = Explod
trigger1 = animelem = 26
anim = 39
pos = 100,20
postype = p2
facing = -1
vfacing = 1
bindtime = -1
removetime = 15
scale = 1,1
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = animelem = 26
anim = 39
pos = 150,20
postype = p2
facing = -1
vfacing = 1
bindtime = -1
removetime = 15
scale = 1,1
sprpriority = 10

[State 0]
type = changestate
trigger1  = (!AnimTime)
value = IfElse(BackEdgeBodydist >= -5,0,9100)
ctrl = 1

[State 0]
type= ChangeState
trigger1= animTime= 0
value= 0
ctrl= 1


[Statedef 9100]
type    = S
physics = S
anim = 100 + ifelse(var(5)=1,10000,0)
sprpriority = 1
ctrl = 0

[State 1101]
type = ScreenBound
trigger1 = 1
value = 0

[State 1101]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 0

[State 1101]
type = VelSet
trigger1 = 1
trigger1 = BackEdgeBodyDist <= 40
x = const(velocity.run.fwd.x)
[State 1101]
type=ChangeState
trigger1 = BackEdgeBodyDist > 40
trigger1=Pos Y < 0
value=1500
[State 1101]
type = ChangeState
trigger1 = BackEdgeBodyDist > 40
value = 0
ctrl = 1

;================================
;======================================

[Statedef 4600]
type = S
movetype= A
physics= S
velset= 0,0
ctrl= 0
anim = 4600+ ifelse(var(5)=1,10000,0)
[State 0]
type= PlaySnd
trigger1= AnimElem= 1
value= s100, 0
volume = 255
[State 0]
type= VelSet
trigger1= AnimElem= 1
x= 33
[State 0, MakeDust]
type = MakeDust
trigger1 = 1
pos = 0,0
spacing = 2
[State 0]
type= HitDef
trigger1 = AnimElem = 2
attr= S, NA
animtype= Medium
damage = 10,5
guardflag= MA
pausetime= 0,1
sparkxy= 0,-10
sparkno=  s371212
hitsound= s210,1
guardsound= s6,0
ground.type= trip
ground.slidetime= 12
ground.hittime= 60
ground.velocity= 1,-12
air.velocity= 1,-12
[State 0]
type= ChangeState
trigger1= animtime = 0
value= 0
ctrl= 1
[State 0]
type = ChangeState
triggerall = command = "a"
trigger1 = Animelem = 2,  [7,15]  && movehit
value = 4601
ctrl = 0
[Statedef 4601]
type = S
movetype= A
physics= S
velset= 0,0
ctrl= 0
anim = 4601+ ifelse(var(5)=1,10000,0)
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x +10
y = p2bodydist y + 50
[State 0, TargetBind]
type = TargetBind
trigger1 = time = 0
time = 1
pos = 0,-45
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,0
volume = 0
channel = -1
[State 0, Turn]
type = Turn
trigger1 = time = 0
[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 100
[State 0]
type= HitDef
trigger1 = AnimElem = 1
attr= S, NA
animtype = back
damage = 100,5
guardflag= MA
pausetime= 0,20
sparkxy= 0,-10
sparkno=  s371212
hitsound= s800,0
guardsound= s6,0
ground.slidetime= 50
ground.hittime= 50
ground.velocity= 0,0
air.velocity= -40,-1
envshake.time = 10
envshake.freq = 140
envshake.ampl = 8
[State 0, TargetState]
type = TargetState
trigger1 = time = 20
value = 1025
[State 0]
type= ChangeState
trigger1= animTime= 0
value= 50
ctrl= 1

;================================

[Statedef 4500]
type = S
movetype= A
physics= S
velset= 0,0
ctrl= 0
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var (5) =0
trigger1 = time = 0
value = 1110

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var (5) =1
trigger1 = time = 0
value = 11107


[State 0]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
anim = 39
pos = -25,4
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
sprpriority = 3
removeongethit = 1
[State 0]
type= PlaySnd
trigger1= AnimElem= 1
value= s100, 0
volume = 255
[State 0]
type= VelSet
trigger1= AnimElem= 1
x= 33
[State 0]
type= HitDef
trigger1 = AnimElem = 1
attr= S, NA
animtype= Medium
damage = 10,5
guardflag= MA
pausetime= 0,2
sparkxy= 0,-57
sparkno= -1
hitsound= -1
guardsound= 6,0
ground.type= High
ground.slidetime= 12
ground.hittime= 60
ground.velocity= 3
air.velocity= 3
p1stateno = 4501

[State 0]
type= ChangeState
trigger1= Time= 33
value= 0
ctrl= 1


[Statedef 4501]
type    = S
movetype= A
physics = S
anim = 4501 + ifelse(var(5)=1,10000,0)
poweradd = 0
ctrl = 0
velset = 0, 0
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 0
y = 0
[State 0]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 1
time = 130
length = 10
PalBright =   0,  0,  0
PalContrast = 128,128,128
PalAdd =   0,  0,  0
PalMul =  1,1,1
[State 0]
type = EnvColor
trigger1 = movehit = 1
time = 3
[State 0]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
animtype  = medium
attr = S, SA
damage    = 10
pausetime = 0,40
guardflag =
sparkxy = -30,-60
sparkno = s36
hitsound   = S300,1
guardsound = 6,0
ground.type = high
ground.slidetime = 3
ground.hittime  = 12
ground.velocity = 0,-8
envshake.time =8
envshake.freq = 60
envshake.ampl = -5
envshake.phase = 90
p2stateno = 429
[State 0]
type = HitDef
trigger1 = AnimElem = 6
trigger2 = AnimElem = 8
animtype  = hard
attr = S, SA
damage    = 10
pausetime = 0,40
guardflag = M
sparkxy = -20,-40
sparkno = s38
hitsound   = S300,1
guardsound = 6,0
ground.type = high
ground.slidetime = 3
ground.hittime  = 12
ground.velocity = 0,-8
envshake.time =8
envshake.freq = 60
envshake.ampl = -5
envshake.phase = 90
p2stateno = 4299
[State 0]
type = PlaySnd
trigger1 = time = 0
value = S989,46
volume = 255
channel = -1
[State 0]
type = ChangeState
trigger1 = time = 130
value = 4502
ctrl = 1

[Statedef 4502]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0
anim = 4502 + ifelse(var(5)=1,10000,0)
poweradd = 20
sprpriority = 2
[State 3010, Turn]
Type = Turn
Trigger1 = P2Dist X < 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
time = 8
add = 256,256,256

             ;Set p1's sprite layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 10, 0                   ;Damage that move inflicts, guard damage
animtype = medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 5, 10                 ;Time attacker pauses, time opponent shakes
sparkno = s38                      ;Spark anim no (Def: set above)
sparkxy = -20, -10               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s300, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 15             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -4 ,2            ;Velocity at which opponent is pushed
airguard.velocity = -4,2    ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = trip                 ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -4,2           ;X-velocity at which opponent is pushed,
air.hittime = 12
palfx.time = 20
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
envshake.time = 20
envshake.freq = 140
envshake.ampl = 8


[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
value = 500,0
volume = 255


[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x +0
y = p2bodydist y -60


[State 0, VelSet]
type = VelSet
trigger1 = time >5
x = 0
y = 4
[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim =  34
pos = 60,-30
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.5,0.5
sprpriority = 10
removeongethit = 1
[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300,0
volume = 255
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
[Statedef 4400]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 50
ctrl = 0
velset = 0,0
sprpriority = 1
anim = 4410 + ifelse(var(5)=1,10000,0)
[State 0]
type = PlaySnd
trigger1 = Time = 5
value = 989, 41
volume =255
[State 0]
type = NotHitBy
trigger1 = time = 7
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 35
[State 0]
type = EnvShake
trigger1 = time = 17
time = 26
freq = 60
ampl = -4
phase = 90
[State 0, EnvShake]
type = EnvShake
trigger1 = time = 7
time = 10
freq = 60
ampl = -4
phase = 90
[State 0]
type = Projectile
triggerall = var (5) =1
trigger1 = AnimElem = 2
projanim = 4400
projhits = 100
projhitanim = 1516
projmisstime = 1
projremovetime = 14
offset = 23,-56
attr = S, HP
damage   = 20,10
animtype = medium
guardflag = MAFD
hitflag = MAFDP
pausetime = 1,1
guard.pause = 1,60
hitsound   = S213,0
sparkno = S15161
sparkxy = 0,-20
guardsound = S6,0
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = 0,0
fall = 1
fall.yvelocity = -20
airguard.velocity = -3
air.velocity = -6, 0
palfx.time = 10
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0]
type = Projectile
triggerall = var (5) =0
trigger1 = AnimElem = 2
projanim = 14400
projhits = 100
projhitanim = 1516
projmisstime = 1
projremovetime = 14
offset = 23,-56
attr = S, HP
damage   = 20,10
animtype = medium
guardflag = MAFD
hitflag = MAFDP
pausetime = 1,1
guard.pause = 1,60
hitsound   = S213,0
sparkno = S15161
sparkxy = 0,-20
guardsound = S6,0
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = 0,0
fall = 1
fall.yvelocity = -20
airguard.velocity = -3
air.velocity = -6, 0
palfx.time = 10
palfx.add = 66,99,165
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
[Statedef 4300]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 50
ctrl = 0
velset = 0,0
sprpriority = 1
anim = 4300 + ifelse(var(5)=1,10000,0)
[State 0]
type = PlaySnd
trigger1 = Time = 5
value = 989, 39
volume =255
[State 0]
type = NotHitBy
trigger1 = time = 7
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 35
[State 0]
type = PlaySnd
trigger1 = Time = 0
value = 989, 25
volume =255
[state 0]
type = PalFX
trigger1 = time = 7
time = 26
add = 120,120,200

[state 4000,allpalfx]
type = allpalfx
trigger1 =  time = 15
time = 5
add = 0,0,0
sinadd = 255,255,255,90
supermove= 9999
supermovetime= 9999
pausemovetime= 9999
[State 0]
type = EnvShake
trigger1 = time = 7
time = 26
freq = 60
ampl = -4
phase = 90
[State 0]
type = Explod
triggerall = var (5) =0
trigger1 = time = 7
Anim = 7030
Pos = 0, 0
sprpriority = 20
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
removetime =  26

[State 0]
type = Explod
triggerall = var (5) =1
trigger1 = time = 7
Anim = 7029
Pos = 0, 0
sprpriority = 20
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
removetime =  26



[State 0]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 50
getpower = 0
guardflag = MA
pausetime = 10,1
sparkno = -1
sparkxy = 0,0
hitsound   = s989,40
guardsound = s6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7,-5
air.velocity = -6,-5
fall = 1
air.fall.recover = 0

[State 1250, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 123]
type = S
movetype = I
physics = S
anim = 40 + ifelse(var(5)=1,10000,0)
velset = 0, 0
sprpriority = 1
ctrl = 0
[State 0]
type = VarSet
trigger1 = time = 0
v = 2
value = 1
[State 0]
type = VarSet
trigger1 = time = 0
v = 4
value = 1
[State 0]
type = VarSet
trigger1 = time = 0
v = 1
value = ifelse(command = "holdfwd", 1, ifelse(command = "holdback", -1, 0))
[State 0]
type = Explod
trigger1 = AnimTime = 0
anim = 7033
postype = p1
pos = 0, 15
bindtime = 1
ownpal = 1
scale = 0.6,0.6
sprpriority = 2

[State 0]
type = PlaySnd
trigger1 = AnimTime = 0
value = 40, 1
volume = 255

[State 0]
type = VelSet
trigger1 = AnimTime = 0
x = 2.25 * var(1)
y = -12.5

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 124
ctrl = 1
[Statedef 124]
type = A
movetype = I
physics = A
[State 0]
type = ChangeAnim
trigger1 = time = 0
trigger1 = PrevStateNo = 123 || PrevStateNo = 125
value = 41+ ifelse(var(5)=1,10000,0)

[State 0]
type = ChangeAnim
trigger1 = time = 0
trigger1 = PrevStateNo = 123 || PrevStateNo = 125
trigger1 = Vel X > 0
value = 50+ ifelse(var(5)=1,10000,0)

[State 0]
type = ChangeAnim
trigger1 = time = 0
trigger1 = PrevStateNo != 123 && PrevStateNo != 125
trigger2 = Anim = 41 && AnimTime = 0
value = 44+ ifelse(var(5)=1,10000,0)

[State 0]
type = VelAdd
trigger1 = command = "holdfwd"
x = .1

[State 0]
type = VelAdd
trigger1 = command = "holdback"
x = -.1

[State 0]
type = ChangeState
triggerall = var(2) > 0
trigger1 = command = "paracima"
value = 125

[Statedef 125]
type    = A
physics = N
ctrl = 0
velset = 0,0

[State 0]
type = VarAdd
trigger1 = time = 0
v = 2
value = -1

[State 0]
type = ChangeAnim
trigger1 = SelfAnimExist(44)
value = 44+ ifelse(var(5)=1,10000,0)

[State 0]
type = ChangeAnim
trigger1 = !SelfAnimExist(44)
value = 41 + ifelse(var(5)=1,10000,0)

[State 0]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 0]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 0]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 0]
type = VelSet
trigger1 = Time = 2
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x) + 1.5))
y = const(velocity.airjump.y)

[State 0]
type = ChangeState
trigger1 = Time = 2
value = 124
ctrl = 1
;================================

[Statedef 1300]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 4,0
ctrl = 0
anim = 1300 + ifelse(var(5)=1,10000,0)
[State 106,3]
type=MakeDust
trigger1=1
pos=-25,-2
spacing=2
[State 0]
type = Playsnd
trigger1 = AnimElem = 1
value = 989,12
volume = 255
[State 0]
type = VelAdd
trigger1 = AnimElem = 1
y = 0
x = 4
[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype  = Hard
damage    = 20,0
guardflag = MA
pausetime = 12,11
sparkno = S37
sparkxy = -15,-50
hitsound   = S220,1
guardsound = s6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 200
ground.velocity = -5
air.hittime = 200
air.velocity = -5
P1stateno = 1301
p2stateno = 1310
p2facing = 1
envshake.time =20
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
[State 0, BGPalFX]
type = BGPalFX
trigger1 = movecontact = 1
time = 5
add = 256,256,256
[State 0]
type = ScreenBound
trigger1 = Time >= 0
trigger1 = Movehit = 1
value = 0
movecamera = 0,0
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
[Statedef 1310]
type    = A
movetype= H
physics = N
velset = 0,0
[State 0]
type = ChangeAnim2
trigger1 = Time >= 0
value = 1310 + ifelse(var(5)=1,10000,0)
[State 0]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 1311
[Statedef 1311]
type    = A
movetype= A
physics = N
velset = -20,0
[State 0]
type = ChangeAnim2
trigger1 = Time >= 0
value = 1311 + ifelse(var(5)=1,10000,0)

[State 3002, HitDef]
type = HitDef
trigger1 = Time >= 0
attr = S, HA
AanimType  = Hard
affectteam = F
damage    = 20,30
priority  = 6
pausetime = 10,0
sparkxy = -10,-60
getpower = 0
ground.Type = Trip
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -500, -5
guard.velocity = -9
air.velocity = -500,-5
airguard.velocity = -9,-3
fall.AnimType = Hard
fall = 1
fall.recover = 0
[State 0]
type = PlayerPush
trigger1 = Time >= 0
value = 0
[State 0]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 0
trigger2 = FrontEdgeBodyDist <= 0
trigger3 = P2MoveType != A
value = 1014

[State 3002, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100  + ifelse(var(5)=1,10000,0)

[Statedef 1014]
type    = A
movetype= H
physics = N

[State 1014, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1014, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1014, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1014, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1014, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 1014, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1014 + ifelse(var(5)=1,10000,0)

[State 1014, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 1014, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 1015

;------------------
;Hit by Fast Kung Fu Palm - bounce off wall
;(a custom gethit state)
[Statedef 1015]
type    = A
movetype= H
physics = N

[State 1015, 1]
type = NotHitBy
trigger1 = Time >= 0
value = , NA, NP

[State 1015, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1015, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1015, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1015, Gravity]
type = VelAdd
trigger1 = Time >= 0
y = .35

[State 1015, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050  + ifelse(var(5)=1,10000,0)

[State 1015, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052   + ifelse(var(5)=1,10000,0)

[State 1015, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050  + ifelse(var(5)=1,10000,0)
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060   + ifelse(var(5)=1,10000,0)

[State 1015, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052 + ifelse(var(5)=1,10000,0)
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062  + ifelse(var(5)=1,10000,0)

[State 1015, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100  + ifelse(var(5)=1,10000,0)
[Statedef 1301]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
ctrl = 0
anim = 1301 + ifelse(var(5)=1,10000,0)
[State 0]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 0,0
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 1302
ctrl = 0
[Statedef 1302]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0
anim = 1302 + ifelse(var(5)=1,10000,0)

[State 106,3]
type=MakeDust
trigger1=1
pos=-25,-2
spacing=2

[State 0]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 0,0
[State 0]
type = AfterImage
trigger1 = (!time)
time = 18
timegap= 1
framegap = 2
length 	= 9
paladd 	= 0, 0, 0
palmul 	= 1, 1, 1
palcontrast = 110,110,110
trans = add
[State 0]
type = Veladd
trigger1 = Time > 0
x = 10
[State 0]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = 20,20
guardflag = MA
pausetime = 12,11
sparkno = S50155
sparkxy = -10,-60
hitsound   = S5,255
guardsound = s6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 200
ground.velocity = 0
air.hittime = 200
air.velocity = -1
P1stateno =1303
p2facing = 1
[State 0]
type = ChangeState
trigger1 = FrontEdgeBodyDist < 0
value = 0
ctrl = 1
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
[Statedef 1303]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
ctrl = 0
anim = 1303  + ifelse(var(5)=1,10000,0)
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 5
x = p2bodydist x -10
[State 0]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 0,0
[State 0]
type = Playsnd
trigger1 = AnimElem = 4
value = 989,12
volume = 255
[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype  = Hard
damage    = 20,20
guardflag = MA
pausetime = 12,11
sparkno = S2009
sparkxy = -10,-50
hitsound   = S620,0
guardsound = s6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 200
ground.velocity = 2
air.hittime = 200
air.velocity = 0
p2stateno = 4020
p2facing = 1
envshake.time =15
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0, Explod]
type = Explod
trigger1 =  animelem = 2
anim = 37
pos = -20,-50
postype = p2
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
sprpriority = 10

[State 0, BGPalFX]
type = BGPalFX
trigger1 =  movecontact = 1
time = 5
add = 256,256,256


               ;Set p1's sprite layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 60, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10, 10                ;Time attacker pauses, time opponent shakes
sparkno = s38                      ;Spark anim no (Def: set above)
sparkxy = -20, -46               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s300, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = high              ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -1             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 12
envshake.time =20
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
palfx.time= 10
palfx.mul= 256,256,256
palfx.add= 176,0,0
palfx.sinadd= -100,-100,-155,40


[State 200, 1]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 60, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10, 1                ;Time attacker pauses, time opponent shakes
sparkno = s38                      ;Spark anim no (Def: set above)
sparkxy = -40, -66               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s300, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip              ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -4,-6             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 12
envshake.time =20
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
palfx.time= 10
palfx.mul= 256,256,256
palfx.add= 176,0,0
palfx.sinadd= -100,-100,-155,40

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim =  35
pos = 40,-40
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.5,0.5
sprpriority = 10
removeongethit = 1

[State 0]
type = PlaySnd
trigger1 = animelem = 3
value = 989,17
volume = 255

[State 210, 3]
type = ChangeState
triggerall = time > 30
trigger1 = Backedgedist < 0
trigger1 = P2stateno = 5100
value = 20038
ctrl = 1
[State 0]
type = ChangeState
triggerall = time > 30
trigger1 = Backedgedist > 0
value = 0
ctrl = 1

[Statedef 4020]
type    = S
movetype= H ;Get hit
physics = N
velset = 0,0
ctrl = 0

[State 210,Para]
type = VelSet
trigger1 = Time >= 0
y = 0
x = 0

[State 930, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 4020 + ifelse(var(5)=1,10000,0)

[State 210, 4]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1





;==================================



[Statedef 2300]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 4,0
ctrl = 0
anim = 2300 + ifelse(var(5)=1,10000,0)
[State 106,3]
type=MakeDust
trigger1=1
pos=-25,-2
spacing=2
[State 0]
type = Playsnd
trigger1 = AnimElem = 1
value = 989,12
volume = 255
[State 0]
type = VelAdd
trigger1 = AnimElem = 1
y = 0
x = 4
[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype  = Hard
damage    = 20,0
guardflag = MA
pausetime = 12,11
sparkno = S37
sparkxy = -15,-50
hitsound   = S220,1
guardsound = s6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 200
ground.velocity = -5
air.hittime = 200
air.velocity = -5
P1stateno = 2301
p2stateno = 2310
p2facing = 1
envshake.time =20
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
[State 0, BGPalFX]
type = BGPalFX
trigger1 = movecontact = 1
time = 5
add = 256,256,256
[State 0]
type = ScreenBound
trigger1 = Time >= 0
trigger1 = Movehit = 1
value = 0
movecamera = 0,0
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
[Statedef 2310]
type    = A
movetype= H
physics = N
velset = 0,0
[State 0]
type = ChangeAnim2
trigger1 = Time >= 0
value = 2310 + ifelse(var(5)=1,10000,0)
[State 0]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 2311
[Statedef 2311]
type    = A
movetype= A
physics = N
velset = -20,0
[State 0]
type = ChangeAnim2
trigger1 = Time >= 0
value = 2311 + ifelse(var(5)=1,10000,0)

[State 3002, HitDef]
type = HitDef
trigger1 = Time >= 0
attr = S, HA
AanimType  = Hard
affectteam = F
damage    = 20,30
priority  = 6
pausetime = 10,0
sparkxy = -10,-60
getpower = 0
ground.Type = Trip
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -500, -5
guard.velocity = -9
air.velocity = -500,-5
airguard.velocity = -9,-3
fall.AnimType = Hard
fall = 1
fall.recover = 0
[State 0]
type = PlayerPush
trigger1 = Time >= 0
value = 0
[State 0]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 0
trigger2 = FrontEdgeBodyDist <= 0
trigger3 = P2MoveType != A
value = 1014

[State 3002, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100  + ifelse(var(5)=1,10000,0)

[Statedef 1014]
type    = A
movetype= H
physics = N

[State 1014, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1014, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1014, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1014, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1014, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 1014, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1014 + ifelse(var(5)=1,10000,0)

[State 1014, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 1014, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 1015

;------------------
;Hit by Fast Kung Fu Palm - bounce off wall
;(a custom gethit state)
[Statedef 1015]
type    = A
movetype= H
physics = N

[State 1015, 1]
type = NotHitBy
trigger1 = Time >= 0
value = , NA, NP

[State 1015, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1015, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1015, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1015, Gravity]
type = VelAdd
trigger1 = Time >= 0
y = .35

[State 1015, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050  + ifelse(var(5)=1,10000,0)

[State 1015, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052   + ifelse(var(5)=1,10000,0)

[State 1015, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050  + ifelse(var(5)=1,10000,0)
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060   + ifelse(var(5)=1,10000,0)

[State 1015, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052 + ifelse(var(5)=1,10000,0)
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062  + ifelse(var(5)=1,10000,0)

[State 1015, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100  + ifelse(var(5)=1,10000,0)
[Statedef 2301]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
ctrl = 0
anim = 2301 + ifelse(var(5)=1,10000,0)
[State 0]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 0,0
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 2302
ctrl = 0
[Statedef 2302]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0
anim = 2302 + ifelse(var(5)=1,10000,0)

[State 106,3]
type=MakeDust
trigger1=1
pos=-25,-2
spacing=2

[State 0]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 0,0
[State 0]
type = AfterImage
trigger1 = (!time)
time = 18
timegap= 1
framegap = 2
length 	= 9
paladd 	= 0, 0, 0
palmul 	= 1, 1, 1
palcontrast = 110,110,110
trans = add
[State 0]
type = Veladd
trigger1 = Time > 0
x = 10
[State 0]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = 20,20
guardflag = MA
pausetime = 12,11
sparkno = S50155
sparkxy = -10,-60
hitsound   = S5,255
guardsound = s6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 200
ground.velocity = 0
air.hittime = 200
air.velocity = -1
P1stateno =2303
p2facing = 1
[State 0]
type = ChangeState
trigger1 = FrontEdgeBodyDist < 0
value = 0
ctrl = 1
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
[Statedef 2303]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
ctrl = 0
anim = 2303  + ifelse(var(5)=1,10000,0)
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 5
x = p2bodydist x -1
[State 0]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 0,0
[State 0]
type = Playsnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 7
trigger4 = AnimElem = 10
value = 989,12
volume = 255
[State 0]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
trigger3 = AnimElem = 8
trigger4 = AnimElem = 11
attr = S, SA
animtype  = Hard
damage    = 20,20
guardflag = MA
pausetime = 1,30
sparkno = S2009
sparkxy = -10,-50
hitsound   = S620,0
guardsound = s6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 200
ground.velocity = 2
air.hittime = 200
air.velocity = 0
p2stateno = 4020
p2facing = 1
envshake.time =15
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0, Explod]
type = Explod
trigger1 =  movecontact = 1
anim = 37
pos = -20,-50
postype = p2
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
sprpriority = 10

[State 0, BGPalFX]
type = BGPalFX
trigger1 =  movecontact = 1
time = 5
add = 256,256,256


[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 14
value = S500,0
volume = 255
channel = -1

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 14
x = p2bodydist x +40
y = p2bodydist y -20
[State 0, Turn]
type = Turn
trigger1 = AnimElem = 14




[State 200, 1]
type = HitDef
trigger1 = AnimElem = 15
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 80, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1, 1                ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = 0, -30               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s620, 0                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip              ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = 0,0             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 3,9           ;X-velocity at which opponent is pushed,
air.hittime = 12
envshake.time =20
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90




[State 0]
type = ChangeState
trigger1 = time =75
value = 50
ctrl = 1

[Statedef 4020]
type    = S
movetype= H ;Get hit
physics = N
velset = 0,0
ctrl = 0

[State 210,Para]
type = VelSet
trigger1 = Time >= 0
y = 0
x = 0

[State 930, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 4020 + ifelse(var(5)=1,10000,0)

[State 210, 4]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 3300]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 8,0
ctrl = 0
anim = 3300 + ifelse(var(5)=1,10000,0)
[State 106,3]
type=MakeDust
trigger1=1
pos=-25,-2
spacing=2
[State 0]
type = AfterImage
trigger1 = (!time)
time 	= 18
timegap	= 1
framegap = 2
length 	= 9
paladd 	= 0, 0, 0
palmul 	= 1, 1, 1
palcontrast = 110,110,110
trans = add
[State 0]
type = Playsnd
trigger1 = AnimElem = 1
value = 100,0
volume = 255

[State 0]
type = Playsnd
trigger1 = AnimElem = 2
value = 700,0
volume = 255
[State 0]
type = VelAdd
trigger1 = AnimElem = 1
y = 0
x = 4
[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype  = Hard
damage    = 20,0
guardflag = MA
pausetime = 12,11
sparkno = S36
sparkxy = -25,-50
hitsound   = S300,1
guardsound = s6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 200
ground.velocity = -5
air.hittime = 200
air.velocity = -5
P1stateno = 3301
p2stateno = 2310
p2facing = 1
envshake.time =20
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
[State 0, BGPalFX]
type = BGPalFX
trigger1 = movecontact = 1
time = 5
add = 256,256,256
[State 0]
type = ScreenBound
trigger1 = Time >= 0
trigger1 = Movehit = 1
value = 0
movecamera = 0,0
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
[Statedef 2310]
type    = A
movetype= H
physics = N
velset = 0,0
[State 0]
type = ChangeAnim2
trigger1 = Time >= 0
value = 2310 + ifelse(var(5)=1,10000,0)
[State 0]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 2311
[Statedef 2311]
type    = A
movetype= A
physics = N
velset = -20,0
[State 0]
type = ChangeAnim2
trigger1 = Time >= 0
value = 2311 + ifelse(var(5)=1,10000,0)

[State 3002, HitDef]
type = HitDef
trigger1 = Time >= 0
attr = S, HA
AanimType  = Hard
affectteam = F
damage    = 20,30
priority  = 6
pausetime = 10,0
sparkxy = -10,-60
getpower = 0
ground.Type = Trip
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -500, -5
guard.velocity = -9
air.velocity = -500,-5
airguard.velocity = -9,-3
fall.AnimType = Hard
fall = 1
fall.recover = 0
[State 0]
type = PlayerPush
trigger1 = Time >= 0
value = 0
[State 0]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 0
trigger2 = FrontEdgeBodyDist <= 0
trigger3 = P2MoveType != A
value = 1014

[State 3002, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100  + ifelse(var(5)=1,10000,0)

[Statedef 1014]
type    = A
movetype= H
physics = N

[State 1014, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1014, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1014, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1014, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1014, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 1014, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1014 + ifelse(var(5)=1,10000,0)

[State 1014, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 1014, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 1015

;------------------
;Hit by Fast Kung Fu Palm - bounce off wall
;(a custom gethit state)
[Statedef 1015]
type    = A
movetype= H
physics = N

[State 1015, 1]
type = NotHitBy
trigger1 = Time >= 0
value = , NA, NP

[State 1015, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1015, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1015, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1015, Gravity]
type = VelAdd
trigger1 = Time >= 0
y = .35

[State 1015, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050  + ifelse(var(5)=1,10000,0)

[State 1015, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052   + ifelse(var(5)=1,10000,0)

[State 1015, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050  + ifelse(var(5)=1,10000,0)
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060   + ifelse(var(5)=1,10000,0)

[State 1015, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052 + ifelse(var(5)=1,10000,0)
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062  + ifelse(var(5)=1,10000,0)

[State 1015, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100  + ifelse(var(5)=1,10000,0)
[Statedef 3301]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
ctrl = 0
anim = 2301 + ifelse(var(5)=1,10000,0)
[State 0]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 0,0
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 3302
ctrl = 0
[Statedef 3302]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0
anim = 2302 + ifelse(var(5)=1,10000,0)

[State 106,3]
type=MakeDust
trigger1=1
pos=-25,-2
spacing=2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S989,37
volume = 255
channel = -1


[State 0]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 0,0
[State 0]
type = AfterImage
trigger1 = (!time)
time = 18
timegap= 1
framegap = 2
length 	= 9
paladd 	= 0, 0, 0
palmul 	= 1, 1, 1
palcontrast = 110,110,110
trans = add
[State 0]
type = Velset
trigger1 = Time > 0
x = 20

[State 0]
type = VelAdd
trigger1 = Time > 0
y = 0
x = 1
[State 0]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = 20,20
guardflag = MA
pausetime = 0,100
sparkno = S50155
sparkxy = -10,-60
hitsound   = S5,255
guardsound = s6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 200
ground.velocity = 0
air.hittime = 200
air.velocity = -1
P1stateno =3303
p2facing = 1
[State 0]
type = ChangeState
trigger1 = FrontEdgeBodyDist < 0
value = 0
ctrl = 1
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
[Statedef 3303]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
ctrl = 0
anim = 3303  + ifelse(var(5)=1,10000,0)

[State 0]
type = AfterImage
trigger1 = (!Time)
time = 25
framegap = 8
length 	 = 20
paladd  = 0, 0, 0
palmul 	 = .50, .50, .50
palcontrast = 100, 100, 100
trans  = add
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 5
x = p2bodydist x -1
[State 0]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 0,0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10, 100                 ;Time attacker pauses, time opponent shakes
sparkno = s38                      ;Spark anim no (Def: set above)
sparkxy = -20, -46               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s300, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = high               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -1             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 12

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 20
y = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim =  35
pos = 60,-30
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.5,0.5
sprpriority = 10
removeongethit = 1

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300,0
volume = 255


[State 0]
type = ChangeState
trigger1 = animtime =0
value = 3304
ctrl = 1


[Statedef 3304]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
ctrl = 0
anim = 3304  + ifelse(var(5)=1,10000,0)
[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 1
x = p2bodydist x -30
[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 3
x = p2bodydist x -1
y= p2bodydist y -10
[State 0]
type = Playsnd
trigger1 = AnimElem = 3
value = 500,0
volume = 255

[State 0, SuperPause]
type = SuperPause
trigger1 = AnimElem = 3
time = 10
anim = 5858585
movetime = 10
darken = 0


[State 0]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 0,0
[State 0]
type = Playsnd
trigger1 = AnimElem = 1
value = 500,0
volume = 255
[State 0]
type = Playsnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
trigger4 = AnimElem = 9
value = 989,12
volume = 255

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage =20 , 0                   ;Damage that move inflicts, guard damage
animtype = medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1, 1                ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = 0, -80               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s620, 0                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = low              ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = 0,-15             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 3,-9           ;X-velocity at which opponent is pushed,
air.hittime = 12
envshake.time =20
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
fall = 0
fall.recover = 0

[State 0]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 10
trigger4 = AnimElem = 13
attr = S, SA
animtype  = Hard
damage    = 10,20
pausetime = 1,30
sparkno = S2009
sparkxy = -10,-50
hitsound   = S620,0
guardsound = s6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 200
ground.velocity = 2
air.hittime = 200
air.velocity = 0
p2stateno = 4020
p2facing = 1
envshake.time =15
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0, Explod]
type = Explod
trigger1 =  animelem = 2
anim = 37
pos = -0,-60
postype = p2
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 =  animelem = 4
trigger2 =  animelem = 7
trigger3 =  animelem = 10
trigger1 =  animelem = 13
anim = 37
pos = -10,-50
postype = p2
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 =  animelem = 17
anim = 37
pos = -5,-40
postype = p2
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 10

[State 0, BGPalFX]
type = BGPalFX
trigger1 =  movecontact = 1
time = 5
add = 256,256,256


[State 200, 1]
type = HitDef
trigger1 = AnimElem = 17
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 100, 0                   ;Damage that move inflicts, guard damage
animtype = high                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1, 1                ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = 0, -30               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s620, 0                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip              ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -3,9             ;Velocity at which opponent is pushed
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -3,9           ;X-velocity at which opponent is pushed,
envshake.time =8
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90



[State 0, EnvShake]
type = EnvShake
trigger1 = time = 100
time = 30
freq = 60
ampl = -8
phase = 90


[State 0, Explod]
type = Explod
trigger1 = time = 100
anim = 2604
pos = 0,0
postype = p2
ID = 1
facing = 1
vfacing = 1
vel = 0,-1
accel = 0,-1
bindtime = 1
supermove
pausemove
scale = 1,1
sprpriority = 5
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = time = 100
anim = 2604
pos = 0,0
postype = p2
ID = 1
facing = 1
vfacing = 1
vel = 1,-1
accel = 1,-1
bindtime = 1
supermove
pausemove
scale = 1,1
sprpriority = 5
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = time = 100
anim = 2605
pos = 0,0
postype = p2
ID = 1
facing = 1
vfacing = 1
vel = -1,-1
accel = -1,-1
bindtime = 1
supermove
pausemove
scale = 1,1
sprpriority = 5
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = time = 100
anim = 1236
pos = 0,0
postype = p2
ID = 1
facing = 1
vfacing = 1
bindtime = 1
supermove
pausemove
scale = 1,1
sprpriority = 5
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S989,5
volume = 255
channel = -1

[State 0]
type = ChangeState
trigger1 = animtime =0
value = 20058
ctrl = 1


;=====================================
[Statedef 4100]
type = S
movetype= A
physics= S
velset= 0,0
anim = 11107
ctrl= 0
[State 0]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
anim = 39
pos = -25,4
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
sprpriority = 3
removeongethit = 1
[State 0]
type= PlaySnd
trigger1= AnimElem= 1
value= s100, 0
volume = 255
[State 0]
type= VelSet
trigger1= AnimElem= 1
x= 33
[State 0]
type= HitDef
trigger1 = AnimElem = 1
attr= S, NA
animtype= Medium
damage = 10,5
guardflag= MA
pausetime= 0,2
sparkxy= 0,-57
sparkno= -1
hitsound= -1
guardsound= 6,0
ground.type= High
ground.slidetime= 12
ground.hittime= 60
ground.velocity= 3
air.velocity= 3
p1stateno = 4101
p2stateno = 4200

[State 0]
type= ChangeState
trigger1= Time= 33
value= 0
ctrl= 1

[Statedef 4200]
type = S
movetype= A
physics= S
velset= 0,0
anim = 0 + ifelse(var(5)=1,10000,0)
ctrl= 0


[State 0]
type= ChangeState
trigger1= Time= 295
value= 4201
ctrl= 1


[Statedef 4201]
type = S
movetype= A
physics= S
velset= 0,0
anim = 41 + ifelse(var(5)=1,10000,0)
ctrl= 0


[State 0, VelSet]
type = VelSet
trigger1 = time > 0
x = 0
y = -7



[State 0]
type= ChangeState
trigger1= Time= 15
value= 4202
ctrl= 0

[Statedef 4202]
type = S
movetype= A
physics= S
velset= 0,0
anim = 41 + ifelse(var(5)=1,10000,0)
ctrl= 0


[State 0]
type= ChangeState
trigger1= Time= 200
value= 0
ctrl= 0

[Statedef 4101]
type = S
movetype= A
physics= S
velset= 0,0
anim = 4101
ctrl= 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 10097
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 6,0
accel = 0,0
removetime = 20
scale = 1,1
sprpriority = 5
removeongethit = 1


[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
x = -100
y = -100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S500,0
volume = 255
channel = -1



[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 40
time = 5
add = 256,256,256



[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S989,13
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 39
value = S989,19
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 40
value = S989,20
volume = 255
channel = -1

[State 0, Explod]
type = Explod
trigger1 = animelem = 40
anim =  4106
pos = 30,-30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 1,2
accel = .70,.85
removetime = 30
scale = 0.5,0.5
sprpriority = 8


[State 0, Explod]
type = Explod
trigger1 = TIME = 305
anim =  1236
pos = 0,80
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = 30
scale = 1.2,1.2
sprpriority = 10

[State 0, EnvShake]
type = EnvShake
trigger1 = TIME = 305
time = 40
freq = 60
ampl = -4
phase = 90

[state 4000,allpalfx]
type = allpalfx
trigger1 = TIME = 305
time = 20
add = 0,0,0
sinadd = 255,255,255,90
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = TIME = 305
value = S989,8
volume = 255
channel = -1


[State 0, Explod]
type = Explod
trigger1 = time = 305
anim = 2604
pos = 0,0
postype = p2
ID = 1
facing = 1
vfacing = 1
vel = 0,-1
accel = 0,-1
bindtime = 1
supermove
pausemove
scale = 1,1
sprpriority = 5
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = time = 305
anim = 2604
pos = 0,0
postype = p2
ID = 1
facing = 1
vfacing = 1
vel = 1,-1
accel = 1,-1
bindtime = 1
supermove
pausemove
scale = 1,1
sprpriority = 5
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = time = 305
anim = 2605
pos = 0,0
postype = p2
ID = 1
facing = 1
vfacing = 1
vel = -1,-1
accel = -1,-1
bindtime = 1
supermove
pausemove
scale = 1,1
sprpriority = 5
removeongethit = 1

[State 0]
type= ChangeState
trigger1= animTime= 0
value= 4102
ctrl= 1

[Statedef 4102]
type = S
movetype= A
physics= S
velset= 0,0
anim = 4102
ctrl= 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 20
time = 15
add = 76,0,0
sinadd = 0,0,0,1
invertall = 0
color = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 1
x = p2bodydist x -10
y = p2bodydist y -30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S500,0
volume = 255
channel = -1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 100, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 5, 50                 ;Time attacker pauses, time opponent shakes
sparkno = s38                      ;Spark anim no (Def: set above)
sparkxy = -20, -46               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s300, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = high               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -1 ,0            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,0           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 100, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 200                 ;Time attacker pauses, time opponent shakes
sparkno = s3811                      ;Spark anim no (Def: set above)
sparkxy = -20, -16               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s300, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = high               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -1 ,7             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,0           ;X-velocity at which opponent is pushed,
air.hittime = 12


[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
time = 5
add = 256,256,256


[State 0, Explod]
type = Explod
trigger1 = time = 12
anim =  3838
pos = 0,-30
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
;scale = 0.5,0.5
sprpriority = 10
removeongethit = 1


[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim =  34
pos = 60,-30
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.5,0.5
sprpriority = 10
removeongethit = 1

[State 0: Pause]
type                    = Pause
triggerall              = movehit
trigger1                = gametime%4 = 0
time                    = 6

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
value = 989,21
volume = 255


[State 200, 1]
type = PlaySnd
trigger1 = Time = 20
value = 989,17
volume = 255

[State 0, StopSnd]
type = StopSnd
trigger1= p2life = 0
channel = -1

[State 0]
type= ChangeState
trigger1= animTime= 0
value= 4103
ctrl= 1


[State 0]
type= ChangeState
trigger1= p2life = 0
value= 20058
ctrl= 1

[Statedef 4103]
type    = S
movetype= A
physics = S
anim = 4103
poweradd = 0
ctrl = 0
velset = 0, 0


[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 0
y = 30


[State 0]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 1
time = 150
length = 10
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1


[State 0, EnvColor]
type = EnvColor
trigger1 = movehit = 1
time = 3


[State 1039, multiple hits]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
animtype  = medium
attr = S, SA
damage    = 15
pausetime = 0,40
guardflag =
sparkxy = -30,-60
sparkno = s36
hitsound   = S300,1
guardsound = 6,0
ground.type = high
ground.slidetime = 3
ground.hittime  = 12
ground.velocity = 0,-8
envshake.time =8
envshake.freq = 60
envshake.ampl = -5
envshake.phase = 90
p2stateno = 429


[State 1039, hitdef]
type = HitDef
trigger1 = AnimElem = 6
trigger2 = AnimElem = 8
animtype  = hard
attr = S, SA
damage    = 15
pausetime = 0,40
guardflag = M
sparkxy = -20,-40
sparkno = s38
hitsound   = S300,1
guardsound = 6,0
ground.type = high
ground.slidetime = 3
ground.hittime  = 12
ground.velocity = 0,-8
envshake.time =8
envshake.freq = 60
envshake.ampl = -5
envshake.phase = 90
p2stateno = 4299


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S989,22
volume = 255
channel = -1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 0
value = -25


[State 0, StopSnd]
type = StopSnd
trigger1= p2life = 0
channel = -1


[State 1039, next]
type = ChangeState
trigger1 = time = 150
value = 4104
ctrl = 1

[State 0]
type= ChangeState
trigger1= p2life = 0
value= 20058
ctrl= 1
;================================
[Statedef 4104]
type = S
movetype= A
physics= S
velset= 0,0
anim = 4104
poweradd = -3000
ctrl= 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim =  34
pos = 60,-30
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.5,0.5
sprpriority = 10
removeongethit = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = stateno = 4104
value = -1

[State 0]
type = Helper
trigger1 = time = 50
postype = p1
pos = -28,15
stateno = 111499
bindtime = 999
ownpal = 1
name = "especial"
ID = 111499
size.xscale = 2
size.yscale = 2



[State 3010, palfx]
type = BgPalfx
trigger1 = Time = 0
time = 200
color = 0

[State 1039, next]
type = ChangeState
trigger1 = animtime = 0
value = 20058
ctrl = 1




[Statedef 111499]
type = S
movetype = A
physics = N
velset = 0,0
anim = 1113
sprpriority = 100
juggle = 2
ctrl = 0



 [State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [10,60]
time = 1
add = 0,-80+((time-58)*4),-256+((time-58)*13)
mul = 336-((time-58)*4),356-((time-58)*5),56+((time-58)*10)
sinadd = 0,0,0,1
invertall = 0
color = 0
[State 0]
type = BindToParent
trigger1 = 1
time = 1
pos = 49, -67
[State 0]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
[State 0]
type = PlayerPush
trigger1 = Time >= 0
value = 0
[State 0]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype = Hard
damage = 300,20
hitflag = MAF
guardflag = MA
pausetime = 0, 50
sparkno = S996
sparkxy = 0,0
hitsound = s213,0
ground.type = High
ground.slidetime = 13
ground.hittime = 26
ground.velocity = -30,-2
guard.velocity = -4
air.velocity = -30,-2
airguard.velocity = -4,-2
down.velocity = -30,-1
down.hittime = 26
getpower = 0
fall = 1
fall.recover = 0
envshake.time = 80
envshake.freq = 140
envshake.ampl = 16
palfx.time = 80
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
;p2stateno = 1116

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  movehit = 1
value = S989,8
volume = 255
channel = -1


[State -2]
type = PlaySnd
trigger1 = Time = 20
value = s989,1
volume = 255

[State -2]
type = Explod
trigger1 = time = 20
anim = 1235
pos = -30,-50
postype = p2
bindtime = -1
sprpriority = 10
ownpal = 1

[State -2]
type = Explod
trigger1 = time = 20
anim = 1236
pos = -30,-50
postype = p2
bindtime = -1
sprpriority = 10
removetime = 80
ownpal = 1


[State 0]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, AA, AP, AT
ignorehitpause = 1
[State 0]
type = ParentVarSet
trigger1 = UniqHitCount != Var(20)
v = 19
value = 1
[State 0]
type = VarSet
trigger1 = UniqHitCount != Var(20)
v = 20
value = UniqHitCount
[State 0]
type = DestroySelf
trigger1 = time = 60

;================================

[Statedef 3100]
type = S
movetype= A
physics= S
velset= 0,0
anim = 1110
ctrl= 0
[State 0]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
anim = 39
pos = -25,4
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
sprpriority = 3
removeongethit = 1
[State 0]
type= PlaySnd
trigger1= AnimElem= 1
value= s100, 0
volume = 255
[State 0]
type= VelSet
trigger1= AnimElem= 1
x= 33
[State 0]
type= HitDef
trigger1 = AnimElem = 1
attr= S, NA
animtype= Medium
damage = 10,5
guardflag= MA
pausetime= 0,2
sparkxy= 0,-57
sparkno= -1
hitsound= -1
guardsound= 6,0
ground.type= High
ground.slidetime= 12
ground.hittime= 60
ground.velocity= 3
air.velocity= 3
p1stateno = 3101

[State 0]
type= ChangeState
trigger1= Time= 33
value= 0
ctrl= 1



[Statedef 3101]
type = S
movetype = A
physics = S
ctrl = 0
anim = 3101
velset = 0,0,0
[State 0]
type = Width
trigger1 = 1
edge = 40,
[State 0]
type = Explod
triggerall = AnimElem != 14
trigger1 = movehit = 1
anim = 37
ID = 37
pos = 40,-55
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 3
scale = 0.5,0.5
removeongethit = 1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
time = 2
add = 256,256,256
[State 0]
type = velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 5
trigger4 = AnimElem = 7
x = 2

[State 0]
type = playsnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 5
trigger4 = AnimElem = 8
trigger5 = AnimElem = 11
value = 989,12
volume = 255
channel = -1




[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Hard
damage    = 15, 7
guardflag = MA
pausetime = 5,50
sparkno = s2009
guard.sparkno = 2
sparkxy = -20,-55
hitsound   = S200,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 5,50
sparkno = s2009
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S210,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
animtype  = Hard
damage    = 15, 7
guardflag = MA
pausetime = 5,50
sparkno = s2009
guard.sparkno = 2
sparkxy = -15,-45
hitsound   = S440,0
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90


[State 0]
type = HitDef
trigger1 = AnimElem = 9
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 5,50
sparkno = s2009
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S220,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -6
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90


[State 0]
type = HitDef
trigger1 = AnimElem = 12
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 5,35
sparkno = s2009
guard.sparkno = 2
sparkxy = -20,-50
hitsound   = S220,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -6
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90



[State 0]
type = HitDef
trigger1 = AnimElem = 14
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 10,35
sparkno = s37
guard.sparkno = 2
sparkxy = 30,-55
hitsound   = S2201,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = 0
air.velocity = 0,0
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90
p2stateno = 3011

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 14
value = S620,0
volume = 255
channel = -1


[State 0, LifeAdd]
type = LifeAdd
trigger1 = AnimElem = 14
value = -10



[State 0]
type = afterimage
trigger1 = time = 0
time = 50
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add

[State 0]
type = changestate
trigger1 = animtime = 0
value = 3102
ctrl = 1


[Statedef 3102]
type = S
movetype = A
physics = S
ctrl = 0
anim = 3102
velset = 0,0,0
[State 0]
type = Width
trigger1 = 1
edge = 40,

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = -10
y = 0


[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
time = 2
add = 256,256,256

[State 0]
type = playsnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
value = 220,0
volume = 255
channel = -1




[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Hard
damage    = 5,5
guardflag = MA
pausetime = 5,50
sparkno = s37
guard.sparkno = 2
sparkxy = -20,-55
hitsound   = S220,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90
p2stateno = 3012

[State 0]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = light
damage    = 0,0
guardflag = MA
pausetime = 5,50
sparkno = s37
guard.sparkno = 2
sparkxy = 25,-60
hitsound   = S6,011
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90
p2stateno = 3011



[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S420,0;210,1
volume = 255
channel = -1




[State 0]
type = afterimage
trigger1 = time = 0
time = 20
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add

[State 0]
type = changestate
trigger1 = time =56
value =3004; 3103
ctrl = 1

[Statedef 3103]
type = S
movetype = A
physics = S
ctrl = 0
anim = 3103
velset = 0,0,0
[State 0]
type = Width
trigger1 = 1
edge = 40,

[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
time = 2
add = 256,256,256

[State 0]
type = playsnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
value = 220,0
volume = 255
channel = -1




[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Hard
damage    = 5,5
guardflag = MA
pausetime = 3,50
sparkno = s20094
guard.sparkno = 2
sparkxy = -20,-55
hitsound   = S210,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90
p2stateno = 3012

[State 0]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = light
damage    = 0, 0
guardflag = MA
pausetime = 3,50
sparkno = s20094
guard.sparkno = 2
sparkxy = 25,-60
hitsound   = S6,0222
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90
p2stateno = 3011




[State 0]
type = afterimage
trigger1 = time = 0
time = 20
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add

[State 0]
type = changestate
trigger1 = time =80
value = 3004
ctrl = 1

[Statedef 3011]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 200 + ifelse(var(5)=1,10000,0)
ctrl = 0
[State 0, SprPriority]
type = SprPriority
trigger1 = stateno = 3011
value = 10

[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 0

[Statedef 3013]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 210+ ifelse(var(5)=1,10000,0)
ctrl = 0
[State 0, SprPriority]
type = SprPriority
trigger1 = stateno = 3013
value = 10
[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -5

[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 0

[Statedef 3014]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 230+ ifelse(var(5)=1,10000,0)
ctrl = 0
[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -5

[State 0, SprPriority]
type = SprPriority
trigger1 = stateno = 3014
value = 10

[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 0

[Statedef 3015]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 240 + ifelse(var(5)=1,10000,0)
ctrl = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -5




[State 0, SprPriority]
type = SprPriority
trigger1 = stateno = 3015
value = 10

[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 0

[Statedef 3012]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 120 + ifelse(var(5)=1,10000,0)
ctrl = 0





[State 0]
type = changestate
trigger1 = time = 12
value = 0
ctrl = 0


[Statedef 3004]
type = S
movetype= A
physics= S
velset= 0,0
ctrl= 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 3
x = -40
y = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = -1


[State 0]
type= PlaySnd
trigger1 = time = 3
value= s500,0
volume = 255
channel = 30

[State 0]
type = changeanim
trigger1 = time = 0
value = 3004

[State 0]
type= PlaySnd
trigger1= AnimElem= 4
value= s989,15
volume = 255
channel = -1

[State 0]
type= ChangeState
trigger1 =animTime = 0
value= 3005
ctrl= 1




[Statedef 3005]
type = S
movetype= A
physics= S
velset= 0,0
ctrl= 0

[State 0]
type= PlaySnd
trigger1 = time = 0
value= s500,0
volume = 255
channel = 30


[State 0]
type = changeanim
trigger1 = time = 0
value = 3005

[State 2600,teleport]
type = PosAdd
trigger1 = time = 5
x = p2bodydist x -10
y = p2bodydist y + 0



[State 0]
type = Width
trigger1 = 1
edge = 40,


[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 37
ID = 37
pos = 30,-50
postype = p1
facing = 1
random = -5,-30
vfacing = 1
bindtime = -1
scale = 0.6,0.6
sprpriority = 5

[State 210, 2]
type= HitDef
trigger1= AnimElem= 2
attr= S, NA
animtype= Medium
damage = 5
guardflag= MA
pausetime= 4,40
sparkxy= -20,-60
sparkno= s2009
hitsound= S200,1
guardsound= S6,0
ground.type= High
ground.slidetime= 4
ground.hittime= 0
ground.velocity= -1
air.velocity= -1,-3
p2stateno = 3011


[State 210, 2]
type= HitDef
trigger1= AnimElem= 4
attr= S, NA
animtype= hard
damage = 5
guardflag= MA
pausetime= 4,40
sparkxy= -10,-30
sparkno= s2009
hitsound= S210,1
guardsound= S6,0
ground.type= High
ground.slidetime= 0
ground.hittime= 0
ground.velocity= 0
air.velocity= 0
p2stateno = 3013


[State 210, 2]
type= HitDef
trigger1= AnimElem= 6
attr= S, NA
animtype= Medium
damage = 5
guardflag= MA
pausetime= 4,40
sparkxy= 20,-40
sparkno= s2009
hitsound= S440,0
guardsound= S6,0
ground.type= High
ground.slidetime= 0
ground.hittime= 0
ground.velocity= 0
air.velocity= 0
p2stateno = 3014

[State 210, 2]
type= HitDef
trigger1= AnimElem= 9
attr= S, NA
animtype= hard
damage = 5
guardflag= MA
pausetime= 4,40
sparkxy= 10,-60
sparkno= s2009
hitsound= S220,1
guardsound= S6,0
ground.type= High
ground.slidetime= 4
ground.hittime= 0
ground.velocity= -1
air.velocity= -1,-3
p2stateno = 3015


[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = 39
pos = -80,10
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 200
scale = 1,1
sprpriority = 20



[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = 39
pos = 130,10
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = 200
scale = 1,1
sprpriority = 20



[State 0, LifeAdd]
type = LifeAdd
trigger1 = animelem = 2
trigger1 = animelem = 4
trigger1 = animelem = 6
trigger1 = animelem = 9
value = -3

[State 2002, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 220
ampl = 15
phase = 18
[State 2002, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0
time = 1
add = var(10),var(10),var(10)
color = 0
[State 2002, varrandom]
type = varrandom
trigger1 = time >= 0
v = 10
range = 0,255

[State 0]
type= ChangeState
trigger1= Time= 100
value= 3006
ctrl= 1


[Statedef 3006]
type = S
movetype= A
physics= S
velset= 0,0
ctrl= 0



[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  stateno = 3006
id = 37


[State 0, PosAdd]
type = PosAdd
trigger1 = time = 3
x = 100
y = 0

[State 0, Turn]
type = Turn
trigger1 = time = 3


[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = -1


[State 0]
type= PlaySnd
trigger1 = time = 3
value= s500,0
volume = 255
channel = 30

[State 0]
type = changeanim
trigger1 = time = 0
value = 3006

[State 0]
type= PlaySnd
trigger1= AnimElem= 7
value= s989,16
volume = 255
channel = -1

[State 0]
type= ChangeState
trigger1 =animTime = 0
value= 3007
ctrl= 1

[Statedef 3007]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 20399     ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2



[State 0, Turn]
type = Turn
trigger1 = animelem = 3                 ;Set p1's sprite layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10, 200                 ;Time attacker pauses, time opponent shakes
sparkno = s38                      ;Spark anim no (Def: set above)
sparkxy = -20, -46               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s300, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = high              ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -1             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time =20
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
palfx.time= 40
palfx.mul= 256,256,256
palfx.add= 176,0,0
palfx.sinadd= -100,-100,-155,40

[State 0, EnvColor]
type = EnvColor
trigger1 = animelem = 2
time = 5

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 20
y = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim =  35
pos = 60,-30
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.5,0.5
sprpriority = 10
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim =  3009
pos = -30,-40
postype = p2
facing = 1
vfacing = 1
bindtime = -1
scale = 0.6,0.6
sprpriority = 10
removeongethit = 1

[State 0]
type = PlaySnd
trigger1 = Time = 1
value = 989,17
volume = 255

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 3008
ctrl = 1


[Statedef 3008]
type = S
physics = N
movetype = A
ctrl = 0
velset = 15, 0
anim = 3008
juggle = 2




[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S989,10
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S100,0
volume = 255
channel = -1



[State 1036, image]
type = AfterImage
trigger1 = Time = 2
trans = add1
TimeGap  = 1
FrameGap = 6
time = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1.2,1.2,1.2



[State 1036, bind]
type = targetbind
Trigger1 = time = 0
pos x = 20, 0
time = 999

[State 1036, bind]
type = SprPriority
Trigger1 = time = 0
value = 4




[State 1036, spr]
type = SprPriority
Trigger1 = frontedgedist = 0
value = 3

[State 0]
type = ChangeState
Trigger1 = p2life = 0
value = 195
ctrl = 0

[State 0]
type = ChangeState
trigger1 = FrontEdgeBodyDist <= 40
value = 3009


[Statedef 3009]
type    = S
movetype= A
physics = N
velset = 0, 0
juggle  = 0
ctrl = 0
anim = 3010
poweradd = 0



[State 1037, back]
type = posadd
Trigger1 = time = 0
x = -20

[State 1037, bind]
type = targetbind
Trigger1 = time >= 0
Trigger1 = time < 1
pos = 95, 0

[State 1037, targetstate]
type = targetstate
Trigger1 = time = 0
value = 10919

[State 1037, screenshake]
type = EnvShake
Trigger1 = Time = 0
time = 15
ampl = -3
freq = 90
phase = 90

[State 1037, snd]
type = PlaySnd
trigger1 = Time = 0
value = s989,16
volume = 255
channel = 100



[State 1037, next]
type = ChangeState
trigger1 = Time = 16
value = 3010
ctrl = 0

[Statedef 3010]
type    = S
movetype= A
physics = S
anim = 3011
poweradd = 0
ctrl = 0
velset = 0, 0

[State 0]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 1
time = 150
length = 10
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1


[State 0, EnvColor]
type = EnvColor
trigger1 = movehit = 1
time = 3


[State 1039, multiple hits]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
animtype  = medium
attr = S, SA
damage    = 10
pausetime = 0,40
guardflag =
sparkxy = -30,-60
sparkno = s36
hitsound   = S300,1
guardsound = 6,0
ground.type = high
ground.slidetime = 3
ground.hittime  = 12
ground.velocity = 0,-8
envshake.time =8
envshake.freq = 60
envshake.ampl = -5
envshake.phase = 90
p2stateno = 429


[State 1039, hitdef]
type = HitDef
trigger1 = AnimElem = 6
trigger2 = AnimElem = 8
animtype  = hard
attr = S, SA
damage    = 10
pausetime = 0,40
guardflag = M
sparkxy = -20,-40
sparkno = s38
hitsound   = S300,1
guardsound = 6,0
ground.type = high
ground.slidetime = 3
ground.hittime  = 12
ground.velocity = 0,-8
envshake.time =8
envshake.freq = 60
envshake.ampl = -5
envshake.phase = 90
p2stateno = 4299


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S989,18
volume = 255
channel = -1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 0
value = -25

[State 1039, next]
type = ChangeState
trigger1 = time = 150
value = 24289
ctrl = 1


[Statedef 24289]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 24289             ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2
[State 3010, Turn]
Type = Turn
Trigger1 = P2Dist X < 0               ;Set p1's sprite layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 10, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 5, 5                 ;Time attacker pauses, time opponent shakes
sparkno = s38                      ;Spark anim no (Def: set above)
sparkxy = -20, -46               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s300, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = high               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = 0,0            ;Velocity at which opponent is pushed
airguard.velocity = 0,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,0           ;X-velocity at which opponent is pushed,


[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 13, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 10                 ;Time attacker pauses, time opponent shakes
sparkno = s38                      ;Spark anim no (Def: set above)
sparkxy = -20, -16               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s300, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = low               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = 0 ,0             ;Velocity at which opponent is pushed
airguard.velocity = 0,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,0         ;X-velocity at which opponent is pushed,



[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
value = 500,0
volume = 255


[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x +70
y = p2bodydist y -60


[State 0, VelSet]
type = VelSet
trigger1 = time >5
x = 0
y = 4


[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim =  34
pos = 60,-30
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.5,0.5
sprpriority = 10
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = movehit=1
anim =  3009
pos = -40,-30
postype = p2
facing = 1
vfacing = 1
bindtime = -1
scale = 0.8,0.8
sprpriority = 10
removeongethit = 1


[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300,0
volume = 255

[State 0, PosSet]
type = PosSet
trigger1 = time = 22
y = 0

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 30122
ctrl = 1


[Statedef 30122]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 3012     ;Change animation (Def: no change)
poweradd = -3000                    ;Power to add (Def: 0)
sprpriority = 2



[State 0, Turn]
type = Turn
trigger1 = animelem = 3                 ;Set p1's sprite layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 200, 0                   ;Damage that move inflicts, guard damage
animtype = hard                ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
pausetime = 10, 120                 ;Time attacker pauses, time opponent shakes
sparkno = s38                      ;Spark anim no (Def: set above)
sparkxy = -20, -46               ;X-offset for the "hit spark" rel. to p2,
hitsound = s300, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip              ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -1             ;Velocity at which opponent is pushed
airguard.velocity = 0,-3     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))               ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,-3           ;X-velocity at which opponent is pushed,
air.hittime = 12
envshake.time =20
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
palfx.time= 150
palfx.mul= 256,256,256
palfx.add= 176,0,0
palfx.sinadd= -100,-100,-155,40
fall = 0
fall.recover = 0

[State 0, EnvColor]
type = EnvColor
trigger1 = animelem = 2
time = 5

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 20
y = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim =  35
pos = 60,-30
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.5,0.5
sprpriority = 10
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim =  3009
pos = -30,-40
postype = p2
facing = 1
vfacing = 1
bindtime = -1
scale = 0.6,0.6
sprpriority = 10
removeongethit = 1

[State 0, EnvColor]
type = EnvColor
trigger1 = time = 100
time = 10

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 100
time = 20
freq = 60
ampl = -4
phase = 90


[State 0, Explod]
type = Explod
trigger1 = time = 100
anim =  3009
pos = -30,-40
postype = p2
facing = 1
vfacing = 1
bindtime = -1
scale = 0.6,0.6
sprpriority = 10
removeongethit = 1

[State 0]
type = PlaySnd
trigger1 = Time = 100
value = 300,1
volume = 255

[State 0]
type = PlaySnd
trigger1 = Time = 1
value = 989,17
volume = 255

[State 0]
type = PlaySnd
trigger1 = animelem= 4
value = 989,16
volume = 255



[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 429]
type    = A
movetype= H
velset = 0,0
physics = S



[State 429, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5000

[State 429, ChangeAnim]
type = ChangeAnim
triggerall = var(5) = 1
trigger1 = time = 0
value = 15000

[State 1039, next]
type = ChangeState
trigger1 = time = 440
value = 0
ctrl = 0

[State 1039, next]
type = ChangeState
trigger1 = life = 0
value = 0
ctrl = 0

[Statedef 4299]
type    = A
movetype= H
velset = 0,0
physics = S



[State 429, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5001

[State 429, ChangeAnim]
type = ChangeAnim
triggerall = var(5) = 1
trigger1 = time = 0
value = 15001

[State 1039, next]
type = ChangeState
trigger1 = time = 440
value = 0
ctrl = 0


[State 1039, next]
type = ChangeState
trigger1 = life = 0
value = 0
ctrl = 0

[Statedef 10919]
type    = A
movetype= H ;Get hit
velset = 0,0
physics = S

[State 1091, 0]
type = posset
trigger1 = Time = 0
y = 0

[State 1091, 0]
type = SprPriority
trigger1 = Time = 0
value = -1

[State 1091, 1]
type = ChangeAnim2
Trigger1 = time = 0
value = 25109

[State 1091, 1]
type = ChangeAnim2
triggerall = var(5) = 1
Trigger1 = time = 0
value = 251099

[Statedef 10929]
type    = A
movetype= H ;Get hit
velset = 0
physics = S

[State 1092, 0]
type = SprPriority
trigger1 = Time = 0
value = 10

[State 1092, 1]
type = SelfState
Trigger1 = movecontact = 0
Trigger1 = time = 41
value = 5050
ctrl = 0

[Statedef 10909]
type    = A
movetype= H ;Get hit
physics = S

[State 1090, 0]
type = velset
trigger1 = time = 0
x = 0
y = 0

[State 1090, 1]
type = AfterImage
trigger1 = Time = 2
trans = add1
TimeGap  = 1
FrameGap = 6
time = 50
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9

[State 1090, 0]
type = posset
trigger1 = Time = 0
y = 0

[State 1090, 0]
type = SprPriority
trigger1 = Time = 0
value = 1

[State 1090, 1]
type = ChangeAnim2
Trigger1 = time = 0
value = 95009


[State 1090, 1]
type = ChangeAnim2
triggerall = var(5) = 1
Trigger1 = time = 0
value = 950099

;=========================================
[Statedef 13000]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 13000
ctrl = 0
[State 0]
type = NotHitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 420
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S989,13
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 43
value = S989,14
volume = 255
channel = -1
[State 0]
type= AllPalFX
trigger1= AnimElem = 1
time= 15
add= 0,0,0
mul= 256,256,256
sinadd	= 0,0,0,1
invertall= 0
color= (Time*5)
[State 0, Explod]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 44
anim = 3002
pos = 0,50
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 160
scale = 1.5,1
sprpriority = 15
removeongethit = 1
[state 0]
type = allpalfx
trigger1 =  time = 420
time = 60
add = 0,0,0
sinadd = 255,255,255,90
supermove= 9999
supermovetime= 9999
pausemovetime= 9999
[State 0, PlaySnd]
type = PlaySnd
trigger1 =  time = 420
value = S989,1
volume = 255
channel = -1
[State 0, EnvShake]
type = EnvShake
trigger1 =  time = 420
time = 80
freq = 60
ampl = -8
phase = 90
[State 0, Explod]
type = Explod
triggerall = p2stateno != [120,150]
trigger1 = time = 420
anim = 1236
pos = 0,0
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
scale = 1,1
sprpriority = 10
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = animelem = 44
anim = 7029
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 160
scale = 1,1
sprpriority = 20
removeongethit = 1
[State 0, PowerAdd]
type = PowerAdd
trigger1 =   time = 420
value = -2500
[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 250
anim = 414522
movetime = 250
darken = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 44
value = S730,3
volume = 255
channel = -1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 90,0
trigger1 = time > 200
value = S730,0
volume = 255
channel = -1
[State 0]
type = Projectile
projscale = 1.5,1.4
trigger1 = AnimElem = 44
projanim = 3001
projhits = 100
projmisstime = 1
projremovetime = 80
offset = 30,-60
attr = S, HP
damage   = 8,3
animtype = hard
guardflag = MAFD
hitflag = MAFDP
pausetime = 1,1
guard.pause = 1,60
hitsound   = S2204,122111
sparkno = S151622111
sparkxy = 0,0
guardsound = S210222,1
ground.type = high
ground.slidetime = 5
guard.slide = 3
ground.hittime  = 11
ground.velocity = 0,0
fall = 1
fall.recover = 0
airguard.velocity = -3
air.velocity = -6, 0
envshake.time =30
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90

[State 0]
type = Projectile
projscale = 1.7,1.6
trigger1 = AnimElem = 45
projanim = 3001
projhits = 100
projmisstime = 1
projremovetime = 8
offset = 30,-60
attr = S, HP
damage   = 10,6
animtype = hard
guardflag = MAFD
hitflag = MAFDP
pausetime = 1,1
guard.pause = 1,60
hitsound   = S2204,122111
sparkno = S151622111
sparkxy = 0,0
guardsound = S210222,1
ground.type = trip
ground.slidetime = 5
guard.slide = 3
ground.hittime  = 11
ground.velocity = 0,0
fall = 1
fall.recover = 0
air.velocity = -25,-6
envshake.time =30
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90
p2stateno = 1025

[State 0]
type = ChangeState
trigger1 = AnimTime = 0 && BackEdgeBodyDist <= 0
value = 100
ctrl = 1
[State 0]
type = ChangeState
trigger1 = AnimTime = 0 && FrontEdgeBodyDist > 0
value = 0
ctrl = 1
;====================================
[Statedef 3000]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3000
ctrl = 0
[State 0]
type = NotHitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 420
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S989,13
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 43
value = S989,14
volume = 255
channel = -1
[State 0]
type= AllPalFX
trigger1= AnimElem = 1
time= 15
add= 0,0,0
mul= 256,256,256
sinadd	= 0,0,0,1
invertall= 0
color= (Time*5)
[State 0, Explod]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 44
anim = 3002
pos = 0,50
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 160
scale = 1.5,1
sprpriority = 15
removeongethit = 1
[state 0]
type = allpalfx
trigger1 =  time = 420
time = 60
add = 0,0,0
sinadd = 255,255,255,90
supermove= 9999
supermovetime= 9999
pausemovetime= 9999
[State 0, PlaySnd]
type = PlaySnd
trigger1 =  time = 420
value = S989,1
volume = 255
channel = -1
[State 0, EnvShake]
type = EnvShake
trigger1 =  time = 420
time = 80
freq = 60
ampl = -8
phase = 90
[State 0, Explod]
type = Explod
triggerall = p2stateno != [120,150]
trigger1 = time = 420
anim = 1236
pos = 0,0
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
scale = 1,1
sprpriority = 10
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = animelem = 44
anim = 7030
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 160
scale = 1,1
sprpriority = 20
removeongethit = 1
[State 0, PowerAdd]
type = PowerAdd
trigger1 =   time = 420
value = -2500
[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 250
anim = 414522
movetime = 250
darken = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 44
value = S730,3
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 90,0
trigger1 = time > 200
value = S730,0
volume = 255
channel = -1
[State 0]
type = Projectile
projscale = 1.1,1
trigger1 = AnimElem = 44
projanim = 3001
projhits = 100
projmisstime = 1
projremovetime = 80
offset = 30,-60
attr = S, HP
damage   = 240,8
animtype = hard
guardflag = MAFD
hitflag = MAFDP
pausetime = 1,1
guard.pause = 1,60
hitsound   = S2204,122111
sparkno = S151622111
sparkxy = 0,0
guardsound = S210222,1
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = 0,0
fall = 1
fall.yvelocity = -20
airguard.velocity = -3
air.velocity = -6, 0
envshake.time =30
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90
[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;=========================================
[Statedef 2100]
type = S
movetype= A
physics= S
velset= 0,0
anim = 1110
ctrl= 0
[State 0]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
anim = 39
pos = -25,4
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
sprpriority = 3
removeongethit = 1
[State 0]
type= PlaySnd
trigger1= AnimElem= 1
value= s100, 0
volume = 255
[State 0]
type= VelSet
trigger1= AnimElem= 1
x= 33
[State 0]
type= HitDef
trigger1 = AnimElem = 1
attr= S, NA
animtype= Medium
damage = 10,5
guardflag= MA
pausetime= 0,2
sparkxy= 0,-57
sparkno= -1
hitsound= -1
guardsound= 6,0
ground.type= High
ground.slidetime= 12
ground.hittime= 60
ground.velocity= 3
air.velocity= 3
p1stateno = 2101

[State 0]
type= ChangeState
trigger1= Time= 33
value= 0
ctrl= 1



[Statedef 2101]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2101
velset = 0,0,0
[State 0]
type = Width
trigger1 = 1
edge = 40,
[State 0]
type = Explod
trigger1 = movehit = 1
anim = 37
ID = 37
pos = 40,-55
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 3
scale = 0.5,0.5
removeongethit = 1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
time = 2
add = 256,256,256
[State 0]
type = velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 5
trigger4 = AnimElem = 7
x = 2

[State 0]
type = playsnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 5
trigger4 = AnimElem = 8
trigger5 = AnimElem = 11
trigger6 = AnimElem = 13
value = 989,12
volume = 255
channel = -1




[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Hard
damage    = 15, 7
guardflag = MA
pausetime = 10,50
sparkno = s2009
guard.sparkno = 2
sparkxy = -20,-55
hitsound   = S200,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 10,50
sparkno = s2009
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S210,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
animtype  = Hard
damage    = 15, 7
guardflag = MA
pausetime = 10,50
sparkno = s2009
guard.sparkno = 2
sparkxy = -15,-45
hitsound   = S440,0
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90


[State 0]
type = HitDef
trigger1 = AnimElem = 9
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 10,50
sparkno = s2009
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S220,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -6
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90


[State 0]
type = HitDef
trigger1 = AnimElem = 12
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 10,35
sparkno = s2009
guard.sparkno = 2
sparkxy = -20,-50
hitsound   = S220,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -6
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90



[State 0]
type = HitDef
trigger1 = AnimElem = 14
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 10,1
sparkno = s2009
guard.sparkno = 2
sparkxy = -20,-65
hitsound   = S220,1
guardsound = S6,0
ground.type = trip
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -10,-7
air.velocity = -10,-7
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90
p2stateno = 1025


[State 0]
type = afterimage
trigger1 = time = 0
time = 50
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add

[State 0]
type = changestate
trigger1 = animtime = 0
value = 2102
ctrl = 1


[State 0]
type = changestate
trigger1 = p2life = 0
value = 0
ctrl = 1


[Statedef 2102]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2102

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S989,11
volume = 255
channel = -1



[State 0, Explod]
type = Explod
trigger1 = time = 80
anim = 1236
pos = 20,-10
postype = p2
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7030
pos = 0,0
postype = p1
facing = 1
vfacing = 1
supermove =999
pausemove = 999
removetime = 90
bindtime = -1
scale = 1,1
sprpriority = 15

[State 0]
type = Projectile
trigger1 = AnimElem = 15
projanim = 2001
projhits = 100
projmisstime = 1
projpriority = 300
projremovetime = 60
velocity = 8,0
offset = 30,-50
attr = S, HP
damage   = 120,20
animtype = hard
guardflag = -1
hitflag = MAFDP
pausetime = 1,1
hitsound   = S220,122
sparkno = S151622
sparkxy = 0,0
guardsound = S210,1
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = 0,0
fall = 1
fall.yvelocity = -20
airguard.velocity = -3
air.velocity = -6, 0
palfx.time = 60
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
afterimage.time = 60
afterimage.length = 25
afterimage.palcontrast = 100,100,100
afterimage.paladd =  0,0,0
afterimage.palmul = .50, .50, .50
afterimage.framegap = 2
afterimage.trans = add
envshake.time =30
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90


[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 80
value = -1500

[State 0]
type= AllPalFX
trigger1= AnimElem = 1
time= 15
add= 0,0,0
mul= 256,256,256
sinadd	= 0,0,0,1
invertall= 0
color= (Time*5)

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 15
time = 35
color = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 15
time = 58
add = 0,-80,-256
mul = 336,356,56
sinadd = 0,0,0,1
invertall = 0
color = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 80
time = 20
add = 256,256,0256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = S989,1
volume = 255
channel = -1




[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno = 2102
id = 37
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x  +60
y = p2bodydist y  -0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,0
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
trigger2 = animelem = 11
trigger3 = animelem = 13
value = S210,0
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 14
value = S700,0
volume = 255
channel = -1



[State 0, Turn]
type = Turn
trigger1 = time = 0


[State 0, SuperPause]
type = SuperPause
trigger1 = time = 10
time = 35
anim = 12563
movetime = 30
darken = 0
p2defmul = 0
poweradd = 0
unhittable = 1


[State 0]
type = changestate
trigger1 = animtime = 0
value = 20058
ctrl = 1






;=========================================
[Statedef 12100]
type = S
movetype= A
physics= S
velset= 0,0
anim = 11107
ctrl= 0
[State 0]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
anim = 39
pos = -25,4
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
sprpriority = 3
removeongethit = 1
[State 0]
type= PlaySnd
trigger1= AnimElem= 1
value= s100, 0
volume = 255
[State 0]
type= VelSet
trigger1= AnimElem= 1
x= 33
[State 0]
type= HitDef
trigger1 = AnimElem = 1
attr= S, NA
animtype= Medium
damage = 10,5
guardflag= MA
pausetime= 0,2
sparkxy= 0,-57
sparkno= -1
hitsound= -1
guardsound= 6,0
ground.type= High
ground.slidetime= 12
ground.hittime= 60
ground.velocity= 3
air.velocity= 3
p1stateno = 12101

[State 0]
type= ChangeState
trigger1= Time= 33
value= 0
ctrl= 1



[Statedef 12101]
type = S
movetype = A
physics = S
ctrl = 0
anim = 12101
velset = 0,0,0
[State 0]
type = Width
trigger1 = 1
edge = 40,
[State 0]
type = Explod
trigger1 = movehit = 1
anim = 37
ID = 37
pos = 40,-55
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 3
scale = 0.5,0.5
removeongethit = 1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
time = 2
add = 256,256,256
[State 0]
type = velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 5
trigger4 = AnimElem = 7
x = 2

[State 0]
type = playsnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 5
trigger4 = AnimElem = 8
trigger5 = AnimElem = 11
trigger6 = AnimElem = 13
value = 989,12
volume = 255
channel = -1




[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Hard
damage    = 15, 7
guardflag = MA
pausetime = 5,50
sparkno = s2009
guard.sparkno = 2
sparkxy = -20,-55
hitsound   = S200,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 5,50
sparkno = s2009
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S210,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
animtype  = Hard
damage    = 15, 7
guardflag = MA
pausetime = 5,50
sparkno = s2009
guard.sparkno = 2
sparkxy = -15,-45
hitsound   = S440,0
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90


[State 0]
type = HitDef
trigger1 = AnimElem = 9
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 5,50
sparkno = s2009
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S220,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -6
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90


[State 0]
type = HitDef
trigger1 = AnimElem = 12
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 5,35
sparkno = s2009
guard.sparkno = 2
sparkxy = -20,-50
hitsound   = S220,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -6
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90



[State 0]
type = HitDef
trigger1 = AnimElem = 14
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 5,1
sparkno = s2009
guard.sparkno = 2
sparkxy = -20,-65
hitsound   = S220,1
guardsound = S6,0
ground.type = trip
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -10,-7
air.velocity = -10,-7
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90
p2stateno = 1025


[State 0]
type = afterimage
trigger1 = time = 0
time = 50
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add

[State 0]
type = changestate
trigger1 = animtime = 0
value = 12102
ctrl = 1


[State 0]
type = changestate
trigger1 = p2life = 0
value = 0
ctrl = 1


[Statedef 12102]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 12102

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S989,11
volume = 255
channel = -1



[State 0, Explod]
type = Explod
trigger1 = time = 80
anim = 1236
pos = 20,-10
postype = p2
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7029
pos = 0,0
postype = p1
facing = 1
vfacing = 1
supermove =999
pausemove = 999
removetime = 90
bindtime = -1
scale = 1,1
sprpriority = 15

[State 0]
type = Projectile
trigger1 = AnimElem = 15
projanim = 12001
projhits = 100
projmisstime = 1
projpriority = 300
projremovetime = 60
velocity = 8,0
offset = 30,-50
attr = S, HP
damage   = 120,20
animtype = hard
guardflag = -1
hitflag = MAFDP
pausetime = 1,1
hitsound   = S220,122
sparkno = S151622
sparkxy = 0,0
guardsound = S210,1
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = 0,0
fall = 1
fall.yvelocity = -20
airguard.velocity = -3
air.velocity = -6, 0
palfx.time = 60
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
afterimage.time = 60
afterimage.length = 25
afterimage.palcontrast = 100,100,100
afterimage.paladd =  0,0,0
afterimage.palmul = .50, .50, .50
afterimage.framegap = 2
afterimage.trans = add
envshake.time =30
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90


[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 80
value = -1500

[State 0]
type= AllPalFX
trigger1= AnimElem = 1
time= 15
add= 0,0,0
mul= 256,256,256
sinadd	= 0,0,0,1
invertall= 0
color= (Time*5)

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 15
time = 35
color = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 15
time = 58
add = 0,-80,-256
mul = 336,356,56
sinadd = 0,0,0,1
invertall = 0
color = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 80
time = 20
add = 256,256,0256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = S989,1
volume = 255
channel = -1




[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno = 2102
id = 37
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x  +60
y = p2bodydist y  -0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,0
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
trigger2 = animelem = 11
trigger3 = animelem = 13
value = S210,0
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 14
value = S700,0
volume = 255
channel = -1



[State 0, Turn]
type = Turn
trigger1 = time = 0


[State 0, SuperPause]
type = SuperPause
trigger1 = time = 10
time = 35
anim = 12563
movetime = 30
darken = 0
p2defmul = 0
poweradd = 0
unhittable = 1


[State 0]
type = changestate
trigger1 = animtime = 0
value = 20058
ctrl = 1



;===================================
[Statedef 12000]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 12000
poweradd = -2500
[State 0]
type= SuperPause
trigger1 = time = 0
time= 100
pos= -25,-110
movetime= 100
darken = 0
[State 0]
type = Explod
trigger1 = AnimElem = 1
Anim = 7031
Pos = 3,-40
sprpriority = 8
removeongethit = 1
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 1.8, 1.8
[State 0]
type = Explod
triggerall = pos y = 0
trigger1 = AnimElem = 1
Anim = 39
Pos = -60,0
facing = 1
vfacing = 1
sprpriority = 5
removeongethit = 1
removetime = 100
bindtime = -1
Postype = p1
SuperMove = 1
scale = 0.7,0.7
ownpal = 1
[State 0]
type = Explod
triggerall = pos y = 0
trigger1 = AnimElem = 1
Anim = 39
Pos = 60,0
sprpriority = 5
facing = -1
vfacing = 1
removeongethit = 1
removetime = 100
bindtime = -1
Postype = p1
SuperMove = 1
scale = 0.7,0.7
ownpal = 1
[State 0]
type = PlaySnd
trigger1 =  timemod = 90,0
trigger1 =  time < 100
value = S730,0
volume = 255
channel = -1
[State 0]
type = Explod
trigger1 = AnimElem = 1
Anim = 7029
Pos = 0,0
sprpriority = 10
removeongethit = 1
removetime = 100
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.9
[State 0]
type = Explod
triggerall = pos y = 0
trigger1 = AnimElem = 1
Anim = 7036
Pos = 2,0
sprpriority = -1
removeongethit = 1
removetime = 100
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
[State 0]
type = Explod
trigger1 = AnimElem = 1
Anim =1234
Pos = -20,-110
sprpriority = 15
removeongethit = 1
removetime = 100
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5
[State 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S730, 3
channel = -1
[State 0]
type = PlaySnd
trigger1 = Time = 10
value = S989, 9
channel = 15
volume = 255
[State 0]
type= PalFX
trigger1 = AnimElem = 2
time= 5
add= 100,100,100
mul= 256,256,256
sinadd	= -80,-80,-80,60
invertall= 0
color= 256
[State 0]
type= EnvShake
trigger1 = ((Time > 1) && ((GameTime%5) = 0))
time= 5
freq= 140
ampl= -6
phase= 50
[State 0]
type= AllPalFX
trigger1= AnimElem = 1
time= 15
add= 0,0,0
mul= 256,256,256
sinadd	= 0,0,0,1
invertall= 0
color= (Time*5)
[State 0]
type=EnvColor
trigger1=Time=0
value=0, 0, 0
time=15
under=1
[State 0]
type = Helper
trigger1 = animelem = 3
helpertype = Normal
pos= 10,-50
postype	= p1
facing = 1
stateno	= 12001
keyctrl	= 0
ownpal = 1
supermovetime = 200
pausemovetime = 200
size.xscale =1.3
size.yscale =1.3
[State 0]
type= ScreenBound
trigger1= (P2MoveType = H) || (BackEdgeBodyDist < -1)
value= 0
movecamera= 0,0
[State 0]
type = ChangeState
trigger1 = AnimTime = 0 && BackEdgeBodyDist <= 0
value = 100
ctrl = 1
[State 0]
type = ChangeState
trigger1 = AnimTime = 0 && FrontEdgeBodyDist > 0
value = 0
ctrl = 1
[Statedef 12001]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 12001
[State 0]
type = VelAdd
trigger1 = time >= 0
x = 3
[State 0]
type = Explod
trigger1 = movecontact = 1
anim = 1236
pos = 0,-20
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = 30
scale = 1,1
sprpriority = 8
removeongethit = 1
[State 0]
type= HitDef
trigger1= animelem = 1
trigger2= animelem = 2
trigger3= animelem = 3
trigger4= animelem = 4
trigger5= animelem = 5
trigger6= animelem = 6
trigger7= animelem = 7
trigger8= animelem = 8
attr= S, HP
hitflag	= MAFDP
guardflag= MA
animtype= Hard
priority= 8, Hit
damage	= 600,300
pausetime= 1,1
guard.pausetime	= 1,50
sparkno	= S1235
guard.sparkno= S1235
sparkxy	= 0,0
hitsound= S989,8
guardsound= S989,8
ground.type= Trip
air.type= Trip
ground.slidetime= 26
ground.hittime= 26
air.hittime= 26
yaccel	= 0.35
ground.velocity	= -25,-3
guard.velocity= -8
air.velocity= -25,-3
airguard.velocity= -25,-3
ground.cornerpush.veloff = 0
fall= 1
fall.recover = 0
Palfx.time = 20
palfx.add = 192,192,256
palfx.sinadd = 180,180,200,15
palfx.mul = 160,160,256
ownpal = 1
envshake.time = 30
envshake.freq = 120
envshake.ampl = -9
persistent= 0
down.bounce = 1
[State 0]
type = AfterImage
trigger1 = time = 0
time = -1
length = 50
palcontrast = 120+(var(25)=3)*50,120+(var(25)=3)*50,220-(var(25)=3)*100
paladd = -25+(var(25)=3)*15,-25+(var(25)=3)*15,-10-(var(25)=3)*15
palmul = .65+(var(25)=3)*.1,.65+(var(25)=3)*.1,.75-(var(25)=3)*.1
timegap = 2
framegap = 1
trans = add
[State 0]
type=AssertSpecial
trigger1=1
flag=NoShadow
ignorehitpause=1
[State 0]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA
ignorehitpause = 1
[State 0]
type = BgPalfx
trigger1 = movecontact = 1
time = 15
add = 256,256,256
[State 0]
type = DestroySelf
trigger1 = time = 30






;===============
[Statedef 2000]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2000
poweradd = -2500
[State 0]
type= SuperPause
trigger1 = time = 0
time= 100
pos= -25,-110
movetime= 100
darken = 0
[State 0]
type = Explod
trigger1 = AnimElem = 1
Anim = 7031
Pos = 3,-40
sprpriority = 8
removeongethit = 1
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 1.8, 1.8
[State 0]
type = Explod
triggerall = pos y = 0
trigger1 = AnimElem = 1
Anim = 39
Pos = -60,0
facing = 1
vfacing = 1
sprpriority = 5
removeongethit = 1
removetime = 100
bindtime = -1
Postype = p1
SuperMove = 1
scale = 0.7,0.7
ownpal = 1
[State 0]
type = Explod
triggerall = pos y = 0
trigger1 = AnimElem = 1
Anim = 39
Pos = 60,0
sprpriority = 5
facing = -1
vfacing = 1
removeongethit = 1
removetime = 100
bindtime = -1
Postype = p1
SuperMove = 1
scale = 0.7,0.7
ownpal = 1
[State 0]
type = PlaySnd
trigger1 =  timemod = 90,0
trigger1 =  time < 100
value = S730,0
volume = 255
channel = -1
[State 0]
type = Explod
trigger1 = AnimElem = 1
Anim = 7030
Pos = 0,0
sprpriority = 10
removeongethit = 1
removetime = 100
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.9
[State 0]
type = Explod
triggerall = pos y = 0
trigger1 = AnimElem = 1
Anim = 7032
Pos = 2,0
sprpriority = 5
removeongethit = 1
removetime = 100
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
[State 0]
type = Explod
trigger1 = AnimElem = 1
Anim =1237
Pos = -20,-110
sprpriority = 15
removeongethit = 1
removetime = 100
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5
[State 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = S730, 3
channel = -1
[State 0]
type = PlaySnd
trigger1 = Time = 10
value = S989, 9
channel = 15
volume = 255
[State 0]
type= PalFX
trigger1 = AnimElem = 2
time= 5
add= 100,100,100
mul= 256,256,256
sinadd	= -80,-80,-80,60
invertall= 0
color= 256
[State 0]
type= EnvShake
trigger1 = ((Time > 1) && ((GameTime%5) = 0))
time= 5
freq= 140
ampl= -4
phase= 50
[State 0]
type= AllPalFX
trigger1= AnimElem = 1
time= 15
add= 0,0,0
mul= 256,256,256
sinadd	= 0,0,0,1
invertall= 0
color= (Time*5)
[State 0]
type=EnvColor
trigger1=Time=0
value=0, 0, 0
time=15
under=1
[State 0]
type = Helper
trigger1 = animelem = 3
helpertype = Normal
pos= 10,-50
postype	= p1
facing = 1
stateno	= 2001
keyctrl	= 0
ownpal = 1
supermovetime = 200
pausemovetime = 200
[State 0]
type= ScreenBound
trigger1= (P2MoveType = H) || (BackEdgeBodyDist < -1)
value= 0
movecamera= 0,0
[State 0]
type = ChangeState
trigger1 = AnimTime = 0 && BackEdgeBodyDist <= 0
value = 100
ctrl = 1
[State 0]
type = ChangeState
trigger1 = AnimTime = 0 && FrontEdgeBodyDist > 0
value = 0
ctrl = 1
[Statedef 2001]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 2001
[State 0]
type = VelAdd
trigger1 = time >= 0
x = 3
[State 0]
type = Explod
trigger1 = movecontact = 1
anim = 1236
pos = 0,-20
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = 30
scale = 1,1
sprpriority = 8
removeongethit = 1
[State 0]
type= HitDef
trigger1= 1
attr= S, HP
hitflag	= MAFDP
guardflag= MA
animtype= Hard
priority= 7, Hit
damage	= 500,200
pausetime= 1,4
guard.pausetime	= 1,50
sparkno	= S1235
guard.sparkno= S1235
sparkxy	= 0,0
hitsound= S213,0
guardsound= S989,8
ground.type= Trip
air.type= Trip
ground.slidetime= 26
ground.hittime= 26
air.hittime= 26
yaccel	= 0.35
ground.velocity	= -25,-3
guard.velocity= -8
air.velocity= -25,-3
airguard.velocity= -25,-3
ground.cornerpush.veloff = 0
fall= 1
fall.recover = 0
Palfx.time = 20
palfx.add = 192,192,256
palfx.sinadd = 180,180,200,15
palfx.mul = 160,160,256
ownpal = 1
envshake.time = 30
envshake.freq = 120
envshake.ampl = -9
persistent= 0
down.bounce = 1
[State 0]
type = AfterImage
trigger1 = time = 0
time = -1
length = 50
palcontrast = 120+(var(25)=3)*50,120+(var(25)=3)*50,220-(var(25)=3)*100
paladd = -25+(var(25)=3)*15,-25+(var(25)=3)*15,-10-(var(25)=3)*15
palmul = .65+(var(25)=3)*.1,.65+(var(25)=3)*.1,.75-(var(25)=3)*.1
timegap = 2
framegap = 1
trans = add
[State 0]
type=AssertSpecial
trigger1=1
flag=NoShadow
ignorehitpause=1
[State 0]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA
ignorehitpause = 1
[State 0]
type = BgPalfx
trigger1 = movecontact = 1
time = 15
add = 256,256,256
[State 0]
type = DestroySelf
trigger1 = movecontact = 1




;================================================


[Statedef 11107]
type = S
movetype= A
physics= S
velset= 0,0
anim = 11107
ctrl= 0
[State 0]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
anim = 39
pos = -25,4
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
sprpriority = 3
removeongethit = 1
[State 0]
type= PlaySnd
trigger1= AnimElem= 1
value= s100, 0
volume = 255
[State 0]
type= VelSet
trigger1= AnimElem= 1
x= 33
[State 0]
type= HitDef
trigger1 = AnimElem = 1
attr= S, NA
animtype= Medium
damage = 10,5
guardflag= MA
pausetime= 0,2
sparkxy= 0,-57
sparkno= -1
hitsound= -1
guardsound= 6,0
ground.type= High
ground.slidetime= 12
ground.hittime= 60
ground.velocity= 3
air.velocity= 3
p1stateno = 1111273

[State 0]
type= ChangeState
trigger1= Time= 33
value= 0
ctrl= 1



[Statedef 1111273]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1111273
velset = 0,0,0
[State 0]
type = Width
trigger1 = 1
edge = 40,
[State 0]
type = Explod
trigger1 = movehit = 1
anim = 37
pos = 40,-55
postype = p1
facing = 1
vfacing = 1
bindtime = -1
;removetime = 40
sprpriority = 3
scale = 0.5,0.5
removeongethit = 1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
time = 2
add = 256,256,256
[State 0]
type = velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 5
trigger4 = AnimElem = 7
x = 2

[State 0]
type = playsnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 5
trigger4 = AnimElem = 7
value = 220,0
volume = 255
channel = -1

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Hard
damage    = 15, 7
guardflag = MA
pausetime = 1,50
sparkno = s2009
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S200,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 1,50
sparkno = s2009
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S210,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
animtype  = Hard
damage    = 15, 7
guardflag = MA
pausetime = 1,50
sparkno = s2009
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S440,0
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90


[State 0]
type = HitDef
trigger1 = AnimElem = 9
attr = S, NA
animtype  = light
damage    = 15, 7
guardflag = MA
pausetime = 1,50
sparkno = s2009
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S220,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -6
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90


[State 0]
type = afterimage
trigger1 = time = 0
time = 80
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add

[State 0]
type = changestate
trigger1 = time = 80
value = 111127
ctrl = 1


[State 0]
type = changestate
trigger1 = p2life = 0
value = 0
ctrl = 1




[Statedef 111127]
type = S
movetype = A
physics = S
ctrl = 0
anim = 11117
velset = 0,0,0




[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 16
value = S620,0
volume = 255
channel = -1
[State 0, EnvShake]
type = EnvShake
trigger1 = time = 16
time = 25
freq = 60
ampl = -6
phase = 90

[State 0]
type = Explod
trigger1 = time = 16
anim = 37
pos = 0,-55
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 20
removeongethit = 1



[State 0]
type = Width
trigger1 = 1
edge = 40,

[State 0]
type = playsnd
trigger1 = AnimElem = 1
value = 210,0
volume = 255
channel = -1

[State 0]
type = Pause
triggerall = movehit
trigger1 = gametime%4 = 0
time  = 6


[State 0, VelSet]
type = VelSet
trigger1 = time > 17
x = -2

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time > 17
value = -10



[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Hard
damage    = 0, 0
guardflag = MA
pausetime = 1,15
sparkno = s50211
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S620,0545
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
p2stateno = 25251





[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 11127
ctrl = 1



[Statedef 11127]
type = S
movetype = A
physics = N
velset = 0, 0
poweradd = -2000
ctrl = 0
anim = 11127

[State 0, SprPriority]
type = SprPriority
trigger1 = stateno = 11127
value = -1


[State 0]
type = HitBy
trigger1 = AnimElemtime(4) = 0
value = SCA, AA, AT, HP
time = 25
[State 0]
type = PlaySnd
trigger1 = animelem = 2
value = 989, 6
channel = -1
volume = 255

[State 0]
type = PlaySnd
trigger1 = time = 30
value = 989, 7
channel = -1
volume = 255

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 1234
pos = 30,-55
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.3,0.3
sprpriority = 8
removeongethit = 1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [10,80]
time = 1
add = 0,-80+((time-58)*4),-256+((time-58)*13)
mul = 336-((time-58)*4),356-((time-58)*5),56+((time-58)*10)
sinadd = 0,0,0,1
invertall = 0
color = 0


[State 0]
type = Helper
trigger1 = AnimElem =3
postype = p1
pos = 0,-10
stateno = 1114
bindtime = 999
ownpal = 1
name = "especial"
ID = 1114
size.xscale = 1.5
size.yscale = 1.5
[State 0]
type = Varset
trigger1 = Numhelper(1114) = 1
trigger1 = helper(1114), movehit
var(0) = 1
[State 0]
type = Screenbound
trigger1 = var(0) = 1
value = 0
movecamera = 0,0
[State 0]
type = Varset
trigger1 = !time && Var(0)
var(0) = 0
[State 0]
type = ChangeState
trigger1 = Time =135 && backedgedist < -10
value = 11157
[State 0]
type = ChangeState
trigger1 = Time =135 && backedgedist >= -10
value = 0
ctrl = 1

[Statedef 11157]
type = S
movetype = I
physics = N
anim = 10100
velset = 0,0
ctrl = 0
[State 0]
type = Screenbound
trigger1 = 1
movecamera = 0,0
[State 0]
type = PlaySnd
trigger1 = time =0
volume = 255
value = 40,0
[State 0]
type = PosSet
trigger1 = !time
y = 0
[State 0]
type = NotHitBy
trigger1 = 1
value = SCA, AA, AP, AT
[State 0]
type = VelSet
trigger1 = backedgebodydist < 70
x = 15
[State 0]
type = VelSet
trigger1 = backedgebodydist >= 70
x = 0
[State 0]
type = PlayerPush
trigger1 = backedgebodydist < 70
value = 0
[State 0]
type = ChangeState
trigger1 = backedgebodydist >= 70
value = 0
ctrl = 1


[Statedef 1114]
type = S
movetype = A
physics = N
velset = 0,0
anim = 1113
sprpriority = 20
juggle = 2
ctrl = 0
[State 0]
type = Explod
triggerall = parent, stateno !=1116
trigger1 = gametime%3 = 0 && time > 5
anim = 39
scale = 1,1
postype = p1
pos = 0+((time-5)*25),90
sprpriority = 4
supermove = 1
ownpal = 1
vel = 0,0
[State 0]
type = BindToParent
trigger1 = 1
time = 1
pos = 49, -67
[State 0]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
[State 0]
type = PlayerPush
trigger1 = Time >= 0
value = 0
[State 0]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype = Hard
damage = 500,20
hitflag = MAF
guardflag = MA
pausetime = 0, 9
sparkno = S996
sparkxy = 0,0
hitsound = s213,0
ground.type = High
ground.slidetime = 13
ground.hittime = 26
ground.velocity = -30,-2
guard.velocity = -4
air.velocity = -30,-2
airguard.velocity = -4,-2
down.velocity = -30,-1
down.hittime = 26
getpower = 0
fall = 1
fall.recover = 0
envshake.time = 80
envshake.freq = 140
envshake.ampl = 8
palfx.time = 80
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
p2stateno = 1116

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  movehit = 1
value = S989,8
volume = 255
channel = -1


[State -2]
type = PlaySnd
trigger1 = Time = 20
value = s989,1
volume = 255

[State -2]
type = Explod
trigger1 = time = 20
anim = 1235
pos = 0,0
postype = p2
bindtime = -1
sprpriority = 10
ownpal = 1


[State 0]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, AA, AP, AT
ignorehitpause = 1
[State 0]
type = ParentVarSet
trigger1 = UniqHitCount != Var(20)
v = 19
value = 1
[State 0]
type = VarSet
trigger1 = UniqHitCount != Var(20)
v = 20
value = UniqHitCount
[State 0]
type = DestroySelf
trigger1 = time = 60


[Statedef 1116]
type    = A
movetype= H
physics = N
velset = 0,0




[State 1025, Anim]
type = ChangeAnim
trigger1 = 1
value = 5050 + ifelse(var(5)=1,10000,0)

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 302699

[Statedef 302699]
type    = A
movetype= H
physics = N

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1


[State 0, ]
type = VelAdd
trigger1 = 1
y = .1

[State 1026, Hit wall]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 106899

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100


;------------------
; Hit by Fast Kung Fu Palm - hit wall
; (a custom gethit state)
[Statedef 106899]
type    = A
movetype= H
physics = N

[State 1027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3


[State 1027, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 5030+ ifelse(var(5)=1,10000,0)



[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0 || time >= 5
value = 106999

;------------------
; Hit by Fast Kung Fu Palm - bounce off wall
; (a custom gethit state)
[Statedef 106999]
type    = A
movetype= H
physics = N

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = 4

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)


[State 0, 2]
type = Gravity
trigger1 = 1
;ignorehitpause = 0
;persistent = 1



[State 1028, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050+ ifelse(var(5)=1,10000,0)

[State 1028, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052+ ifelse(var(5)=1,10000,0)

[State 1028, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050+ ifelse(var(5)=1,10000,0)
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060+ ifelse(var(5)=1,10000,0)

[State 1028, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052+ ifelse(var(5)=1,10000,0)
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062+ ifelse(var(5)=1,10000,0)

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

[Statedef 25251]
type    = S
movetype= A
physics = S
velset = 0,0,0
juggle = 4
ctrl = 0


[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var (5) =0
trigger1 = time = 0
value = 200

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var (5) =1
trigger1 = time = 0
value = 10200


[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 2
time = 2
add = 256,256,256

[State 0, SprPriority]
type = SprPriority
trigger1 = stateno =25251
value = 2

[State 0]
type = ChangeState
trigger1 = time = 25
value = 25252
ctrl = 1

[Statedef 25252]
type    = S
movetype= A
physics = S
velset = 0,0,0
juggle = 4
ctrl = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var (5) =0
trigger1 = time = 0
value = 5000

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var (5) =1
trigger1 = time = 0
value = 15000

[State 0]
type = ChangeState
trigger1 = time = 100
value = 0
ctrl = 1



;========================================================
[Statedef 1110]
type = S
movetype= A
physics= S
velset= 0,0
anim = 1110
ctrl= 0
[State 0]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
anim = 39
pos = -25,4
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
sprpriority = 3
removeongethit = 1
[State 0]
type= PlaySnd
trigger1= AnimElem= 1
value= s100, 0
volume = 255
[State 0]
type= VelSet
trigger1= AnimElem= 1
x= 33
[State 0]
type= HitDef
trigger1 = AnimElem = 1
attr= S, NA
animtype= Medium
damage = 10,5
guardflag= MA
pausetime= 0,2
sparkxy= 0,-57
sparkno= -1
hitsound= -1
guardsound= 6,0
ground.type= High
ground.slidetime= 12
ground.hittime= 60
ground.velocity= 3
air.velocity= 3
p1stateno = 11112

[State 0]
type= ChangeState
trigger1= Time= 33
value= 0
ctrl= 1


[Statedef 11112]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1111
velset = 0,0,0




[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 16
value = S620,0
volume = 255
channel = -1
[State 0, EnvShake]
type = EnvShake
trigger1 = time = 16
time = 25
freq = 60
ampl = -6
phase = 90

[State 0]
type = Explod
trigger1 = time = 16
anim = 37
pos = 0,-55
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 20
removeongethit = 1



[State 0]
type = Width
trigger1 = 1
edge = 40,

[State 0]
type = playsnd
trigger1 = AnimElem = 1
value = 210,0
volume = 255
channel = -1

[State 0]
type = Pause
triggerall = movehit
trigger1 = gametime%4 = 0
time  = 6


[State 0, VelSet]
type = VelSet
trigger1 = time > 17
x = -2

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time > 17
value = -10



[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Hard
damage    = 0, 0
guardflag = MA
pausetime = 1,15
sparkno = s50211
guard.sparkno = 2
sparkxy = -30,-60
hitsound   = S620,0545
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
p2stateno = 25251





[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 1112
ctrl = 1



[Statedef 1112]
type = S
movetype = A
physics = N
velset = 0, 0
poweradd = -2000
ctrl = 0
anim = 1112

[State 0, SprPriority]
type = SprPriority
trigger1 = stateno = 1112
value = -1


[State 0]
type = HitBy
trigger1 = AnimElemtime(4) = 0
value = SCA, AA, AT, HP
time = 25
[State 0]
type = PlaySnd
trigger1 = animelem = 2
value = 989, 6
channel = -1
volume = 255

[State 0]
type = PlaySnd
trigger1 = time = 30
value = 989, 7
channel = -1
volume = 255

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 1234
pos = 30,-55
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.3,0.3
sprpriority = 8
removeongethit = 1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [10,80]
time = 1
add = 0,-80+((time-58)*4),-256+((time-58)*13)
mul = 336-((time-58)*4),356-((time-58)*5),56+((time-58)*10)
sinadd = 0,0,0,1
invertall = 0
color = 0


[State 0]
type = Helper
trigger1 = AnimElem =3
postype = p1
pos = 0,-10
stateno = 1114
bindtime = 999
ownpal = 1
name = "especial"
ID = 1114
;persistent = 0
[State 0]
type = Varset
trigger1 = Numhelper(1114) = 1
trigger1 = helper(1114), movehit
var(0) = 1
[State 0]
type = Screenbound
trigger1 = var(0) = 1
value = 0
movecamera = 0,0
[State 0]
type = Varset
trigger1 = !time && Var(0)
var(0) = 0
[State 0]
type = ChangeState
trigger1 = Time =135 && backedgedist < -10
value = 1115
[State 0]
type = ChangeState
trigger1 = Time =135 && backedgedist >= -10
value = 0
ctrl = 1

[Statedef 1115]
type = S
movetype = I
physics = N
anim = 100
velset = 0,0
ctrl = 0
[State 0]
type = Screenbound
trigger1 = 1
movecamera = 0,0
[State 0]
type = PlaySnd
trigger1 = time =0
volume = 255
value = 40,0
[State 0]
type = PosSet
trigger1 = !time
y = 0
[State 0]
type = NotHitBy
trigger1 = 1
value = SCA, AA, AP, AT
[State 0]
type = VelSet
trigger1 = backedgebodydist < 70
x = 15
[State 0]
type = VelSet
trigger1 = backedgebodydist >= 70
x = 0
[State 0]
type = PlayerPush
trigger1 = backedgebodydist < 70
value = 0
[State 0]
type = ChangeState
trigger1 = backedgebodydist >= 70
value = 0
ctrl = 1


[Statedef 1114]
type = S
movetype = A
physics = N
velset = 0,0
anim = 1113
sprpriority = 20
juggle = 2
ctrl = 0
[State 0]
type = Explod
triggerall = parent, stateno !=1116
trigger1 = gametime%3 = 0 && time > 5
anim = 39
scale = 1,1
postype = p1
pos = 0+((time-5)*25),90
sprpriority = 4
supermove = 1
ownpal = 1
vel = 0,0
[State 0]
type = BindToParent
trigger1 = 1
time = 1
pos = 49, -67
[State 0]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
[State 0]
type = PlayerPush
trigger1 = Time >= 0
value = 0
[State 0]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype = Hard
damage = 500,20
hitflag = MAF
guardflag = MA
pausetime = 0, 9
sparkno = S996
sparkxy = 0,0
hitsound = s213,0
ground.type = High
ground.slidetime = 13
ground.hittime = 26
ground.velocity = -30,-2
guard.velocity = -4
air.velocity = -30,-2
airguard.velocity = -4,-2
down.velocity = -30,-1
down.hittime = 26
getpower = 0
fall = 1
fall.recover = 0
envshake.time = 80
envshake.freq = 140
envshake.ampl = 8
palfx.time = 80
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
p2stateno = 1116

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  movehit = 1
value = S989,8
volume = 255
channel = -1


[State -2]
type = PlaySnd
trigger1 = Time = 20
value = s989,1
volume = 255

[State -2]
type = Explod
trigger1 = time = 20
anim = 1235
pos = 0,0
postype = p2
bindtime = -1
sprpriority = 10
ownpal = 1


[State 0]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, AA, AP, AT
ignorehitpause = 1
[State 0]
type = ParentVarSet
trigger1 = UniqHitCount != Var(20)
v = 19
value = 1
[State 0]
type = VarSet
trigger1 = UniqHitCount != Var(20)
v = 20
value = UniqHitCount
[State 0]
type = DestroySelf
trigger1 = time = 60


[Statedef 1116]
type    = A
movetype= H
physics = N
velset = 0,0




[State 1025, Anim]
type = ChangeAnim
trigger1 = 1
value = 5050 + ifelse(var(5)=1,10000,0)

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 302699

[Statedef 302699]
type    = A
movetype= H
physics = N

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1


[State 0, ]
type = VelAdd
trigger1 = 1
y = .1

[State 1026, Hit wall]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 106899

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100


;------------------
; Hit by Fast Kung Fu Palm - hit wall
; (a custom gethit state)
[Statedef 106899]
type    = A
movetype= H
physics = N

[State 1027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3


[State 1027, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 5030+ ifelse(var(5)=1,10000,0)



[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0 || time >= 5
value = 106999

;------------------
; Hit by Fast Kung Fu Palm - bounce off wall
; (a custom gethit state)
[Statedef 106999]
type    = A
movetype= H
physics = N

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = 4

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)


[State 0, 2]
type = Gravity
trigger1 = 1
;ignorehitpause = 0
;persistent = 1



[State 1028, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050+ ifelse(var(5)=1,10000,0)

[State 1028, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052+ ifelse(var(5)=1,10000,0)

[State 1028, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050+ ifelse(var(5)=1,10000,0)
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060+ ifelse(var(5)=1,10000,0)

[State 1028, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052+ ifelse(var(5)=1,10000,0)
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062+ ifelse(var(5)=1,10000,0)

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

[Statedef 25251]
type    = S
movetype= A
physics = S
velset = 0,0,0
juggle = 4
ctrl = 0


[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var (5) =0
trigger1 = time = 0
value = 200

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var (5) =1
trigger1 = time = 0
value = 10200


[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 2
time = 2
add = 256,256,256

[State 0, SprPriority]
type = SprPriority
trigger1 = stateno =25251
value = 2

[State 0]
type = ChangeState
trigger1 = time = 25
value = 25252
ctrl = 1

[Statedef 25252]
type    = S
movetype= A
physics = S
velset = 0,0,0
juggle = 4
ctrl = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var (5) =0
trigger1 = time = 0
value = 5000

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var (5) =1
trigger1 = time = 0
value = 15000

[State 0]
type = ChangeState
trigger1 = time = 100
value = 0
ctrl = 1
;==========================
[Statedef 15143]
type    = S
movetype= A
physics = S
velset = 0,0,0
juggle = 4
ctrl = 0
poweradd= -100
anim = 15143

[State 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 989,4
volume = 255
channel = -1

[State 0]
type= PalFX
trigger1= (!Time)
time= 5
add= 0,0,0
mul= 256,256,256
sinadd= -100,-100,-100, 10
invertall= 0
color= 256

[State 0]
type= BGPalFX
trigger1= ProjContact = 1
time= 5
add= 75,75,75
mul= 256,256,256
sinadd	= 80,80,80,4
invertall= 0
color	= 256
ignorehitpause= 1

[State 0]
type = Explod
trigger1 = animelem = 2
anim = 1517
postype = p1
pos = 43, -58
sprpriority = 3
bindtime = -1
removeongethit = 1
scale = 0.3,0.3
[State 1514]
type = Projectile
trigger1 = AnimElem = 2
projanim = 1515
projhitanim = 1516
projshadow = 0,0,0
projpriority = 4
projremovetime = 100
velocity = 8, IfElse(Random <= 499,-0.8,0.8)
accel = 1, IfElse(Random <= 799,-0.1,0.1)
offset = 30,-55
projid = 1515
attr = S, SP
damage   = 10,5
animtype = hard
guardflag = MA
hitflag = MAFPDP
pausetime = 1,3
hitsound = s989,5
guardsound = S989,5
sparkno = -1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.animtype = Low
air.velocity = -1,-1
air.juggle = 2
projscale = 0.6, 0.6
palfx.time= 12
palfx.mul= 256,256,256
palfx.add= 100,100,100
palfx.sinadd= 175,25,5,4
envshake.time = 12
envshake.freq = 120
envshake.ampl = -4
afterimage.time = 20
afterimage.length = 25
afterimage.palcontrast = 100,100,100
afterimage.paladd =  0,0,0
afterimage.palmul = .50, .50, .50
afterimage.framegap = 2
afterimage.trans = add



[State 0]
type = ChangeState
triggerall = command = "c"
triggerall = power >=100
trigger1 = time > 15
trigger1 = time < 30
value =   15144
ctrl = 0

[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;==========================
[Statedef 15144]
type    = S
movetype= A
physics = S
velset = 0,0,0
juggle = 4
ctrl = 0
poweradd= -100
anim = 15144

[State 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 989,4
volume = 255
channel = -1

[State 0]
type= PalFX
trigger1= (!Time)
time= 5
add= 0,0,0
mul= 256,256,256
sinadd= -100,-100,-100, 10
invertall= 0
color= 256

[State 0]
type= BGPalFX
trigger1= ProjContact = 1
time= 5
add= 75,75,75
mul= 256,256,256
sinadd	= 80,80,80,4
invertall= 0
color	= 256
ignorehitpause= 1

[State 0]
type = Explod
trigger1 = animelem = 2
anim = 1517
postype = p1
pos = 46, -58
sprpriority = 3
bindtime = -1
removeongethit = 1
scale = 0.3,0.3
[State 1514]
type = Projectile
trigger1 = AnimElem = 2
projanim = 1515
projhitanim = 1516
projshadow = 0,0,0
projpriority = 4
projremovetime = 100
velocity = 8, IfElse(Random <= 499,-0.8,0.8)
accel = 1, IfElse(Random <= 799,-0.1,0.1)
offset = 30,-59
projid = 1515
attr = S, SP
damage   = 10,5
animtype = hard
guardflag = MA
hitflag = MAFPDP
pausetime = 1,3
hitsound = s989,5
guardsound = S989,5
sparkno = -1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.animtype = Low
air.velocity = -1,-1
air.juggle = 2
projscale = 0.6, 0.6
palfx.time= 12
palfx.mul= 256,256,256
palfx.add= 100,100,100
palfx.sinadd= 175,25,5,4
envshake.time = 12
envshake.freq = 120
envshake.ampl = -4
afterimage.time = 20
afterimage.length = 25
afterimage.palcontrast = 100,100,100
afterimage.paladd =  0,0,0
afterimage.palmul = .50, .50, .50
afterimage.framegap = 2
afterimage.trans = add

[State 0]
type = ChangeState
triggerall = command = "c"
triggerall = power >=100
trigger1 = time > 15
trigger1 = time < 30
value =   15143
ctrl = 0

[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;==========================
[Statedef 1514]
type    = S
movetype= A
physics = S
velset = 0,0,0
juggle = 4
ctrl = 0
poweradd= -100
anim = 1514

[State 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 989,4
volume = 255
channel = -1

[State 0]
type= PalFX
trigger1= (!Time)
time= 5
add= 0,0,0
mul= 256,256,256
sinadd= -100,-100,-100, 10
invertall= 0
color= 256

[State 0]
type= BGPalFX
trigger1= ProjContact = 1
time= 10
add= 75,75,75
mul= 256,256,256
sinadd	= 80,80,80,4
invertall= 0
color	= 256
ignorehitpause= 1

[State 0]
type = Explod
trigger1 = animelem = 2
anim = 15179
postype = p1
pos = 43, -58
sprpriority = 3
bindtime = -1
removeongethit = 1
scale = 0.3,0.3
[State 1514]
type = Projectile
trigger1 = AnimElem = 2
projanim = 15158
projhitanim = 1516
projshadow = 0,0,0
projpriority = 4
projremovetime = 100
velocity = 8, IfElse(Random <= 499,-0.8,0.8)
accel = 1.5, IfElse(Random <= 799,-0.1,0.1)
offset = 30,-55
projid = 1515
attr = S, SP
damage   = 15,7
animtype = hard
guardflag = MA
hitflag = MAFPDP
pausetime = 1,6
hitsound = s989,5
guardsound = S989,5
sparkno = -1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.animtype = Low
air.velocity = -1,-1
air.juggle = 2
projscale = 0.8, 0.8
palfx.time= 12
palfx.mul= 256,256,256
palfx.add= 100,100,100
palfx.sinadd= 175,25,5,4
envshake.time = 12
envshake.freq = 120
envshake.ampl = -4
afterimage.time = 20
afterimage.length = 25
afterimage.palcontrast = 100,100,100
afterimage.paladd =  0,0,0
afterimage.palmul = .50, .50, .50
afterimage.framegap = 2
afterimage.trans = add



[State 0]
type = ChangeState
triggerall = command = "c"
triggerall = power >=100
trigger1 = time > 15
trigger1 = time < 30
value =   15159
ctrl = 0

[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;==========================
[Statedef 15159]
type    = S
movetype= A
physics = S
velset = 0,0,0
juggle = 4
ctrl = 0
poweradd= -100
anim = 15159

[State 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 989,4
volume = 255
channel = -1

[State 0]
type= PalFX
trigger1= (!Time)
time= 5
add= 0,0,0
mul= 256,256,256
sinadd= -100,-100,-100, 10
invertall= 0
color= 256

[State 0]
type= BGPalFX
trigger1= ProjContact = 1
time= 10
add= 75,75,75
mul= 256,256,256
sinadd	= 80,80,80,4
invertall= 0
color	= 256
ignorehitpause= 1

[State 0]
type = Explod
trigger1 = animelem = 2
anim = 15179
postype = p1
pos = 46, -58
sprpriority = 3
bindtime = -1
removeongethit = 1
scale = 0.3,0.3
[State 1514]
type = Projectile
trigger1 = AnimElem = 2
projanim = 15158
projhitanim = 1516
projshadow = 0,0,0
projpriority = 4
projremovetime = 100
velocity = 8, IfElse(Random <= 499,-0.8,0.8)
accel = 1.5, IfElse(Random <= 799,-0.1,0.1)
offset = 30,-59
projid = 1515
attr = S, SP
damage   = 15,7
animtype = hard
guardflag = MA
hitflag = MAFPDP
pausetime = 1,6
hitsound = s989,5
guardsound = S989,5
sparkno = -1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.animtype = Low
air.velocity = -1,-1
air.juggle = 2
projscale = 0.8, 0.8
palfx.time= 12
palfx.mul= 256,256,256
palfx.add= 100,100,100
palfx.sinadd= 175,25,5,4
envshake.time = 12
envshake.freq = 120
envshake.ampl = -4
afterimage.time = 20
afterimage.length = 25
afterimage.palcontrast = 100,100,100
afterimage.paladd =  0,0,0
afterimage.palmul = .50, .50, .50
afterimage.framegap = 2
afterimage.trans = add

[State 0]
type = ChangeState
triggerall = power >=100
triggerall = command = "c"
trigger1 = time > 15
trigger1 = time < 30
value =   1514
ctrl = 0

[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


[Statedef 1099]
type  = S
movetype   = I
physics  = S
anim  = 1099
ctrl   = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 =  time > 0
value = -4


[State 0]
type	= Helper
trigger1= (Time > 20) && ((GameTime%10) = 0) && (Random < 249) && (NumHelper(8200) < 5)
helpertype= Normal
name= "pedras"
id= 1230
pos= 0,0
postype= p1
facing	 = 0
stateno	 = 1230
keyctrl	 = 0
ownpal	 = 1
supermovetime= 9999
pausemovetime= 9999
size.xscale= (IfElse(Random <= 799,0.75,3))
size.yscale= (IfElse(Random <= 799,0.75,3))
[State 0]
type= Helper
trigger1= (Time > 20) && ((GameTime%20) = 0) && (Random > 749) && (NumHelper(8210) < 5)
helpertype= Normal
name	= "pedras1"
id = 1231
pos = 0,0
postype	= p1
facing	= 0
stateno	= 1231
keyctrl	= 0
ownpal	 = 1
supermovetime= 9999
pausemovetime= 9999
size.xscale= (IfElse(Random <= 499,0.75,0.50))
size.yscale= (IfElse(Random <= 499,0.75,0.50))
[State 0]
type= Helper
trigger1= (Time > 20) && ((GameTime%30) = 0) && (Random = [249,749]) && (NumHelper(8220) < 5)
helpertype= Normal
name= "pedras2"
id= 1232
pos= 0,0
postype	= p1
facing	 = 0
stateno = 1232
keyctrl	= 0
ownpal = 1
supermovetime= 9999
pausemovetime= 9999
size.xscale = (IfElse(Random <= 499,0.50,0.75))
size.yscale= (IfElse(Random <= 499,0.50,0.75))
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S989,0
volume = 255
channel = 20
[State 0]
type = VarSet
trigger1 =  time = 0
v = 5
value = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 40
time = 350
freq = 60
ampl = -3
phase = 90

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 390
time = 250
freq = 120
ampl = -4
phase = 5

[State 0]
type = PlaySnd
trigger1 = time >160
trigger1 = time <600
trigger1 =timemod = 90,0
value = S730,0
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S730,3
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 18
value = S730,3
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 29
value = S989,1
volume = 255
channel = -1

[State 0, Explod]
type = Explod
trigger1 = animelem = 8
anim = 7030
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 200
supermove =-1
pausemove =-1
scale = 0.7,0.9
sprpriority = 5
removeongethit = 1


[State 0, Explod]
type = Explod
;trigger1 = animelem = 10
;trigger2 = animelem = 14
trigger1 = animelem = 18
trigger2 = animelem = 22
trigger3 = animelem = 26
trigger4 = animelem = 29
anim = 7037
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
supermove =-1
pausemove =-1
scale = 0.8,0.8
sprpriority = 10
removeongethit = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time  > 1
value = 3


[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 29
time = 90
freq = 60
ampl = -8
phase = 90



[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 700
anim = -1
pos = -1
movetime = 700
darken = 0


[State 0, PlaySnd]
type = PlaySnd
;trigger1 = animelem = 10
;trigger2 = animelem = 14
trigger1 = animelem = 18
trigger2 = animelem = 22
trigger3 = animelem = 26
trigger4 = animelem = 29
value = S989,2
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 30
value = S730,2
volume = 255
channel = -1



[state 4000,allpalfx]
type = BGPalFX
trigger1 = animelem = 18
trigger2 = animelem = 22
trigger3 = animelem = 26
time = 30
add = 0,0,0
sinadd = 255,255,255,90;60
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999

[state 4000,allpalfx]
type = BGPalFX
trigger1 = animelem = 29
time = 60
add = 0,0,0
sinadd = 255,255,255,90;60
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999

[State 0, Explod]
type = Explod
trigger1 = animelem = 8
anim = 7032
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 200
supermove =-1
pausemove =-1
;scale = 0.7,0.9
sprpriority = 3
removeongethit = 1


[State 0, Explod]
type = Explod
trigger1 = animelem = 18
anim = 7029
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 300
supermove =-1
pausemove =-1
scale = 0.7,0.9
sprpriority = 5
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 18
anim = 7036
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 300
supermove =-1
pausemove =-1
;scale = 0.7,1
sprpriority = -1
removeongethit = 1


[State 0]
type = BGPalFX
trigger1 = Time >= 0
trigger1 = time <= 355
time = 1
add = 0,0,0
color = 0

[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1




[Statedef 989]
type  = S
movetype   = I
physics  = S
anim  = 989
ctrl   = 0
poweradd  = 0
juggle  = 0
facep2  = 1
hitdefpersist  = 0
movehitpersist  = 0
hitcountpersist = 0
sprpriority     = 0
[State 0 ]
type = VelSet
trigger1 = (!Time)
x  = 15
y  = 0
[State 0]
type   = PlayerPush
trigger1   = (1)
value  = 1
[State 0]
type  = NotHitBy
trigger1 = (1)
time  = 1
value = SCA
[State 0]
type = DestroySelf
trigger1= (Time = 20)
-----------------------
[Statedef 730]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = changeanim
trigger1 = time = 0
value = 730
[State 0]
type = playsnd
trigger1 = time =10
value = s730,1
channel =18
volume = 255
[State 0]
type = playsnd
trigger1 = time = 0
value = s730,3
channel =-1
volume = 255
[State 0]
type = Explod
trigger1 = time = 0
anim = 7030
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.6,0.7
sprpriority = 6
removeongethit = 1
[State 0]
type = Explod
trigger1 = time = 0
anim = 7031
pos = 0,-50
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 2.5,2.5
sprpriority = 9
removeongethit = 1
[State 0]
type = changestate
trigger1 = animtime = 0
value = 731
[Statedef 731]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type  = Helper
trigger1 = (TimeMod = 30,0)
helpertype = normal
name = "efeito para empura"
id  = 989
pos = 0,0
postype  = p1
facing = 1
stateno = 989
keyctrl	 = 0
ownpal= 1
supermovetime= 0
pausemovetime= 0
size.xscale  = 1
size.yscale = 1
[State 0]
type = Explod
trigger1 = timemod = 9,0
anim = 7030
pos = 0,5
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.8,0.9
sprpriority = 10
removeongethit = 1
[State 0]
type = Explod
trigger1 = timemod= 15,0
anim = 7032
pos = 0,0
ID = 7030
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 2
removeongethit = 1
[State 0]
type = Explod
trigger1 = timemod= 20,0
anim = 7033
pos = 5,5
ID = 7030
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = (Time > 10) && (TimeMod = 20,0)
anim = 7034
ID = 7030
pos = 0,0
postype = p1
vel = 0,-2
accel = 0,-.8
removetime = -2
supermove = 1
scale = 0.5,0.5
sprpriority = (IfElse(Random <= 499,3,-3)) ; 30
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = (Time > 5) && (TimeMod = 20,0)
anim = 7035
ID = 7030
pos = -30,10
postype = p1
vel = 0,-2
accel = 0,-.8
removetime = -2
supermove = 1
scale = 1,1
sprpriority = (IfElse(Random <= 499,3,-3)) ; 3030
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = (Time > 5) && (TimeMod = 20,0)
anim = 7035
ID = 7030
pos = 40,10
postype = p1
vel = 0,-2
accel = 0,-.8
removetime = -2
supermove = 1
scale = 1,1
sprpriority = (IfElse(Random <= 499,3,-3)) ; 3030
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = (Time > 5) && (TimeMod = 20,0)
anim = 7035
ID = 7030
pos = 20,10
postype = p1
vel = 0,-2
accel = 0,-.8
removetime = -2
supermove = 1
scale = 0.3,0.3
sprpriority = (IfElse(Random <= 499,3,-3)) ; 3030
ownpal = 1
removeongethit = 1


[State 0]
type = Explod
trigger1 = (Time > 10) && (TimeMod = 20,0)
anim = 7034
ID = 7030
pos = 8,0
postype = p1
vel = -1,-2
accel = -1,-.8
removetime = -2
supermove = 1
scale = 0.7,0.7
sprpriority = (IfElse(Random <= 499,3,-3)) ; 3030
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = (Time > 5) && (TimeMod = 20,0)
anim = 7035
ID = 7030
pos = -15,7
postype = p1
vel = -1,-2
accel = -1,-.8
removetime = -2
supermove = 1
scale = 1.3,1.5
sprpriority = (IfElse(Random <= 499,3,-3)) ; 3030
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = (Time > 5) && (TimeMod = 20,0)
anim = 7035
ID = 7030
pos = 30,-5
postype = p1
vel = 1,-2
accel = 1,-.8
removetime = -2
supermove = 1
scale = 1.1,1.1
sprpriority = (IfElse(Random <= 499,3,-3)) ; 3030
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = (Time > 5) && (TimeMod = 20,0)
anim = 7035
ID = 7030
pos = 7,0
postype = p1
vel = 1,-2
accel = 1,-.8
removetime = -2
supermove = 1
scale = 0.4,0.3
sprpriority =(IfElse(Random <= 499,3,-3)) ; 30 30
ownpal = 1
removeongethit = 1
[State 0]
type = changeanim
trigger1 = time = 0
value = 731
[State 0]
type = BgPalfx
trigger1=time = 0
time = 3
add = 256,256,256
[State 0]
type= BGPalFX
triggerall = var(1) = 0
trigger1= ((Time > 10) && ((GameTime%30) = 0))
time= 10
add= 92,78,244
mul= 256,256,256
sinadd	= 200,200,200,4
invertall= 1
color= 256
[State 0]
type = poweradd
triggerall = var(1) = 0
trigger1 = time > 0
value = 7
[State 0]
type = poweradd
triggerall = var(1) = 1
trigger1 = time > 0
value = 8
[State 0]
type = changestate
trigger1 = command != "carregar ki"
trigger1 = command != "carregar ki2"
trigger2 = power = 3000
value = 735
[State 0]
type = envshake
triggerall = var(1) = 0
trigger1 = timemod = 6, 1
time = 5
freq = 100
ampl = -3
phase = 90
[State 0]
type = playsnd
trigger1 = timemod = 90,0
value = 730,0
volume = 255
channel = 2

[Statedef 735]
type = S
physics = S
velset = 0,0,0
ctrl = 0
[State 0]
type = ChangeAnim
trigger1 = time = 0
value = 735
[State -2]
type=RemoveExplod
trigger1=time=1
ID=7030

[State -2]
type=RemoveExplod
trigger1=time=1
ID=7030
[State 0]
type = explod
trigger1 = time = 0
anim = 7030
pos = 0,0
scale = 0.5,0.6
removeongethit = 1
sprpriority = 20
[State -2]
type=RemoveExplod
trigger1=time=1
ID=730
[State 0]
type = playsnd
trigger1 = time = 0
value = s730,2
channel = 4
volume = 255
[State 0]
type = stopsnd
trigger1 = time = 0
channel = 18

[State 0]
type = changestate
trigger1 = time = 6
value = 0
ctrl = 1
;==========================










[Statedef 730730]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = changeanim
trigger1 = time = 0
value = 730
[State 0]
type = playsnd
trigger1 = time =10
value = s730,1
channel =18
volume = 255
[State 0]
type = playsnd
trigger1 = time = 0
value = s730,3
channel =-1
volume = 255
[State 0]
type = Explod
trigger1 = time = 0
anim = 7030
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.6,0.7
sprpriority = 6
removeongethit = 1
[State 0]
type = Explod
trigger1 = time = 0
anim = 7031
pos = 0,-50
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 2.5,2.5
sprpriority = 9
removeongethit = 1
[State 0]
type = changestate
trigger1 = animtime = 0
value = 731731
[Statedef 731731]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type  = Helper
trigger1 = (TimeMod = 30,0)
helpertype = normal
name = "efeito para empura"
id  = 989
pos = 0,0
postype  = p1
facing = 1
stateno = 989
keyctrl	 = 0
ownpal= 1
supermovetime= 0
pausemovetime= 0
size.xscale  = 1
size.yscale = 1
[State 0]
type = Explod
triggerall = var(1) = 0
trigger1 = timemod = 9,0
anim = 7030
pos = 0,5
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.8,0.9
sprpriority = 10
removeongethit = 1

[State 0]
type = changeanim
trigger1 = time = 0
value = 731
[State 0]
type = BgPalfx
trigger1=time = 0
time = 3
add = 256,256,256
[State 0]
type= BGPalFX
triggerall = var(1) = 0
trigger1= ((Time > 10) && ((GameTime%30) = 0))
time= 10
add= 92,78,244
mul= 256,256,256
sinadd	= 200,200,200,4
invertall= 1
color= 256
[State 0]
type = poweradd
triggerall = var(1) = 0
trigger1 = time > 0
value = 7
[State 0]
type = poweradd
triggerall = var(1) = 1
trigger1 = time > 0
value = 8
[State 0]
type = changestate
trigger1 = command != "carregar ki"
trigger1 = command != "carregar ki2"
trigger2 = power = 3000
value = 735735
[State 0]
type = envshake
triggerall = var(1) = 0
trigger1 = timemod = 6, 1
time = 5
freq = 100
ampl = -3
phase = 90
[State 0]
type = playsnd
trigger1 = timemod = 90,0
value = 730,0
volume = 255
channel = 2

[Statedef 735735]
type = S
physics = S
velset = 0,0,0
ctrl = 0
[State 0]
type = ChangeAnim
trigger1 = time = 0
value = 735
[State -2]
type=RemoveExplod
trigger1=time=1
ID=7030

[State -2]
type=RemoveExplod
trigger1=time=1
ID=7030
[State 0]
type = explod
trigger1 = time = 0
anim = 7030
pos = 0,0
scale = 0.5,0.6
removeongethit = 1
sprpriority = 20
[State -2]
type=RemoveExplod
trigger1=time=1
ID=730
[State 0]
type = playsnd
trigger1 = time = 0
value = s730,2
channel = 4
volume = 255
[State 0]
type = stopsnd
trigger1 = time = 0
channel = 18

[State 0]
type = changestate
trigger1 = time = 6
value = 0
ctrl = 1
;==========================



[Statedef 1230]
type = S
movetype= I
physics	= N
anim= 1230
ctrl= 0
poweradd= 0
juggle= 0
facep2	= 0
pausemove = 1
hitdefpersist= 0
movehitpersist= 0
hitcountpersist= 0
sprpriority= 0
[State 0]
type= SprPriority
trigger1= (!Time)
value= (IfElse(Random <= 499,3,-3))
[State 0]
type = VelAdd
trigger1  = (vel y < 0)
x = ifelse(parentdist x<=0,-3,3)
y = ifelse(random>500,-0.05,ifelse(random>500,-0.04,ifelse(random>500,-0.03,-0.02)))
[State 0]
type= VarRandom
trigger1= (!Time)
v= 0
range= -200,200
[State 0]
type= VarSet
trigger1= (!Time)
var(1) = (Parent, StateNo)
[State 0]
type= PosSet
trigger1= (!Time)
x= var(0)
y= 0
[State 0]
type= VelSet
trigger1= (Time = 1)
x  = (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y= (IfElse(Random <= 499,-.5,-1))
[State 0]
type= VelAdd
trigger1= (Parent, StateNo != Var(1))
y= .5
[State 0]
type= PlaySnd
trigger1= (!Time) && (Const(Size.XScale) <= 1)
value= S0,3
[State 0]
type= PlaySnd
trigger1= (!Time) && (Const(Size.XScale) > 1)
value= S0,1
[State 0]
type= PlaySnd
trigger1= (Pos Y >= 1)
value= S0,2
[State 0]
type= AfterImage
trigger1 = (!Time)
time = 15
timegap	 = 1
framegap = 2
length  = 10
paladd = 0, 0, 0
palmul 	= .50, .50, .50
palcontrast = 110,110,110
trans = add
[State 0]
type= DestroySelf
trigger1= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)
[Statedef 1231]
type = S
movetype= I
physics	 = N
anim= 1231
ctrl= 0
poweradd= 0
juggle = 0
facep2= 0
pausemove = 1
hitdefpersist= 0
movehitpersist= 0
hitcountpersist= 0
sprpriority= 0
[State 0]
type= SprPriority
trigger1= (!Time)
value= (IfElse(Random <= 499,3,-3))
[State Spinning the Rocks]
type = VelAdd
trigger1  = (vel y < 0)
x = ifelse(parentdist x<=0,-3,3)
y = ifelse(random>500,-0.05,ifelse(random>500,-0.04,ifelse(random>500,-0.03,-0.02)))
[State 0]
type= VarRandom
trigger1= (!Time)
v = 0
range= -200,200
[State 0]
type= VarSet
trigger1= (!Time)
var(1)= (Parent, StateNo)
[State 0]
type= PosSet
trigger1= (!Time)
x= var(0)
y= 0
[State 0]
type= VelSet
trigger1= (Time = 1)
x= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y= (IfElse(Random <= 499,-1.5,-2.5))
[State 0]
type= VelAdd
trigger1= (Parent, StateNo != Var(1))
y= .1
[State 0]
type= PlaySnd
trigger1= (!Time)
value= S2,2
[State 0]
type= PlaySnd
trigger1= (Pos Y >= 1)
value= S1,9
[State 0]
type= AfterImage
trigger1 = (!Time)
time = 15
timegap	= 1
framegap = 2
length = 10
paladd 	= 0, 0, 0
palmul 	= .50, .50, .50
palcontrast = 110,110,110
trans = add
[State 0]
type= DestroySelf
trigger1= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)
[Statedef 1232]
type = S
movetype= I
physics= N
anim= 1232
ctrl= 0
pausemove = 1
poweradd= 0
juggle = 0
facep2 = 0
hitdefpersist= 0
movehitpersist= 0
hitcountpersist	= 0
sprpriority= 0
[State 0]
type= SprPriority
trigger1= (!Time)
value= (IfElse(Random <= 499,3,-3))
[State 0]
type = VelAdd
trigger1= (vel y < 0)
x = ifelse(parentdist x<=0,-3,3)
y = ifelse(random>500,-0.05,ifelse(random>500,-0.04,ifelse(random>500,-0.03,-0.02)))
[State 0]
type= VarRandom
trigger1= (!Time)
v= 0
range= -200,200
[State 0]
type= VarSet
trigger1= (!Time)
var(1)= (Parent, StateNo)
[State 0]
type= PosSet
trigger1= (!Time)
x= var(0)
y= 0
[State 0]
type= PosSet
trigger1= (!Time)
y= 0
[State 0]
type= VelSet
trigger1= (Time = 1)
x= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y= (IfElse(Random <= 499,-2,-3))
[State 0]
type= VelAdd
trigger1= (Parent, StateNo != Var(1))
y= .1
[State 0]
type= PlaySnd
trigger1= (!Time)
value= S2,2
[State 0]
type	= PlaySnd
trigger1= (Pos Y >= 1)
value= S1,9
[State 0]
type= AfterImage
trigger1 = (!Time)
time = 15
timegap	= 1
framegap = 2
length 	= 10
paladd 	= 0, 0, 0
palmul 	= .50, .50, .50
palcontrast = 110,110,110
trans 	= add
[State 0]
type	= DestroySelf
trigger1= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

[Statedef 10730]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = changeanim
trigger1 = time = 0
value = 10730
[State 0]
type = playsnd
trigger1 = time =10
value = s730,1
channel =18
volume = 255
[State 0]
type = playsnd
trigger1 = time = 0
value = s730,3
channel =-1
volume = 255
[State 0]
type = Explod
trigger1 = time = 0
anim = 7029
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.6,0.7
sprpriority = 6
removeongethit = 1
[State 0]
type = Explod
trigger1 = time = 0
anim = 7031
pos = 0,-50
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 2.5,2.5
sprpriority = 9
removeongethit = 1
[State 0]
type = changestate
trigger1 = animtime = 0
value = 10731
[Statedef 10731]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type	= Helper
trigger1= (Time > 20) && ((GameTime%10) = 0) && (Random < 249) && (NumHelper(8200) < 5)
helpertype= Normal
name= "pedras"
id= 1230
pos= 0,0
postype= p1
facing	 = 0
stateno	 = 1230
keyctrl	 = 0
ownpal	 = 1
supermovetime= 0
pausemovetime= 0
size.xscale= (IfElse(Random <= 799,0.75,3))
size.yscale= (IfElse(Random <= 799,0.75,3))
[State 0]
type= Helper
trigger1= (Time > 20) && ((GameTime%20) = 0) && (Random > 749) && (NumHelper(8210) < 5)
helpertype= Normal
name	= "pedras1"
id = 1231
pos = 0,0
postype	= p1
facing	= 0
stateno	= 1231
keyctrl	= 0
ownpal	 = 1
supermovetime= 0
pausemovetime= 0
size.xscale= (IfElse(Random <= 499,0.75,0.50))
size.yscale= (IfElse(Random <= 499,0.75,0.50))
[State 0]
type= Helper
trigger1= (Time > 20) && ((GameTime%30) = 0) && (Random = [249,749]) && (NumHelper(8220) < 5)
helpertype= Normal
name= "pedras2"
id= 1232
pos= 0,0
postype	= p1
facing	 = 0
stateno = 1232
keyctrl	= 0
ownpal = 1
supermovetime= 0
pausemovetime= 0
size.xscale = (IfElse(Random <= 499,0.50,0.75))
size.yscale= (IfElse(Random <= 499,0.50,0.75))



[State 0]
type  = Helper
trigger1 = (TimeMod = 30,0)
helpertype = normal
name = "efeito que impura"
id  = 989
pos = 0,0
postype  = p1
facing = 1
stateno = 989
keyctrl	 = 0
ownpal= 1
supermovetime= 0
pausemovetime= 0
size.xscale  = 1
size.yscale = 1
[State 0]
type = Explod
triggerall = var(1) = 0
trigger1 = timemod = 9,0
anim = 7029
pos = 0,5
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.8,0.9
sprpriority = 10
removeongethit = 1
[State 0]
type = Explod
trigger1 = timemod= 15,0
anim = 7036
pos = 0,0
ID = 7030
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = -1
removeongethit = 1
[State 0]
type = Explod
trigger1 = timemod= 20,0
anim = 7033
pos = 5,5
ID = 7030
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 1
removeongethit = 1


[State 0]
type = changeanim
trigger1 = time = 0
value = 10731

[State 0]
type = BgPalfx
trigger1=time = 0
time = 3
add = 256,256,256
[State 0]
type= BGPalFX
triggerall = var(1) = 0
trigger1= ((Time > 10) && ((GameTime%30) = 0))
time= 10
add= 92,78,244
mul= 256,256,256
sinadd	= 200,200,200,4
invertall= 1
color= 256
[State 0]
type = poweradd
triggerall = var(1) = 0
trigger1 = time > 0
value = 7
[State 0]
type = poweradd
triggerall = var(1) = 1
trigger1 = time > 0
value = 8
[State 0]
type = changestate
trigger1 = command != "carregar ki"
trigger1 = command != "carregar ki2"
trigger2 = power = 3000
value = 10735
[State 0]
type = envshake
trigger1 = timemod = 6, 2
time = 10
freq = 60
ampl = -4
phase = 150
[State 0]
type = playsnd
trigger1 = timemod = 90,0
value = 730,0
volume = 255
channel = 2

[Statedef 10735]
type = S
physics = S
velset = 0,0,0
ctrl = 0

[State 0]
type = ChangeAnim
trigger1 = time = 0
value = 10735



[State -2]
type=RemoveExplod
trigger1=time=1
ID=7030

[State -2]
type=RemoveExplod
trigger1=time=1
ID=7030
[State 0]
type = explod
triggerall = var(1) = 0
trigger1 = time = 0
anim = 7029
pos = 0,0
scale = 0.5,0.6
removeongethit = 1
sprpriority = 20
[State -2]
type=RemoveExplod
trigger1=time=1
ID=730
[State 0]
type = playsnd
trigger1 = time = 0
value = s730,2
channel = 4
volume = 255
[State 0]
type = stopsnd
trigger1 = time = 0
channel = 18

[State 0]
type = changestate
trigger1 = time = 6
value = 0
ctrl = 1
;==========================

[Statedef 10730730]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = changeanim
trigger1 = time = 0
value = 10730
[State 0]
type = playsnd
trigger1 = time =10
value = s730,1
channel =18
volume = 255
[State 0]
type = playsnd
trigger1 = time = 0
value = s730,3
channel =-1
volume = 255
[State 0]
type = Explod
trigger1 = time = 0
anim = 7029
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.6,0.7
sprpriority = 6
removeongethit = 1
[State 0]
type = Explod
trigger1 = time = 0
anim = 7031
pos = 0,-50
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 2.5,2.5
sprpriority = 9
removeongethit = 1
[State 0]
type = changestate
trigger1 = animtime = 0
value = 10731731
[Statedef 10731731]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type	= Helper
trigger1= (Time > 20) && ((GameTime%10) = 0) && (Random < 249) && (NumHelper(8200) < 5)
helpertype= Normal
name= "pedras"
id= 1230
pos= 0,0
postype= p1
facing	 = 0
stateno	 = 1230
keyctrl	 = 0
ownpal	 = 1
supermovetime= 0
pausemovetime= 0
size.xscale= (IfElse(Random <= 799,0.75,3))
size.yscale= (IfElse(Random <= 799,0.75,3))
[State 0]
type= Helper
trigger1= (Time > 20) && ((GameTime%20) = 0) && (Random > 749) && (NumHelper(8210) < 5)
helpertype= Normal
name	= "pedras1"
id = 1231
pos = 0,0
postype	= p1
facing	= 0
stateno	= 1231
keyctrl	= 0
ownpal	 = 1
supermovetime= 0
pausemovetime= 0
size.xscale= (IfElse(Random <= 499,0.75,0.50))
size.yscale= (IfElse(Random <= 499,0.75,0.50))
[State 0]
type= Helper
trigger1= (Time > 20) && ((GameTime%30) = 0) && (Random = [249,749]) && (NumHelper(8220) < 5)
helpertype= Normal
name= "pedras2"
id= 1232
pos= 0,0
postype	= p1
facing	 = 0
stateno = 1232
keyctrl	= 0
ownpal = 1
supermovetime= 0
pausemovetime= 0
size.xscale = (IfElse(Random <= 499,0.50,0.75))
size.yscale= (IfElse(Random <= 499,0.50,0.75))



[State 0]
type  = Helper
trigger1 = (TimeMod = 30,0)
helpertype = normal
name = "efeito que impura"
id  = 989
pos = 0,0
postype  = p1
facing = 1
stateno = 989
keyctrl	 = 0
ownpal= 1
supermovetime= 0
pausemovetime= 0
size.xscale  = 1
size.yscale = 1
[State 0]
type = Explod
triggerall = var(1) = 0
trigger1 = timemod = 9,0
anim = 7029
pos = 0,5
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.8,0.9
sprpriority = 10
removeongethit = 1

[State 0]
type = changeanim
trigger1 = time = 0
value = 10731

[State 0]
type = BgPalfx
trigger1=time = 0
time = 3
add = 256,256,256
[State 0]
type= BGPalFX
triggerall = var(1) = 0
trigger1= ((Time > 10) && ((GameTime%30) = 0))
time= 10
add= 92,78,244
mul= 256,256,256
sinadd	= 200,200,200,4
invertall= 1
color= 256
[State 0]
type = poweradd
triggerall = var(1) = 0
trigger1 = time > 0
value = 7
[State 0]
type = poweradd
triggerall = var(1) = 1
trigger1 = time > 0
value = 8
[State 0]
type = changestate
trigger1 = command != "carregar ki"
trigger1 = command != "carregar ki2"
trigger2 = power = 3000
value = 10735735
[State 0]
type = envshake
trigger1 = timemod = 6, 2
time = 10
freq = 60
ampl = -4
phase = 150
[State 0]
type = playsnd
trigger1 = timemod = 90,0
value = 730,0
volume = 255
channel = 2

[Statedef 10735735]
type = S
physics = S
velset = 0,0,0
ctrl = 0

[State 0]
type = ChangeAnim
trigger1 = time = 0
value = 10735



[State -2]
type=RemoveExplod
trigger1=time=1
ID=7030

[State -2]
type=RemoveExplod
trigger1=time=1
ID=7030
[State 0]
type = explod
triggerall = var(1) = 0
trigger1 = time = 0
anim = 7029
pos = 0,0
scale = 0.5,0.6
removeongethit = 1
sprpriority = 20
[State -2]
type=RemoveExplod
trigger1=time=1
ID=730
[State 0]
type = playsnd
trigger1 = time = 0
value = s730,2
channel = 4
volume = 255
[State 0]
type = stopsnd
trigger1 = time = 0
channel = 18

[State 0]
type = changestate
trigger1 = time = 6
value = 0
ctrl = 1
;==========================


[Statedef 78963]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0,0,0
poweradd = -300
[State 0]
type = AfterImage
trigger1 = Time = 3
time = 5
length = 20
palbright = 10,10,-40
palcontrast = 190,190,210
palpostbright = -5,-5,-10
timegap = 2
flamegap = 1
trans = add1
[State 0]
type = changeanim
triggerall = var (5) = 0
trigger1 = time = 0
value = 20008
[State 0]
type = changeanim
triggerall = var (5) = 1
trigger1 = time = 0
value = 200089
[State 0]
type = playsnd
trigger1 = animelem = 3
value = 500, 0
volume= 255
[State 0]
type = changestate
trigger1 = animtime = 0
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = command != "ufire"
trigger1 = command != "dfire"
trigger1 = command != "bufire"
trigger1 = command != "bdfire"
value = 20018
ctrl = 0
[State 0]
type = changestate
trigger1 = animtime = 0
trigger1 = command = "holdfwd"
trigger1 = command != "ufire"
trigger1 = command != "dfire"
value = 20028
[State 0]
type = changestate
trigger1 = animtime = 0
trigger1 = command = "holdback"
trigger1 = command != "bufire"
trigger1 = command != "bdfire"
value = 20038
[State 0]
type = changestate
trigger1 = animtime = 0
trigger1 = command = "holdup"
trigger1 = command != "ufire"
trigger1 = command != "bufire"
value = 20048
[State 0]
type = changestate
trigger1 = animtime = 0
trigger1 = command = "holddown"
trigger1 = command != "dfire"
trigger1 = command != "bdfire"
value = 20058
[State 0]
type = changestate
trigger1 = animtime = 0
trigger1 = command = "ufire"
value = 20068
[State 0]
type = changestate
trigger1 = animtime = 0
trigger1 = command = "bufire"
value = 20078
[State 0]
type = changestate
trigger1 = animtime = 0
trigger1 = command = "dfire"
value = 20088
[State 0]
type = changestate
trigger1 = animtime = 0
trigger1 = command = "bdfire"
value = 20098
[Statedef 20018]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = changeanim
triggerall = var (5) = 0
trigger1 = time = 0
value = 20018
[State 0]
type = changeanim
triggerall = var (5) = 1
trigger1 = time = 0
value = 200189
[State 0]
type = posadd
trigger1 = time = 0
x = P2Dist X+30
y = p2bodydist y - 0
[State 0]
type = posset
trigger1 = time = 0
y = 0
[State 0]
Type = Turn
Trigger1 = P2Dist X < 0
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
[Statedef 20028]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = posadd
trigger1 = time = 0
x = 300
[State 0]
type = changeanim
triggerall = var (5) = 0
trigger1 = time = 0
value = 20018
[State 0]
type = changeanim
triggerall = var (5) = 1
trigger1 = time = 0
value = 200189
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
[Statedef 20038]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = posadd
trigger1 = time = 0
x = -300
[State 0]
type = changeanim
trigger1 = time = 0
triggerall = var (5) = 0
value = 20018
[State 0]
type = changeanim
triggerall = var (5) = 1
trigger1 = time = 0
value = 200189
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
[Statedef 20048]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 2004, 3]
type = posadd
trigger1 = time = 0
y = -200
[State 0]
type = changeanim
trigger1 = time = 0
triggerall = var (5) = 0
value = 20018
[State 0]
type = changeanim
triggerall = var (5) = 1
trigger1 = time = 0
value = 200189
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
[Statedef 20058]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = posset
trigger1 = time = 0
y = 0
[State 0]
type = changeanim
trigger1 = time = 0
triggerall = var (5) = 0
value = 20018
[State 0]
type = changeanim
triggerall = var (5) = 1
trigger1 = time = 0
value = 200189
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
[Statedef 20068]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = posadd
trigger1 = time = 0
x = 300
y = -200
[State 0]
type = changeanim
trigger1 = time = 0
triggerall = var (5) = 0
value = 20018
[State 0]
type = changeanim
triggerall = var (5) = 1
trigger1 = time = 0
value = 200189
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
[Statedef 20078]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = posadd
trigger1 = time = 0
x = -300
y = -200
[State 0]
type = changeanim
trigger1 = time = 0
triggerall = var (5) = 0
value = 20018
[State 0]
type = changeanim
triggerall = var (5) = 1
trigger1 = time = 0
value = 200189
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
[Statedef 20088]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = posadd
trigger1 = time = 0
x = 300
[State 0]
type = posset
trigger1 = time = 0
y = 0
[State 0]
type = changeanim
trigger1 = time = 0
triggerall = var (5) = 0
value = 20018
[State 0]
type = changeanim
triggerall = var (5) = 1
trigger1 = time = 0
value = 200189
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
[Statedef 20098]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = posadd
trigger1 = time = 0
x = -300
[State 0]
type = posset
trigger1 = time = 0
y = 0
[State 0]
type = changeanim
trigger1 = time = 0
triggerall = var (5) = 0
value = 20018
[State 0]
type = changeanim
triggerall = var (5) = 1
trigger1 = time = 0
value = 200189
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;=================================
[Statedef 1510]
type = A
movetype = A
physics = A
velset = 0,-4
ctrl = 0

[State 2001, 1]
type = changeanim
triggerall = var (5) = 1
trigger1 = time = 0
value = 15109

[State 2001, 1]
type = changeanim
triggerall = var (5) = 0
trigger1 = time = 0
value = 1510

[State 0]
type = PlaySnd
trigger1 = time = 0
value = S1500,0
volume = 255
channel = -1
[State 0]
type = Explod
trigger1 = TIME  = 0
anim = 7033
id = 7033
pos = 0,10
postype = p1
facing = 1
bindtime = 1
removetime = -2
ontop = 1
shadow = 0,0,0
Scale = 0.5, 0.5
[State 0]
type = changestate
trigger1 = animtime = 0
value = 1500
ctrl = 1

;-----------
[Statedef 1500]
type = S
movetype = I
physics = N
ctrl = 0
velset = 0,0
[State 0]
type = VarSet
Trigger1 = Time = 0
var(3) = 1
[State 0]
type = ReversalDef
Trigger1 = command = "holdback"
reversal.attr = SCA, NA, SA, HA
pausetime = 0,15
hitsound = S6, 0
p1stateno = 150
[State 0]
type = VelSet
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
Trigger1 = var(2) = 0
Trigger2 = Pos Y < -405
x = 0
y = 0
[State 0]
type = ChangeAnim
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
Trigger1 = Anim != 1500 + ifelse(var(5)=1,10000,0)
value = 1500  + ifelse(var(5)=1,10000,0)
[State 0]
type = VarSet
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
Trigger1 = var(2) != 2
Trigger2 = var(2) = 2
Trigger2 = Vel Y >= 1.3
v = 2
value = 1
[State 0]
type = VarSet
Triggerall = var(2) = 1
Trigger1 = Vel Y <= -1.3
Trigger2 = P2BodyDist Y > 250
Trigger2 = Vel Y < 0
v = 2
value = 2
[State 0]
type = VelAdd
Trigger1 = var(2) = 1
y = -0.1
[State 0]
type = VelAdd
Trigger1 = var(2) = 2
y = 0.1
[State 0]
type = VelSet
Triggerall = var(2) != 0
Trigger1 = command = "holdfwd"
Trigger2 = command = "holdback"
Trigger3 = command = "holdup"
Trigger4 = command = "holddown"
y = 0
[State 0]
type = VarSet
Trigger1 = command = "holdfwd"
Trigger2 = command = "holdback"
Trigger3 = command = "holdup"
Trigger4 = command = "holddown"
v = 2
value = 0
[State 0]
type = PosSet
Trigger1 = Pos Y < -400
y = -400
[State 0]
type = PosAdd
Trigger1 = P2BodyDist Y > 250
Trigger1 = Vel Y < 0
y = 1
[State 0]
type = VelSet
Trigger1 = P2BodyDist Y > 250
Trigger1 = Vel Y < 0
y = 0
[State 0]
type = VelAdd
Trigger1 = command = "holddown"
y = 0.4
[State 0]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = Vel Y < 0
y = 0
[State 0]
type = VelAdd
Trigger1 = command = "holdup"
y = -0.3
[State 0]
type = VelSet
Trigger1 = command = "holdup"
Trigger1 = Vel Y > 0
y = 0
[State 0]
type = ChangeAnim
Trigger1 = Anim != 1504 + ifelse(var(5)=1,10000,0)
Trigger1 = command = "holdup"
value = 1504  + ifelse(var(5)=1,10000,0)
[State 0]
type = VelAdd
Trigger1 = command = "holdback"
x = -0.3
[State 0]
type = VelSet
Trigger1 = command = "holdback"
Trigger1 = Vel X > 0
x = 0
[State 0]
type = ChangeAnim
Triggerall = Anim != 1502  + ifelse(var(5)=1,10000,0)
Trigger1 = command = "holdback"
Trigger2 = command = "holddown"
value = 1502 + ifelse(var(5)=1,10000,0)
[State 0]
type = VelAdd
Trigger1 = command = "holdfwd"
x = 0.4
[State 0]
type = VelSet
Trigger1 = command = "holdfwd"
Trigger1 = Vel X < 0
x = 0
[State 0]
type = ChangeAnim
Trigger1 = Anim != 1501 + ifelse(var(5)=1,10000,0)
Trigger1 = command = "holdfwd"
value = 1501  + ifelse(var(5)=1,10000,0)
[State 0]
type = ChangeAnim
triggerall = Anim != 1503 + ifelse(var(5)=1,10000,0)
trigger1 = command = "holddown"
value = 1503  + ifelse(var(5)=1,10000,0)
[State 0]
type = Turn
Trigger1 = P2Dist X < 0
[State 0]
type = ChangeState
Trigger1 = Pos Y >= 0
value = 52
ctrl = 1
[State 0]
type = ChangeState
Trigger1 = command = "voar"
Trigger1 = command = "holddown"
value = 50
ctrl = 1
[State 0]
type = ChangeState
trigger1 = Win = 1
trigger2 = Lose = 1
value = 1512
;--;-------------------------------------------------------------------------
[Statedef 1512]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1512 + ifelse(var(5)=1,10000,0)
[State 0]
type = VelAdd
trigger1 = AnimElem = 1
trigger1 = AnimElem <= 2
x = -0.3
[State 0]
type = VelSet
trigger1 = AnimElem = 3
x = 0
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State ]
type = ChangeState
trigger1 = time = 60
value = 1513
;---------------------------------------------------------------------------
[Statedef 1513]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0
[State 0]
type = PlaySnd
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
persistent = 0
value = 21,4
[State 0]
type = PosSet
trigger1 = Vel Y = 0
y = 0
[State 0]
type = ChangeAnim
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 1513+ ifelse(var(5)=1,10000,0)
[State 0]
type = Velset
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
y = 0
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 1098]
type = S
physics = S
anim = 1098
velset = 0,0,0
poweradd = -3000
ctrl = 0
[State 0]
type  = Helper
trigger1 = (TimeMod = 30,0)
helpertype = normal
name = "efeito para empura"
id  = 989
pos = 0,0
postype  = p1
facing = 1
stateno = 989
keyctrl	 = 0
ownpal= 1
supermovetime= 0
pausemovetime= 0
size.xscale  = 1
size.yscale = 1
[State 0, Explod]
type = Explod
trigger1 = animelem = 1 || animelem = 3 || animelem = 5
anim = 7029
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 5
scale = 0.8,0.9
sprpriority = 10
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = animelem = 2 || animelem = 4 || animelem = 6
anim = 7030
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 5
scale = 0.8,0.9
sprpriority = 10
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = animelem = 7
anim = 7030
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
scale = 0.6,0.7
sprpriority = 10
removeongethit = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 =  time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 100
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = stateno = 1098
flag = nobardisplay
flag2 = nomusic
[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 5
time = 10
add = 256,256,256
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 5
value = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 1
value = S989,3
volume = 255
channel = -1
[State 0, EnvShake]
type = EnvShake
trigger1 =  animelem = 5
time = 20
freq = 60
ampl = -4
phase = 90
[State 0, PlaySnd]
type = PlaySnd
trigger1 =  animelem = 5
value = S730,2
volume = 255
channel = -1
[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
[Statedef 78999]
type    = S
movetype= A
physics = S
poweradd= -300
ctrl = 0
velset = 0
anim = 789 + ifelse(var(5)=1,10000,0)
[State 0]
type = Explod
trigger1 = Time = 0
anim = 791
ID = 791
pos = 9,-42
postype = p1
facing = 1
bindtime = -1
removetime = -1
supermove = -1
removeongethit = 1
scale = 0.5,0.5
sprpriority = 9
supermovetime = -1
[State 0]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0
[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 0
time = 5
add = 256,256,256
[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 10
freq = 20
ampl = -3
phase = 150


[State 0]
type = PlaySnd
trigger1 = time = 0
value = S989,6
volume = 255
[State 0]
type = ChangeState
trigger1 = Time = [20,100]
trigger1 = Command != "hold_c"
value = 790

[State 0]
type = ChangeState
trigger1 = Time = 101
value = 790
;------------------------------------------------------------
[Statedef 790]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0,0
anim = 790 + ifelse(var(5)=1,10000,0)
[State 0]
type = Explod
trigger1 = Time = 0
anim = 793
ID = 793
pos = 15,-35
postype = p1
facing = 1
bindtime = -1
removetime = 15
supermove = -1
removeongethit = 1
scale = 0.5,0.5
sprpriority = 9
supermovetime = -1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 0
time = 5
add = 256,256,256
[State 0]
type = RemoveExplod
ID = 791
trigger1 = (time = 0) || (life = 0)
[State 0]
type = PlaySnd
trigger1 = time = 0
value = 989, 48
volume = 255
[State 0]
type = AfterImage
trigger1 = Time = 0
time = 20
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright  =   0,  0,  0
PalContrast= 128,128,128
PalAdd =   0,  0,  0
PalMul=   1,  1,  1
[State 0]
type = Helper
trigger1 = AnimElem = 1
helpertype = normal
name = "magia"
id = 792
pos = 15,-45
stateno = 792
keyctrl = 1
ownpal = 1
size.xscale = 0.70
size.yscale = 0.70
[State 0]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
[Statedef 792]
type    = S
movetype= A
physics = S
anim = 792
ctrl = 0
sprpriority = 15
[State 0]
type = HitDef
trigger1 = Time >= 0
attr = S, HP
animtype  = Hard
velocity = 0,-2.7
accel = 0,0.1
damage    = 50,20
numhits = 1
guardflag = MA
pausetime = 1,5
getpower = 0
sparkno =-1
guard.sparkno = -1
hitsound   = S989,40
ground.type = Hard
ground.slidetime = 22
ground.hittime  = 11
ground.velocity = -3
air.velocity = -3,-2
[State 0]
type = Explod
trigger1 =(movecontact)
anim = 1516+(moveguarded)
ID = 1516
pos = 30,20
facing	= 1
vfacing	= 1
bindtime = 1
removetime = -2
supermove = 0
supermovetime = 0
pausemovetime = 0
scale = 0.70,0.70
sprpriority = 20
ontop = 1
ownpal = 1
removeongethit = 0
[State 0]
type = Explod
trigger1 = (Pos Y >= 1)
anim = 1516
id = 1516
pos = 0,10
postype	= p1
facing	= 1
vfacing	= 1
bindtime = 1
removetime = -2
supermove = 0
supermovetime = 0
pausemovetime = 0
scale = 0.50,0.50
sprpriority = 20
ontop = 1
ownpal = 1
removeongethit = 0
[State 0]
type = AfterImage
trigger1 = time = 4
time = 20
trans = add
PalContrast = 0,128,255
TimeGap = 2
FrameGap = 1
length = 15
[State 0]
type = Envshake
trigger1 = movecontact = 1
time = 10
ampl = 6
freq = 300
[State 0]
type = VelSet
trigger1 = time >= 4
x = 12
y = 8
[State 0]
type = HitOverride
trigger1 = time = 0
time = -1
attr = SCA,NP,SP,HP
slot = 0
[State 0]
type = DestroySelf
trigger1 = movecontact = 1
[State 0]
type = Envcolor
trigger1 = movecontact = 1
time = 4
[State 0]
type = DestroySelf
trigger1 = Pos Y >= 1


;---------------------------------------------------------------------------
; Stand Light Punch
; CNS difficulty: easy
[Statedef 200]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 200+ ifelse(var(5)=1,10000,0)                       ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10, 10                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -10, -56               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s200, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -1             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200,0
volume = 255

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 215,3]
type = ChangeState
triggerall = command = "x"
trigger1 = Animelem = 2, > 1 && Animelem = 3, <= 20  && movecontact
ignorehitpause
value = 201
ctrl = 0

; Stand Light Punch
; CNS difficulty: easy
[Statedef 201]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 210+ ifelse(var(5)=1,10000,0)                    ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10, 10                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -10, -56               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s200, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -1             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200,0
volume = 255

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 215,3]
type = ChangeState
triggerall = command = "x"
trigger1 = Animelem = 2, > 1 && Animelem = 3, <= 20  && movecontact
ignorehitpause
value = 202
ctrl = 0
;---------------------------------------------------------------------------
; Light Kung Fu Blow
; CNS difficulty: easy
; Notes: This uses the EnvShake controller to shake the screen. It makes the
;        move look stronger.
[Statedef 202]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 100
velset = 0,0
anim = 202+ ifelse(var(5)=1,10000,0)
ctrl = 0
sprpriority = 2

[State 1200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200, 0
volume = 255

[State 1200, Width 1]
type = Width
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(2) < 0
value = 10,0

[State 1200, Width 2]
type = Width
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
value = 20,0

[State 1200, Shake Screen]
type = EnvShake
trigger1 = AnimElem = 2
time = 4     ;Time to shake screen
ampl = 2     ;Amount to shake
freq = 180   ;A frequency of 180 shakes the screen rapidly

[State 1200, 2]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 30, 6
priority  = 5
guardflag = MA
sparkno = s37
pausetime = 12,12
sparkxy = -20,-45
hitsound   = s620,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 16
ground.hittime  = 18
ground.velocity = -10
ground.cornerpush.veloff = -12 ;To push far away when p2 is in corner
guard.velocity = -7
air.velocity = -3.5,-4.5
airguard.velocity = -3.5,-4.5
envshake.time =12
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 1200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 215,3]
type = ChangeState
triggerall = command = "x"
trigger1 = Animelem = 2, > 1 && Animelem = 3, <= 20  && movecontact
ignorehitpause
value = 203
ctrl = 0


[Statedef 203]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 203+ ifelse(var(5)=1,10000,0)                 ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10, 20                 ;Time attacker pauses, time opponent shakes
sparkno = s38                      ;Spark anim no (Def: set above)
sparkxy = -20, -46               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s300, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -1             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12

                ;Time before opponent regains control in air
                
                
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 20
y = 0


[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim =  35
pos = 60,-30
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.5,0.5
sprpriority = 10
removeongethit = 1


[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300,0
volume = 255

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



[Statedef 32558]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 255+ ifelse(var(5)=1,10000,0)                 ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2
[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
time = 3
add = 256,256,256
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 100, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,8                  ;Time attacker pauses, time opponent shakes
sparkno = s38                      ;Spark anim no (Def: set above)
sparkxy = -20, -46               ;X-offset for the "hit spark" rel. to p2,
hitsound = s300, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -1             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 12
envshake.time = 10
envshake.freq = 140
envshake.ampl = 4
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 6
y = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim =  343
pos = 50,-30
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.5,0.5
sprpriority = 10
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim =  7033
pos = 10,5
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.6,0.6
sprpriority = 10
removeongethit = 1
[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300,0
volume = 255
[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 989,50
volume = 255
[State 0]
type = AfterImage
trigger1 = Time = 0
time = 20
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright  =   0,  0,  0
PalContrast= 128,128,128
PalAdd =   0,  0,  0
PalMul=   1,  1,  1
[State 200, 7]
type = ChangeState
triggerall = command = "x"
trigger1 = Animelem = 2,  [5,15]  && movehit
value = 25518
ctrl = 0
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
[Statedef 25518]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 203+ ifelse(var(5)=1,10000,0)                 ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)
[State 0]
type = AfterImage
trigger1 = Time = 0
time = 15
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright  =   0,  0,  0
PalContrast= 128,128,128
PalAdd =   0,  0,  0
PalMul=   1,  1,  1
[State 0, Turn]
type = Turn
trigger1 = time = 1
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x+120
y = p2bodydist y +0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,0
volume = 255
channel = -1
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10, 20                 ;Time attacker pauses, time opponent shakes
sparkno = s38                      ;Spark anim no (Def: set above)
sparkxy = -20, -46               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s300, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = high               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = 0,0             ;Velocity at which opponent is pushed
airguard.velocity = 0,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,0           ;X-velocity at which opponent is pushed,
air.hittime = 12
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 20
y = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim =  35
pos = 60,-30
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.5,0.5
sprpriority = 10
removeongethit = 1
[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300,0
volume = 255
[State 200, 7]
type = ChangeState
triggerall = command = "x"
trigger1 = Animelem = 2,  [5,15]  && movehit
value = 25528
ctrl = 0
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
[Statedef 25528]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 203+ ifelse(var(5)=1,10000,0)                 ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)
[State 0]
type = AfterImage
trigger1 = Time = 0
time = 15
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright  =   0,  0,  0
PalContrast= 128,128,128
PalAdd =   0,  0,  0
PalMul=   1,  1,  1
[State 0, Turn]
type = Turn
trigger1 = time = 1
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x+80
y = p2bodydist y +0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,0
volume = 255
channel = -1
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 60, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10, 1                ;Time attacker pauses, time opponent shakes
sparkno = s38                      ;Spark anim no (Def: set above)
sparkxy = -40, -66               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s300, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip              ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -4,-6             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = trip                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 12
envshake.time =20
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
palfx.time= 10
palfx.mul= 256,256,256
palfx.add= 176,0,0
palfx.sinadd= -100,-100,-155,40
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 10
y = 0
[State 0, PosSet]
type = PosSet
trigger1 = time = 20
y = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim =  35
pos = 60,-30
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.5,0.5
sprpriority = 10
removeongethit = 1
[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300,0
volume = 255
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Standing strong punch
; CNS difficulty: easy
; Note the width controller. It makes KFM's push box larger, so he doesn't
; stand so close to the opponent. Hit Ctrl-C and look at the red bar at his
; feet.
; The sprpriority for this state is at -1, instead of the usual 2 for
; attacks. This makes KFM appear behind the opponent initially.
; The SprPriority controller in [State 210, 4] brings KFM to the front when
; his arm has swung over.
; To stop KFM from pausing in his swing frame, there is a ChangeAnim in
; [State 210, 3] that detects if the hit has come in contact with the
; opponent during that frame, and switches to the next animation element
; (notice the elem=6 parameter). If you don't see what I mean, try commenting
; out that controller, then hit someone with this attack.
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 210+ ifelse(var(5)=1,10000,0)
sprpriority = -1



[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 210, 0
volume = 255

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 57
guardflag = MA
pausetime = 12,12
sparkno = s2009
sparkxy = -10,-60
hitsound   = s210,1
guardsound = s6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -1.5
air.velocity = -2.5,-4


[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 215,3]
type = ChangeState
triggerall = command = "y"
trigger1 = Animelem = 2, > 1 && Animelem = 3, <= 20  && movecontact
ignorehitpause
value = 211
ctrl = 0


[Statedef 211]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 211+ ifelse(var(5)=1,10000,0)                    ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 10, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10, 10                   ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -10, -56               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s210, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -1             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 210,0
volume = 255

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 215,3]
type = ChangeState
triggerall = command = "y"
trigger1 = Animelem = 2, > 1 && Animelem = 3, <= 20  && movecontact
ignorehitpause
value = 212
ctrl = 0


[Statedef 212]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 212 + ifelse(var(5)=1,10000,0)
sprpriority = -1



[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 210, 0
volume = 255

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 10
guardflag = MA
pausetime = 10, 10
sparkno = s2009
sparkxy = -10,-60
hitsound   = s210,1
guardsound = s6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -1.5
air.velocity = -2.5,-4


[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 215,3]
type = ChangeState
triggerall = command = "y"
trigger1 = Animelem = 2, > 1 && Animelem = 3, <= 20  && movecontact
ignorehitpause
value = 213
ctrl = 0

[Statedef 213]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 211+ ifelse(var(5)=1,10000,0)                    ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 10, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10, 10                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -10, -56               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s210, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -1             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 210,0
volume = 255

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 215,3]
type = ChangeState
triggerall = command = "y"
trigger1 = Animelem = 2, > 1 && Animelem = 3, <= 20  && movecontact
ignorehitpause
value = 214
ctrl = 0


[Statedef 214]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 213+ ifelse(var(5)=1,10000,0)
sprpriority = -1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 210, 0
volume = 255

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 50
guardflag = MA
pausetime = 1,3
sparkno = s37
sparkxy = -10,-50
hitsound   = s213,0
guardsound = s6,0
ground.type = trip
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -16,-5
air.velocity = -16,-5
p2stateno = 1025


[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1





[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 220+ ifelse(var(5)=1,10000,0)
sprpriority = -1



[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 220, 0
volume = 255



[State 220]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Heavy
fall.animtype = diagUp
priority = 5,Hit
damage = 55
pausetime = 12,12
sparkno = S2009
sparkxy = -10,-70
hitsound = S220,1
guardsound = S6,0
ground.type = low
air.type = Low
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
air.hittime = 20
ground.velocity = -1,-9
air.velocity = -1,3.2
envshake.time = 13
envshake.freq = 120
envshake.ampl = 6
fall = 1


[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 215,3]
type = ChangeState
triggerall = command = "z"
trigger1 = time >16 && movecontact
ignorehitpause
value = 221
ctrl = 0

[Statedef 221]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 620+ ifelse(var(5)=1,10000,0)                    ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)



[State 0]
Type = Turn
Trigger1 = P2Dist X < 0

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, HP
damage = 100
hitflag = MAFD
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = s37
sparkxy = -3,-23
hitsound   = s620,0
guardsound = s6,0
animtype = back
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -1,16
envshake.time =16
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90
               ;Time before opponent regains control in air

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
value = 500,0
volume = 255


[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x +70
y = p2bodydist y -60


[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1



;---------------------------------------------------------------------------
; Standing light kick
; CNS difficulty: easy
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 230+ ifelse(var(5)=1,10000,0)
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 200, 0
volume = 255

[State 230, 2]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Medium
damage    = 26
guardflag = MA
pausetime = 10,10
sparkno = s2009
sparkxy = -10,-45
hitsound   = s200,1
guardsound = s6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 11
ground.velocity = -1
air.velocity = -2.5,-3.5

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 215,3]
type = ChangeState
triggerall = command = "a"
trigger1 = Animelem = 2, > 1 && Animelem = 3, <= 20  && movecontact
ignorehitpause
value = 231
ctrl = 0

[Statedef 231]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 230 + ifelse(var(5)=1,10000,0)
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 200, 0
volume = 255

[State 230, 2]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Medium
damage    = 26
guardflag = MA
pausetime = 10,10
sparkno = s2009
sparkxy = -10,-45
hitsound   = s200,1
guardsound = s6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 11
ground.velocity = -10
air.velocity = -2.5,-3.5

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 215,3]
type = ChangeState
triggerall = command = "a"
trigger1 = Animelem = 2, > 1 && Animelem = 3, <= 20  && movecontact
ignorehitpause
value = 232
ctrl = 0

[Statedef 232]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 231 + ifelse(var(5)=1,10000,0)
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 500, 0
volume = 255

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
x = p2bodydist x +13

[State 230, 2]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Medium
damage    = 26
guardflag = MA
pausetime = 10,10
sparkno = s2009
sparkxy = -10,-50
hitsound   = s440,0
guardsound = s6,0
ground.type = trip
ground.slidetime = 10
ground.hittime  = 11
ground.velocity = -1
air.velocity = -2.5,-3.5
envshake.time =15
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Standing strong kick
; CNS difficulty: easy
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 240 + ifelse(var(5)=1,10000,0)
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 210, 0
volume = 255

[State 240, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 63
guardflag = MA
pausetime = 13,13
sparkno = s2009
sparkxy = -10,-60
hitsound   = s210,1
guardsound = s6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2


[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[State 215,3]
type = ChangeState
triggerall = command = "b"
trigger1 = Animelem = 2, > 1 && Animelem = 3, <= 20  && movecontact
ignorehitpause
value = 241
ctrl = 0

[Statedef 241]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 220 + ifelse(var(5)=1,10000,0)
sprpriority = -1

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
x = p2bodydist x +13

[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 500, 0
volume = 255

[State 220]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Heavy
fall.animtype = diagUp
priority = 5,Hit
damage = 55
pausetime = 12,12
sparkno = S2009
sparkxy = -10,-70
hitsound = S220,1
guardsound = S6,0
ground.type = low
air.type = Low
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
air.hittime = 20
ground.velocity = -1,-9
air.velocity = -1,3.2
envshake.time = 13
envshake.freq = 120
envshake.ampl = 6
fall = 1


[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 215,3]
type = ChangeState
triggerall = command = "b"
trigger1 = time > 10  && movecontact
ignorehitpause
value = 242
ctrl = 0


[Statedef 242]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 241 + ifelse(var(5)=1,10000,0)                ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2
[State 3010, Turn]
Type = Turn
Trigger1 = P2Dist X < 0               ;Set p1's sprite layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 10, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 5, 5                 ;Time attacker pauses, time opponent shakes
sparkno = s38                      ;Spark anim no (Def: set above)
sparkxy = -20, -46               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s300, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -1 ,7            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,7     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,5           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 13, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 10                 ;Time attacker pauses, time opponent shakes
sparkno = s38                      ;Spark anim no (Def: set above)
sparkxy = -20, -16               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s300, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -1 ,7             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,7     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,5           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
value = 500,0
volume = 255


[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x +70
y = p2bodydist y -60


[State 0, VelSet]
type = VelSet
trigger1 = time >5
x = 0
y = 4


[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim =  34
pos = 60,-30
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.5,0.5
sprpriority = 10
removeongethit = 1


[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300,0
volume = 255

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1


;---------------------------------------------------------------------------
;Crouching light punch
; CNS difficulty: easy
; Description: Simple crouching attack. The HitDef's guardflag parameter
;     is set to "L", meaning that the move can only be guarded low
;     (crouching), and not by standing or jumping opponents.
;     Like for all light attacks, it's a good idea to keep the slidetime
;     and hittime parameters at a smaller number, so the opponent isn't
;     stunned for too long. For all crouching attacks you have to
;     remember to set the attr parameter to indicate that it is crouching
;     attack. In this case, "C, NA" stands for "crouching, normal attack".
;     The HitDef's priority is set at 3, instead of the default of 4,
;     so this attack has a lower priority than most others, meaning
;     KFM will get hit instead of trading hits with his opponent if
;     their attack collision boxes (Clsn1) intersect each other's Clsn2
;     boxes at the same time.
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15
ctrl = 0
anim = 400 + ifelse(var(5)=1,10000,0)
sprpriority = 2

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0
volume = 255

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 23
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 9,9
sparkno = s2009
sparkxy = -10,-42
hitsound   = s200,1
guardsound = s6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 10
ground.velocity = -4
air.velocity = -1.5,-3

[State 400, 3]
type = CtrlSet
trigger1 = Time = 15
value = 1

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
;Crouching strong punch
; CNS difficulty: easy
; Description: This is a 2-hit move. It is done by having two HitDefs
;     triggered, one for each frame of animation that hits.
;     Notice how the first hit cannot be guarded by an opponent in the
;     air, because of the "M" in the guardflag, meaning it can only
;     be guarded "middle". The second hit has an "MA" guardflag, so
;     it can be guarded both on the ground and in the air.
; CNS ƒŒƒxƒ‹: ˆÕ
; Ú×: ‚±‚ê‚Í‰£‘Å‚ª“ñ”­‚ ‚éUŒ‚‚Å‚·B
; ‰£‘Å‚Å‚«‚éƒAƒjƒ[ƒVƒ‡ƒ“‚Ì–‡‚ÍˆêXHitDef‚ð“o˜^‚µ‚Ä‚¢‚Ü‚·B
; ˆê”­–Ú‚ÌUŒ‚‚ÌHitDef‚É‚Íguardflag‚ªuMvimiddle’†’iƒK[ƒhj
; ‚ÉƒZƒbƒg‚³‚ê‚Ä‚¢‚é‚Ì‚ÅA‘ŠŽè‚Í‹ó’†‚ÅƒK[ƒh‚Å‚«‚Ü‚¹‚ñB“ñ”­–Ú
; ‚ÌUŒ‚‚Ìguardflag‚ÍuMAvimiddle+air’†’i{‹ó’†ƒK[ƒhj‚ÅA
; ’nãA‹ó’†‚Å‚àƒK[ƒh‚·‚é‚±‚Æ‚ª‚Å‚«‚Ü‚·B
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 410 + ifelse(var(5)=1,10000,0)
sprpriority = 2

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0
volume = 255

;This is the first hit, triggered on the 3rd element of animation.
[State 410, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 37
animtype  = Medium
hitflag = MAF
guardflag = M
pausetime = 10,10
sparkno = s2009
sparkxy = -10,-40
hitsound   = s210,1
guardsound = s6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -3,-4

[State 400, 3]
type = CtrlSet
trigger1 = Time = 15
value = 1

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 420 + ifelse(var(5)=1,10000,0)
sprpriority = 2

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
value = 420, 0
volume = 0

;This is the first hit, triggered on the 3rd element of animation.
[State 410, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 37
animtype  = Medium
hitflag = MAF
guardflag = M
pausetime = 10,10
sparkno = s2009
sparkxy = -10,-40
hitsound   = s420,1
guardsound = s6,0
ground.type = trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -16
air.velocity = -3,-4
envshake.time =20
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90


[State 400, 3]
type = CtrlSet
trigger1 = Time = 15
value = 1

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching light kick
; CNS difficulty: easy
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 22
ctrl = 0
anim = 430 + ifelse(var(5)=1,10000,0)
sprpriority = 2

[State 430, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0
volume = 255

[State 430, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 28
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = s2009
sparkxy = -10,-30
hitsound   = s200,1
guardsound = s6,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Strong Kick
; CNS difficulty: easy
; Description: This move uses "Trip" for the "ground.type" parameter in
;     its HitDef. It's a special type that puts the opponent in a tripped
;     animation as he falls. Also, the hitflag parameter in the HitDef
;     is set to "MAFD". The "D" indicates that a downed opponent can be
;     hit by the attack.
; CNS ƒŒƒxƒ‹: ˆÕ
; Ú×:
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 440 + ifelse(var(5)=1,10000,0)
sprpriority = 2

[State 440, 2]
type = PlaySnd
trigger1 = Time = 2
value = 210, 0
volume = 255

[State 440, 3]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 72
hitflag = MAFD
guardflag = L
pausetime = 15,1
sparkno = s2009
sparkxy = -5,-10
hitsound   = s440,0
guardsound = s6,0
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5,-2
air.velocity = -1.2,-3
guard.velocity = -5
fall = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Jump Light Punch
; CNS difficulty: easy
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 600 + ifelse(var(5)=1,10000,0)
sprpriority = 2

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0
volume = 255

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 20
guardflag = HA
priority = 3
pausetime = 9,9
sparkno = s2009
sparkxy = -10,-28
hitsound   = s200,1
guardsound = s6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -1
air.velocity = -1,-1



[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Jump Strong Punch
; CNS difficulty: easy
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 610 + ifelse(var(5)=1,10000,0)
sprpriority = 2

[State 610, 2]
type = PlaySnd
trigger1 = Time = 2
value = 210, 0
volume = 255

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 72
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = s2009
sparkxy = -10,-39
hitsound   = s210,1
guardsound = s6,0
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -1
air.velocity = -1,1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1


[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 620 + ifelse(var(5)=1,10000,0)
sprpriority = 2

[State 610, 2]
type = PlaySnd
trigger1 = Time = 2
value = 210, 0
volume = 255

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, HP
damage = 72
hitflag = MAFD
guardflag = HP
priority = 4
pausetime = 12,5
sparkno = s37
sparkxy = -3,-23
hitsound   = s620,0
guardsound = s6,0
animtype = back
ground.type = trip
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,10
envshake.time =16
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90




[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Jump Light Kick
; CNS difficulty: easy
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 20
ctrl = 0
anim = 630 + ifelse(var(5)=1,10000,0)
sprpriority = 2

[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0
volume = 255

[State 630, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 26
guardflag = HP
priority = 3
pausetime = 10,10
sparkno = s2009
sparkxy = -5,-35
hitsound   = s200,1
guardsound = s6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -4
air.velocity = -2,1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Jump Strong Kick
; CNS difficulty: easy
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 640 + ifelse(var(5)=1,10000,0)
sprpriority = 2

[State 640, 2]
type = PlaySnd
trigger1 = Time = 2
value = 210, 0
volume = 255

[State 640, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 70
guardflag = HP
priority = 4
pausetime = 12,12
sparkno = s2009
sparkxy = -20,0
hitsound   = s210,1
guardsound = s6,0
animtype = Med
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -1
air.velocity = -1,1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1





[Statedef 9800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800 + ifelse(var(5)=1,10000,0)
sprpriority = 2

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT
hitflag = M-
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
p1sprpriority = 1     ;Draw p1's sprite in front of p2
hitsound = s800,0                      ;p2's sprite priority is set to 0 by default
p1facing = 1
p2facing = 1          ;Force p2 to face KFM
p1stateno = 9810       ;On success, KFM changes to state 810
p2stateno = 9820       ;If hit, p2 changes to state 820 in KFM's cns
guard.dist = 0        ;This prevents p2 from going into a guard state if close
fall = 1              ;Force p2 into falling down

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 9810]
type    = S
movetype= A
physics = N
anim = 9810 + ifelse(var(5)=1,10000,0)
poweradd = 60
[State 810, Holding fwd?]
type = VarSet
trigger1 = Time = 0
var(2) = command = "holdfwd"

[State 810, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S989,5
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S989,38
volume = 255
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 100
time = 50
freq = 60
ampl = -4
phase = 90

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 100
time = 10
add = 256,256,256

[State 0, Explod]
type = Explod
trigger1 = time = 100
anim = 1516
pos = -30,-30
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
scale = 1,1
sprpriority = 10

[State 810, Throw Sound]
type = PlaySnd
trigger1 = AnimElem = 7
value = 810, 0

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 1, 0

[State 810, Width 2-11]
type = Width
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(12) < 0
edge = 60,0

[State 810, Bind 2-4]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(5) < 0
pos = 1, 0

[State 810, Bind 5]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
pos = 1, 0

[State 810, holdfwd - Turn 6]
type = Turn
trigger1 = var(2)
trigger1 = AnimElem = 6

[State 810, holdfwd - Pos 6]
type = PosAdd
trigger1 = var(2)
trigger1 = AnimElem = 6
x = -37

[State 810, holdfwd - Turn Target 6]
type = TargetFacing
trigger1 = var(2)
trigger1 = AnimElem = 6
value = -1

[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElemTime(6) >= 0
pos = 41, -60



[State 810, Hurt 11]
type = TargetLifeAdd
trigger1 = AnimElem = 6
value = -20

[State 810, Throw 11]
type = TargetState
trigger1 = AnimElem = 7
value = 9821

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 9820]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 100
value = -20

[State 0, PalFX]
type = PalFX
trigger1 = time = 100
time = 50
add = 240,50,0
mul = 250,224,10
sinadd = 110,55,85,10

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 9820 + ifelse(var(5)=1,10000,0)

[State 820, 2]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050
[Statedef  9821]
type    = A
movetype= H
physics = N
velset = 2.8,-7
poweradd = 40

[State 821, 1]
type = VelAdd
Trigger1 = 1
y = .4
[State 821, 2]
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= 20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200
[State 821, 4]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100






;==========================================
[StateDef 9741]
type = S
movetype = I
physics = N
anim = 777
ctrl = 0

[State 9741, Safety]
type = SelfState
trigger1 = !IsHelper
value = 0

[State 9741, PauseCheck]
type = VarSet
trigger1 = (GameTime>(Parent,var(58)))
trigger2 = !(Parent,Alive)
trigger3 = (RoundState != 2)
trigger4 = Parent,var(6)
trigger5 = (var(3):=0)
var(2) = (var(3):=1)+(var(4):=0)

[State 9741, Facing]
type = Turn
trigger1 = (var(9):=(Facing != Parent,Facing))

[State 9741, DirTurnOnAI]
type = ParentVarSet
triggerall =!Var(57)
triggerall = !var(3)
triggerall = !var(9)
trigger1 = (Parent,command = "holdfwd")
trigger2 = (Parent,command = "holdback")
trigger3 = (Parent,command = "holdup")
trigger4 = (Parent,command = "holddown")
trigger5 = !(var(4):=1)
var(6) = var(4)

[State 9741, DirTurnOffAI]
type = ParentVarSet
triggerall = !var(3)
triggerall = Parent,var(6)
trigger1 = (command = "holdfwd")
trigger1 = (Parent,command = "holdfwd")
trigger2 = (command = "holdback")
trigger2 = (Parent,command = "holdback")
trigger3 = (command = "holdup")
trigger3 = (Parent,command = "holdup")
trigger4 = (command = "holddown")
trigger4 = (Parent,command = "holddown")
var(6) = (var(4):=0)
;-----------ai a partir daqui--------

[State 0,Display3varp1]
type = DisplayToClipboard
trigger1 = Var(57)=57
text = "A.I.DESABILITADO-P1 %d"
params = Var(57)

[State 9741, var p1]
type = VarSet
trigger1 =var(6) = var(4)
var(57) =57


[State 9741, Goodbye]
type = DestroySelf
triggerall = (var(1):=1)
trigger1 = Parent,var(6)
trigger2 = !(Parent,Alive)
trigger3 = (RoundState != 2)


[StateDef 9742]
type = S
movetype = I
physics = N
anim = 777
ctrl = 0

[State 9742, Safety]
type = SelfState
trigger1 = !IsHelper
value = 0

[State 9742, PauseCheck]
type = VarSet
trigger1 = (GameTime>Parent,var(58))
trigger2 = !(Parent,Alive)
trigger3 = (RoundState != 2)
trigger4 = Parent,var(6)
trigger5 = (var(3):=0)
var(2) = (var(3):=1)

[State 9742, Facing]
type = Turn
trigger1 = (var(9):=(Facing != Parent,Facing))

[State 9742, ParentDirCheck]
type = VarSet
trigger1 = (Parent,command = "holdfwd")
trigger2 = (Parent,command = "holdback")
trigger3 = (Parent,command = "holdup")
trigger4 = (Parent,command = "holddown")
trigger5 = (var(6):=0)
var(6) = 1

[State 9742, ParentButtonCheck]
type = VarSet
trigger1 = (Parent,command = "a")
trigger2 = (Parent,command = "b")
trigger3 = (Parent,command = "c")
trigger4 = (Parent,command = "x")
trigger5 = (Parent,command = "y")
trigger6 = (Parent,command = "z")
trigger7 = (Parent,command = "s")
trigger8 = (var(7):=0)
var(7) = 1

[State 9742, SameButtonCheck]
type = VarSet
triggerall = var(7)
triggerall = !var(2)
triggerall = NumPartner
trigger1 = (Parent,command = "a")
trigger1 = (Partner,command = "a")
trigger2 = (Parent,command = "b")
trigger2 = (Partner,command = "b")
trigger3 = (Parent,command = "c")
trigger3 = (Partner,command = "c")
trigger4 = (Parent,command = "x")
trigger4 = (Partner,command = "x")
trigger5 = (Parent,command = "y")
trigger5 = (Partner,command = "y")
trigger6 = (Parent,command = "z")
trigger6 = (Partner,command = "z")
trigger7 = (Parent,command = "s")
trigger7 = (Partner,command = "s")
trigger8 = (var(8):=0)
var(8) = 1

[State 9742, DirTurnOnAI]
type = ParentVarSet
trigger1 = var(1)
trigger1 = var(6)
trigger1 = !var(3)
trigger1 = !var(4)
trigger1 = !var(9)
var(6) = 1

[State 9742, DirTurnOffAI]
type = ParentVarSet
triggerall = var(6)
triggerall = !var(3)
triggerall = Parent,var(6)
trigger1 = (command = "holdfwd")
trigger1 = (Parent,command = "holdfwd")
trigger2 = (command = "holdback")
trigger2 = (Parent,command = "holdback")
trigger3 = (command = "holdup")
trigger3 = (Parent,command = "holdup")
trigger4 = (command = "holddown")
trigger4 = (Parent,command = "holddown")
var(6) = 0

[State 9742, ButtonTurnOnAI]
type = ParentVarSet
trigger1 = var(5)
trigger1 = var(7)
trigger1 = !var(2)
trigger1 = !var(8)
var(6) = 1

[State 9742, ButtonTurnOffAI]
type = ParentVarSet
triggerall = var(7)
triggerall = !var(2)
triggerall = !var(8)
trigger1 = (command = "a")
trigger1 = (Parent,command = "a")
trigger2 = (command = "b")
trigger2 = (Parent,command = "b")
trigger3 = (command = "c")
trigger3 = (Parent,command = "c")
trigger4 = (command = "x")
trigger4 = (Parent,command = "x")
trigger5 = (command = "y")
trigger5 = (Parent,command = "y")
trigger6 = (command = "z")
trigger6 = (Parent,command = "z")
trigger7 = (command = "s")
trigger7 = (Parent,command = "s")
var(6) =0

[State 9742, UnPauseCheck]
type = VarSet
triggerall = var(2)
triggerall = !var(4)
trigger1 = var(7)
trigger2 = (var(2) = 2)
trigger2 = (var(2):=0)
var(2) = 2

[State 9742, Goodbye]
type = DestroySelf
trigger1 = Parent,var(6)
trigger2 = !(Parent,Alive)
trigger3 = (RoundState != 2)

[State 9742, HitPauseCheck]
type = VarSet
trigger1 = var(6)
trigger2 = var(7)
trigger3 = !(Parent,HitPauseTime)
var(4) = Parent,HitPauseTime

[State 9742, Delay]
type = VarSet
trigger1 = (var(1):=1)
var(5) = !var(7)



[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800 + ifelse(var(5)=1,10000,0)
sprpriority = 2

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
p1sprpriority = 1     ;Draw p1's sprite in front of p2
hitsound = s800,0                      ;p2's sprite priority is set to 0 by default
p1facing = 1
p2facing = 1          ;Force p2 to face KFM
p1stateno = 810       ;On success, KFM changes to state 810
p2stateno = 820       ;If hit, p2 changes to state 820 in KFM's cns
guard.dist = 0        ;This prevents p2 from going into a guard state if close
fall = 1              ;Force p2 into falling down

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 810]
type    = S
movetype= A
physics = N
anim = 810 + ifelse(var(5)=1,10000,0)
poweradd = 60
[State 810, Holding fwd?]
type = VarSet
trigger1 = Time = 0
var(2) = command = "holdfwd"

[State 810, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S989,5
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S989,38
volume = 255
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 100
time = 50
freq = 60
ampl = -4
phase = 90

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 100
time = 10
add = 256,256,256

[State 0, Explod]
type = Explod
trigger1 = time = 100
anim = 1516
pos = -30,-30
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
scale = 1,1
sprpriority = 10





[State 810, Throw Sound]
type = PlaySnd
trigger1 = AnimElem = 7
value = 810, 0

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 1, 0

[State 810, Width 2-11]
type = Width
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(12) < 0
edge = 60,0

[State 810, Bind 2-4]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(5) < 0
pos = 1, 0

[State 810, Bind 5]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
pos = 1, 0

[State 810, holdfwd - Turn 6] ;If was holding fwd before, turn now
type = Turn
trigger1 = var(2)
trigger1 = AnimElem = 6

[State 810, holdfwd - Pos 6] ;If was holding fwd before, move a little
type = PosAdd
trigger1 = var(2)
trigger1 = AnimElem = 6
x = -37

[State 810, holdfwd - Turn Target 6] ;If was holding fwd before, turn target too
type = TargetFacing
trigger1 = var(2)
trigger1 = AnimElem = 6
value = -1

[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
pos = 41, -60

[State 810, Bind 7]
type = TargetBind
trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
pos = 25, -75

[State 810, Bind 8]
type = TargetBind
trigger1 = AnimElemTime(8) >= 0 && AnimElemTime(9) < 0
pos = 15, -90

[State 810, Bind 9]
type = TargetBind
trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(10) < 0
pos = -5, -96

[State 810, Bind 10]
type = TargetBind
trigger1 = AnimElemTime(10) >= 0 && AnimElemTime(11) < 0
pos = -14, -90

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 11
pos = -50, -50

[State 810, Hurt 11]
type = TargetLifeAdd
trigger1 = AnimElem = 11
value = -10

[State 810, Throw 11]
type = TargetState
trigger1 = AnimElem = 11
value = 821

[State 810, Turn 12]
type = Turn
trigger1 = AnimElem = 12

[State 810, Pos 15]
type = PosAdd
trigger1 = AnimElem = 15
x = -10

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 2219
ctrl = 1

[Statedef 2219]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 620+ ifelse(var(5)=1,10000,0)                    ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)



[State 0]
Type = Turn
Trigger1 = P2Dist X < 0

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, HP
damage = 30
hitflag = MAFD
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = s37
sparkxy = -3,-23
hitsound   = s620,0
guardsound = s6,0
animtype = back
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -1,16
envshake.time =16
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90


[State 0, EnvShake]
type = EnvShake
trigger1 = time = 15
time = 30
freq = 60
ampl = -8
phase = 90


[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 15
time = 5
add = 256,256,256


[State 0, Explod]
type = Explod
trigger1 = time = 15
anim = 2604
pos = 0,0
postype = p2
ID = 1
facing = 1
vfacing = 1
vel = 0,-1
accel = 0,-1
bindtime = 1
supermove
pausemove
scale = 1,1
sprpriority = 5
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = time = 15
anim = 2604
pos = 0,0
postype = p2
ID = 1
facing = 1
vfacing = 1
vel = 1,-1
accel = 1,-1
bindtime = 1
supermove
pausemove
scale = 1,1
sprpriority = 5
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = time = 15
anim = 2605
pos = 0,0
postype = p2
ID = 1
facing = 1
vfacing = 1
vel = -1,-1
accel = -1,-1
bindtime = 1
supermove
pausemove
scale = 1,1
sprpriority = 5
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = time = 15
anim = 1236
pos = 0,0
postype = p2
ID = 1
facing = 1
vfacing = 1
bindtime = 1
supermove
pausemove
scale = 1,1
sprpriority = 5
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S989,42
volume = 255
channel = -1

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
value = 500,0
volume = 255


[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x +70
y = p2bodydist y -20


[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1


[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 100
value = -20



[State 0, PalFX]
type = PalFX
trigger1 = time = 100
time = 50
add = 240,50,0
mul = 250,224,10
sinadd = 110,55,85,10




[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820 + ifelse(var(5)=1,10000,0)

;In case attacker loses binding on player for any reason, this controller
;guarantees that the player will never get stuck in this thrown state.
[State 820, 2]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050

[Statedef 821]
type    = A
movetype= H
physics = N
velset = 2.8,-7
poweradd = 40

[State 821, 1]
type = VelAdd
Trigger1 = 1
y = .4

[State 821, 2] ; Recover near ground (use ChangeState)
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 821, 3] ; Recover in mid air (use SelfState)
type = SelfState
triggerall = Vel Y > 0
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210

[State 821, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100






[Statedef 1025]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1025, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 1025+ ifelse(var(5)=1,10000,0)

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 1026

;------------------
; Hit by Fast Kung Fu Palm - flying through the air
; (a custom gethit state)
[Statedef 1026]
type    = A
movetype= H
physics = N

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 1027

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;------------------
; Hit by Fast Kung Fu Palm - hit wall
; (a custom gethit state)
[Statedef 1027]
type    = A
movetype= H
physics = N

[State 1027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 25
freq = 60
ampl = -8
phase = 90

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 0
time = 5
add = 256,256,256


[State 1027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1027 + ifelse(var(5)=1,10000,0)

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0
volume = 255

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 1028

;------------------
; Hit by Fast Kung Fu Palm - bounce off wall
; (a custom gethit state)
[Statedef 1028]
type    = A
movetype= H
physics = N

[State 1028, 1]
type = NotHitBy
trigger1 = 1
value = , NA, NP

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050+ ifelse(var(5)=1,10000,0)

[State 1028, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052+ ifelse(var(5)=1,10000,0)

[State 1028, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050 + ifelse(var(5)=1,10000,0)
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060+ ifelse(var(5)=1,10000,0)

[State 1028, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052 + ifelse(var(5)=1,10000,0)
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062 + ifelse(var(5)=1,10000,0)

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

[Statedef 1050]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 110
velset = 18,-2
anim = 1050+ ifelse(var(5)=1,10000,0)
ctrl = 0
sprpriority = 2

[State 0]
type = PlaySnd
trigger1 = Time = 1
value = 420, 0
volume = 255
[State 0, RemoveExplod]
type = RemoveExplod
trigger1= stateno = 1050
id =  39


[State 1050, 4]
type = HitDef
trigger1 = Time = 0
attr = A, SA
animtype  = Medium
damage    = 80, 4
priority  = 5
guardflag = MA
pausetime = 12,12
sparkno = s2009
sparkxy = -0,-50
hitsound   = s620,0
guardsound = s6,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.5,-7
guard.velocity = -7
air.velocity = -3.5,-7
fall = 1



[State 1050, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 50;20058;50
[Statedef 3243]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 3355+ ifelse(var(5)=1,10000,0)                 ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2
[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 0
x = 8
y = 0

[State 0, MakeDust]
type = MakeDust
trigger1 = 1
pos = -20,0
spacing = 2




[State 0]
type = AfterImage
trigger1 = Time = 0
time = 15
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright  =   0,  0,  0
PalContrast= 128,128,128
PalAdd =   0,  0,  0
PalMul=   1,  1,  1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
time = 8
add = 256,256,256
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 100, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,14                  ;Time attacker pauses, time opponent shakes
sparkno = s36                     ;Spark anim no (Def: set above)
sparkxy = -20, -46               ;X-offset for the "hit spark" rel. to p2,
hitsound = s300, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -1             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = trip                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 12
envshake.time =20
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
palfx.time= 20
palfx.mul= 256,256,256
palfx.add= 176,0,0
palfx.sinadd= -100,-100,-155,40
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim =  7033
pos = 10,5
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.6,0.6
sprpriority = 10
removeongethit = 1
[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300,0
volume = 255
[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 989,17
volume = 255

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 33545
ctrl = 1

[Statedef 33545]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 3354+ ifelse(var(5)=1,10000,0)                 ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
triggerall = var (5) =0
trigger1 = animelem = 2
value = S989,16
volume = 255
channel = -1
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 33559]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 355+ ifelse(var(5)=1,10000,0)                 ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim =  34
pos = 20,-45
postype = p1
facing = 1
vfacing = 1
bindtime = -1
;scale = 0.6,0.6
sprpriority = 10
removeongethit = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
time = 3
add = 256,256,256
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 100, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 1,14                  ;Time attacker pauses, time opponent shakes
sparkno = s36                     ;Spark anim no (Def: set above)
sparkxy = -20, -46               ;X-offset for the "hit spark" rel. to p2,
hitsound = s300, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -1             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
air.hittime = 12
envshake.time = 10
envshake.freq = 140
envshake.ampl = 4
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim =  7033
pos = 10,5
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.6,0.6
sprpriority = 10
removeongethit = 1
[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300,0
volume = 255
[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 989,50
volume = 255

[State 2100, 2nd Attack]
type = ChangeState
trigger1 = command = "corte simples manuais"
trigger1 = Animelem = 2, > 1 && Animelem = 3, <= 11
trigger1 = ifelse(movehit, hitpausetime <= 3, 1)
ignorehitpause
value = 35519
ctrl = 0

[State 2100, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
[Statedef 35519]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 203+ ifelse(var(5)=1,10000,0)                 ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2            ;Set p1's sprite layering priority to 2 (in front)
[State 0]
type = AfterImage
trigger1 = Time = 0
time = 15
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright  =   0,  0,  0
PalContrast= 128,128,128
PalAdd =   0,  0,  0
PalMul=   1,  1,  1
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = medium                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 10, 25                 ;Time attacker pauses, time opponent shakes
sparkno = s38                      ;Spark anim no (Def: set above)
sparkxy = -20, -46               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s300, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = high               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = 0,0             ;Velocity at which opponent is pushed
airguard.velocity = 0,0     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = 0,0           ;X-velocity at which opponent is pushed,
air.hittime = 12
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 6
y = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim =  35
pos = 60,-30
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.5,0.5
sprpriority = 10
removeongethit = 1
[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300,0
volume = 255
[State 200, 7]
type = ChangeState
triggerall = command = "y"
trigger1 = Animelem = 2,  [5,15]  && movehit
value = 32429
ctrl = 0
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 32429]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 241 + ifelse(var(5)=1,10000,0)                ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2
[State 3010, Turn]
Type = Turn
Trigger1 = P2Dist X < 0               ;Set p1's sprite layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 10, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 5, 5                 ;Time attacker pauses, time opponent shakes
sparkno = s38                      ;Spark anim no (Def: set above)
sparkxy = -20, -46               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s300, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -1 ,7            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,7     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,5           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 13, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 18                 ;Time attacker pauses, time opponent shakes
sparkno = s38                      ;Spark anim no (Def: set above)
sparkxy = -20, -16               ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s300, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = high               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -1 ,7             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,7     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,5           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
value = 500,0
volume = 255


[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x +70
y = p2bodydist y -60


[State 0, VelSet]
type = VelSet
trigger1 = time >5
x = 0
y = 4


[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim =  34
pos = 60,-30
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.5,0.5
sprpriority = 10
removeongethit = 1


[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 300,0
volume = 255


[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3243
ctrl = 1



[Statedef 1070]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 110
velset = 2,-3
anim = 1070 + ifelse(var(5)=1,10000,0)
ctrl = 0
sprpriority = 2


[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = p2bodydist x -0
y = 0


[State 0]
type = PlaySnd
trigger1 = Time = 0
value = 500, 0
volume = 255
[State 0, RemoveExplod]
type = RemoveExplod
trigger1= stateno = 1070
id =  39

[State 1050, 4]
type = HitDef
trigger1 = Time = 0
attr = A, SA
animtype  = Medium
damage    = 120, 50
priority  = 5
guardflag = MA
pausetime = 12,12
sparkno = s2009
sparkxy = -0,-50
hitsound   = s620,0
guardsound = s6,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3.5,-7
guard.velocity = -7
air.velocity = -3.5,-7
fall = 1
[State 1050, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
[Statedef 569]
type    = S
anim = 56569
[State 0]
type = playsnd
trigger1 = time = 0
value = 989,24
volume = 255
channel = 28
[State 0]
type = BGPalFX
trigger1 =  time = 0
time = 3
add = 256,256,256
[State 0]
type = playsnd
trigger1 = time = 0
value = 730,0
volume = 100
channel = 29
[State 0]
type = DestroySelf
trigger1 = time = 80
[Statedef -2]
[State -2]
type = Helper
trigger1 = numhelper(2345) = 0
trigger1 = palno = 7
trigger1 = alive = 1
helpertype = normal
ID = 2345
name = "som"
stateno = 569
supermovetime = 500
[Statedef -3]
[State 0, VarSet]
type = VarSet
trigger1 = palno = 7
v = 5
value = 1
[State -3]
type = poweradd
trigger1 = time >= 0
trigger1 = palno = 7
value = 3
[State -3]
type = Explod
trigger1 = time = 6
trigger1 = numexplod(569)=0
triggerall = palno = 7
ID = 569
anim = 569
pos = 0,-35
postype = p1
sprpriority = 7
removetime = -1
bindtime = -1
ownpal = 1
supermovetime = -1
[State -3]
type = AttackMulSet
trigger1 = palno = 7
time = 0
value = 2
[State -3]
type = Explod
triggerall = palno = 7
trigger1 = numexplod(70291)=0
trigger1 = timemod = 3,0
anim =  70291
pos = 0,0
ID = 7029
postype = p1
facing = 1
vfacing = 1
bindtime = -1
supermove =9999
pausemove =9999
scale = 0.7,0.8
sprpriority = 21
ownpal = 1
[State -3]
type = SuperPause
trigger1 = P1name != "trunks do futuro by FRS GAMES"
time = 9999999999999999999999999
[State -3]
type = Explod
triggerall = palno = 7
triggerall = pos y= 0
trigger1 = numexplod(7036)=0
trigger1 = timemod = 10,0
anim =  7036
ID = 7036
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
supermove =9999
pausemove =9999
scale = 0.6,0.6
sprpriority = -1
ownpal = 1
[State -3, Raios]
type = Explod
triggerall = Anim =193
trigger1 = time = 0
trigger1 = numexplod(5758)=0
ID = 5758
anim = 5758
pos = -80,-10
postype = p1
sprpriority = -8
removetime = -1
supermovetime = -1
scale = 0.8,0.8
[State 0]
type = RemoveExplod
trigger1 =  pos y >0
id = 7036
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
trigger2 = stateno = 106 ;Run-back land
value = 40, 0
[State 0]
type = StopSnd
trigger1 =  stateno =[5000,5200]
channel = 18
[State 0]
type = StopSnd
trigger1 =  stateno =[15000,15200]
channel = 18
[State 0]
type = StopSnd
trigger1 =  stateno =0
channel = 31
[State 0]
type = AttackMulSet
triggerall = palno != 7
trigger1 = var (5)= 1
time = 0
value = 1.5
[State -3]
type = afterimage
trigger1 = anim = 1510 + ifelse(var(5)=1,10000,0)
time = 5
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add
[State -3]
type = afterimage
trigger1 = anim = 1500 + ifelse(var(5)=1,10000,0)
time = 25
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add
[State -3]
type = explod
trigger1 = life = 2300
trigger1 = roundstate != 0
trigger1 = numexplod(753) = 0
trigger1 = stateno = 180
anim = 753
id = 753
ignorehitpause = 1
bindtime = -1
postype = left
pos = 160,80
scale = 0.5,0.5
sprpriority = 20
[State -3]
type = PlaySnd
trigger1 = roundstate != 0
trigger1 = stateno = 180
trigger1 = life = 2300
value = S989,23
volume = 0
channel = -1

[State -3]
type = VarSet
triggerall = !RoundState
triggerall = IsHomeTeam
trigger1 = (TeamSide = 2)
trigger2 = (MatchNo > 1)
var(6) = 1
[State -3]
type = VarSet
trigger1 = !RoundState
trigger1 = (var(6) != 1)
trigger1 = NumPartner
trigger1 = (ID > Partner,ID)
trigger1 = (TeamSide = 2)
var(6) = 1
[State -3]
type = Helper
trigger1 = !var(6)
trigger1 = !NumHelper(9742)
trigger1 = (RoundState = 2)
trigger1 = Alive
trigger1 = NumPartner
trigger1 = Partner,SelfAnimExist(9741)
HelperType = normal
name = "inteligencia artificial"
ID = 9742
pos = 9999999,99999
StateNo = 9742
KeyCtrl = 1
PauseMoveTime = 999999999
SuperMoveTime = 999999999
[State -3]
type = Helper
triggerall = !var(6)
triggerall = !NumHelper(9741)
triggerall = (RoundState = 2)
triggerall = Alive
trigger1 = !NumPartner
trigger2 = !(Partner,SelfAnimExist(9741))
HelperType = normal
name = "inteligencia artificial"
ID = 9741
pos = 9999999,99999
StateNo = 9741
KeyCtrl = 1
PauseMoveTime = 999999999
SuperMoveTime = 999999999
;-------------------------------------------------------------------

[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = var(5) = 0
triggerall = StateType = S
triggerall = life < 200
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 1099
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist X < 15
triggerall = P2BodyDist X > 0
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 32558
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = stateno = 32558
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 200
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist X < 25
triggerall = P2BodyDist X > 100
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 33559
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = stateno = 33559
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 33559
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist X < 20
triggerall = P2BodyDist X > 0
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 1300
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist X < 20
triggerall = P2BodyDist X > 0
triggerall = numproj = 0
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 2300
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist X < 20
triggerall = P2BodyDist X > 0
triggerall = numproj = 0
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 3300

[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist X < 30
triggerall = P2BodyDist X > 20
triggerall = numproj = 0
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 4500

[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist X < 50
triggerall = P2BodyDist X > 40
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 4600
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist X < 100
triggerall = P2BodyDist X > 70
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 4700
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist X < 8
triggerall = P2BodyDist X > 3
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 4300
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist X > 50
triggerall = P2BodyDist X < 60
triggerall = numproj = 0
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 4400
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist y > 0
triggerall = numproj = 1
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 78963
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist x > 200
triggerall = numproj = 0
triggerall = power >= 2500
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 13000
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist x > 250
triggerall = numproj = 0
triggerall = power >= 3000
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 3100
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist x > 0
triggerall = numproj = 0
triggerall = power = 3000
trigger1 = P2StateType = S
value = 4100
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = power >= 1500
triggerall = numproj = 0
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value =  12100
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist x > 80
triggerall = P2BodyDist y = 0
triggerall = numproj = 0
triggerall = power >=2000
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 12000
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = P2BodyDist x > 90
triggerall = P2BodyDist y = 0
triggerall = numproj = 0
triggerall = power >=2000
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 11107
[State -3]
type = ChangeState
triggerall = Var(6)= 1
triggerall =ctrl = 1
triggerall = StateType != A && random <= 900
triggerall = EnemyNear, StateType != C
triggerall = EnemyNear, MoveType = A
trigger1 = ctrl = 1 && (P2Movetype = A)
trigger2 = (Enemy, NumProj >= 1)
trigger3 =(Enemy, NumHelper>= 1)
trigger4= EnemyNear, MoveType = A
value = 150
[State -3]
type = ChangeState
triggerall = Var(6)= 1
triggerall =ctrl = 1
triggerall = StateType != A
triggerall = EnemyNear, statetype = C
triggerall = EnemyNear, Movetype = A
trigger1 = stateno = 150
trigger2 = (Enemy, NumProj >= 1)
trigger3 =(Enemy, NumHelper>= 1)
trigger4= EnemyNear, MoveType = A
value = 152
[State -3]
type = ChangeState
triggerall = Var(6)= 1
triggerall =ctrl = 1
triggerall = StateType != A && random <= 900
triggerall = EnemyNear, statetype = C
triggerall = EnemyNear, Movetype = A
trigger1 = ctrl = 1 && (P2Movetype = A)
trigger2 = (Enemy, NumProj >= 1)
trigger3 =(Enemy, NumHelper>= 1)
trigger4= EnemyNear, MoveType = A
value = 152
[State -3]
type = ChangeState
triggerall = Var(6)= 1
triggerall =ctrl = 1
triggerall = StateType != A
triggerall = EnemyNear, statetype != C
triggerall = EnemyNear, Movetype = A
trigger1 = stateno = 152
trigger2 = (Enemy, NumProj >= 1)
trigger3 =(Enemy, NumHelper>= 1)
trigger4= EnemyNear, MoveType = A
value = 150
[State -3]
type = ChangeState
triggerall =Var(6)= 1
triggerall =ctrl = 1
triggerall = StateType = A && random <= 900
triggerall = EnemyNear, Movetype = A
trigger1 = ctrl = 1 && (P2Movetype = A)
trigger2 = (Enemy, NumProj >= 1)
trigger3 =(Enemy, NumHelper>= 1)
trigger4= EnemyNear, MoveType = A
value = 154
[State -3]
type = ChangeState
triggerall =Var(6)= 1
triggerall =ctrl = 1
triggerall =StateType != A && Stateno= 1510 && random <= 900
triggerall = EnemyNear, statetype != C
triggerall = EnemyNear, Movetype = A
trigger1 = ctrl = 1 && (P2Movetype = A)
trigger2 = (Enemy, NumProj >= 1)
trigger3 =(Enemy, NumHelper>= 1)
trigger4= EnemyNear, MoveType = A
value = 130
[State -3]
type = ChangeState
triggerall =    Var(6)= 1
triggerall =Pos y =0 && Life != 0 && P2Life != 0  && Random < 450
triggerall = statetype != A && p2stateno != [5110,5150]
triggerall = ctrl = 1
trigger1 = p2movetype != A
trigger1 = p2bodydist x > 0 && p2bodydist x < 40
value = 210
[State -3]
type = ChangeState
triggerall =    Var(6)= 1
triggerall =Pos y =0 && Life != 0 && P2Life != 0  && Random < 370
triggerall = statetype != A && p2stateno != [5110,5150]
triggerall = ctrl = 1
trigger1 = p2movetype != A
trigger1 = p2bodydist x > 0 && p2bodydist x < 40
value = 200
[State -3]
type = ChangeState
triggerall = Var(6)= 1 && Life != 0 && P2Life != 0  && Random < 300
triggerall = statetype != A && p2stateno != 403 || p2stateno != 503 && p2stateno != [5110,5150]
triggerall = ctrl = 1 && stateno!=900 && stateno!=501
triggerall =prevstateno!=900 && prevstateno!=501 && p2bodydist Y =0 && movetype != A
trigger1 = p2movetype != A
trigger1 =p2bodydist x > 0 && p2bodydist x < 22
value = 800

[State -3]
type = ChangeState
triggerall = Var(6)= 1
triggerall = stateno =1510
triggerall = p2bodydist Y > 40
trigger1 = p2bodydist Y > 40
value = 50
[State -3]
type = ChangeState
triggerall = Var(6)= 1
triggerall = stateno =1500
triggerall = p2bodydist Y > 40
trigger1 = p2bodydist Y > 40
value = 50

