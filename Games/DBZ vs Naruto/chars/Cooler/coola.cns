;===========================coola by FRS GAMES================================

[Data]
life = 1100
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 0
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale= 1
yscale= 1
ground.back= 15
ground.front= 16
air.back= 12
air.front= 12
height= 60
attack.dist= 160
proj.attack.dist= 90
proj.doscale= 0
head.pos= -3, -65
mid.pos= -5, -45
shadowoffset= 0
draw.offset= 0,0

[Velocity]
walk.fwd= 6.4
walk.back= -6.2
run.fwd= 9, 0
run.back= -7.5,-3.8
jump.neu= 0,-9.5
jump.back= -3
jump.fwd= 3
runjump.back= -2.55,-8.1
runjump.fwd= 4,-8.1
airjump.neu= 0,-8.1
airjump.back= -2.55
airjump.fwd= 2.5

[Movement]
airjump.num= 1
airjump.height= 0
yaccel= .5
stand.friction= .85
crouch.friction= .82

[Statedef 3700]
type = S
movetype= A
physics= S
velset= 0,0
anim = 2200
ctrl= 0
[State 0, MakeDust]
type = MakeDust
trigger1 = 1
pos = -10,0
spacing = 1
[State 0]
type= PlaySnd
trigger1= AnimElem= 1
value= s100, 0
volume = 255
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 4
x = p2bodydist x -0
y = p2bodydist y -0
[State 0]
type= PlaySnd
trigger1= time = 4
value= s500, 1
volume = 255
[State 0]
type= VelSet
trigger1= AnimElem= 1
x= 30
[State 0]
type= HitDef
trigger1 = AnimElem = 1
attr= S, NA
animtype= Medium
damage = 10,5
guardflag= MA
pausetime= 0,100
sparkxy= 0,-57
sparkno= -1
hitsound= -1
guardsound= 6,0
ground.type= High
ground.slidetime= 12
ground.hittime= 60
ground.velocity= 3
air.velocity= 3
p1stateno = 3701
[State 0]
type= ChangeState
trigger1= Time= 25
value= 0
ctrl= 1
[Statedef 3701]
type = S
movetype = A
physics = S
ctrl = 0
anim = 3701
velset = 0,0
poweradd = -200
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 3
x = p2bodydist x -0
y = p2bodydist y -0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S989,33
volume = 255
channel = -1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
time = 3
add = 256,256,256
[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
trigger3 = AnimElem = 6
trigger4 = AnimElem = 8
trigger5 = AnimElem =10
trigger6 = AnimElem = 12
trigger7 = AnimElem = 14
trigger8 = AnimElem = 16
x = 2
[State 0]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
trigger3 = AnimElem = 6
trigger4 = AnimElem = 8
attr = S, NA
animtype  = hard
damage    = 10, 7
guardflag = MA
pausetime = 1,15
sparkno = s2009
guard.sparkno = 2
sparkxy = -20,-53
hitsound   = S230,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90
[State 0]
type = HitDef
trigger1 = AnimElem = 10
trigger2 = AnimElem = 12
trigger3 = AnimElem = 14
trigger4 = AnimElem = 16
attr = S, NA
animtype  = hard
damage    = 10, 7
guardflag = MA
pausetime = 1,15
sparkno = s2009
guard.sparkno = 2
sparkxy = -20,-37
hitsound   = S230,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90
[State 220]
type = HitDef
trigger1 = AnimElem = 18
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Heavy
fall.animtype = diagUp
priority = 5,Hit
damage = 55
pausetime = 1,8
sparkno = S2009
sparkxy = -20,-65
hitsound = S230,1
guardsound = S6,0
ground.type = low
air.type = Low
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
air.hittime = 20
ground.velocity = -12,-9
air.velocity = -12,3.2
p2stateno = 1025
envshake.time = 13
envshake.freq = 120
envshake.ampl = 6
fall = 1

[State 0]
type = changestate
trigger1 = animtime = 0
value = 3702
ctrl = 1


[Statedef 3702]
type = S
movetype = A
physics = S
ctrl = 0
anim = 3702
velset = 0,0
poweradd = -100
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 3
x = p2bodydist x +30
y = p2bodydist y -20
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,1
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S989,34
volume = 255
channel = -1
[State 0, Turn]
type = Turn
trigger1 = time = 3
[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
time = 3
add = 256,256,256
[State 0]
type = HitDef
trigger1 = AnimElem = 4
attr = S, HP
animtype  = back
damage    = 30, 7
hitflag =MAFD
pausetime = 1,10
sparkno = s20095
guard.sparkno = 2
sparkxy = -40,-30
hitsound   = S989,27
guardsound = S6,0
ground.type = trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8,4
air.velocity = -8,4
envshake.time =10
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90
palfx.time= 30
palfx.mul= 256,256,256
palfx.add= 220,58,36
palfx.sinadd= -100,-100,-155,40
[State 0, Explod]
type = explod
trigger1 = animelem = 4
anim = 3703
pos = -20,-50
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 10
removetime = 25
removeongethit = 1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 4
time = 5
add = 256,256,256
[State 0, Explod]
type = explod
trigger1 = animelem = 4
anim = 3704
pos = 15,-25
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 10
removetime = 25
removeongethit = 1
[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 4,25
time = 30
freq = 60
ampl = -8
phase = 90
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4,25
value = S989,19
volume = 255
channel = -1

[State 0, Explod]
type = explod
trigger1 = animelem = 4,25
anim = 3301
pos = 10,0
postype = p2
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 10
removetime = 30
removeongethit = 1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 4,25
time = 15
add = 176,0,0

[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


[Statedef 3600]
type    = S                     ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N                      ;Physics: S-stand, C-crouch, A-air
juggle  = 8                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 3600                       ;Change animation (Def: no change)
poweradd = -50                    ;Power to add (Def: 0)
sprpriority = 2
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 5
[State 0, MakeDust]
type = MakeDust
triggerall = pos y = 0
trigger1 =  1
pos = -20,0
spacing = 3
[State 200, 1]
type = HitDef
trigger1 =  1
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 5, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 3, 5                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -10, -35             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s210, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = 0            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time =5
envshake.freq = 60
envshake.ampl = -5
envshake.phase = 90
[State 200, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 100, 0
volume = 255
[State 200, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 989, 32
volume = 255
[State 0]
type = AfterImage
trigger1 = time = 0
time 	= 50
timegap	= 1
framegap = 2
length 	= 9
paladd 	= 0, 0, 0
palmul 	= 1, 1, 1
palcontrast = 110,110,110
trans = add

[State 0]
type = ChangeState
triggerall = movehit
trigger1 = Time = 20
value = 3601
ctrl = 1

[State 0]
type = ChangeState
trigger1 = Time = 20
value = 0
ctrl = 1

[Statedef 3601]
type    = S                     ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N                      ;Physics: S-stand, C-crouch, A-air
juggle  = 8                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 200                      ;Change animation (Def: no change)                   ;Power to add (Def: 0)
sprpriority = 2

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20, 0                   ;Damage that move inflicts, guard damage
animtype = hard                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 5                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -10, -45             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s230, 2                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -10,-2           ;Velocity at which opponent is pushed   ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = trip                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -10.4,-2          ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time =20
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90


[State 0, Explod]
type = explod
trigger1 = movehit = 1
anim =20010
pos = -10,-40
postype = p2
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 5
removeongethit = 1


[State 0]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

[Statedef 3500]
type    = S                     ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = N                      ;Physics: S-stand, C-crouch, A-air
juggle  = 8                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 3500                       ;Change animation (Def: no change)
poweradd = -250                    ;Power to add (Def: 0)
sprpriority = 2
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 4
trigger4 = animelem = 5
x = 5
[State 0, MakeDust]
type = MakeDust
triggerall = pos y = 0
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 4
trigger4 = animelem = 5
pos = -20,0
spacing = 3
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 16                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -10, -25             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s230, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = 0            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time =5
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = hard                ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 15                ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -10, -25             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s240, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = 0            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time =5
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3= animelem = 4
trigger4 = animelem =5
value = 240, 0
volume = 255
[State 0]
type = AfterImage
trigger1 = time = 0
time 	= 50
timegap	= 1
framegap = 2
length 	= 9
paladd 	= 0, 0, 0
palmul 	= 1, 1, 1
palcontrast = 110,110,110
trans = add
[State 0, BGPalFX]
type = BGPalFX
triggerall = movehit
trigger1 = animelem = 1 || animelem = 2 || animelem = 4|| animelem = 5
time = 2
add = 176,0,0
[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim =2009
pos = -10,-40
postype = p2
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 5
removeongethit = 1
[State 0]
type = ChangeState
triggerall = pos y = 0
trigger1 = Time = 50
value = 0
ctrl = 1
[State 0]
type = ChangeState
triggerall = movehit
triggerall = pos y < 5
trigger1 = Time = 50
value = 3501
ctrl = 1
[State 0]
type = ChangeState
triggerall = pos y < 5
trigger1 = Time = 50
value = 50
ctrl = 1
[State 0]
type = ChangeState
triggerall = command = "a"
trigger1 = time = [45,50]
value = 3501
ctrl = 0
[Statedef 3501]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 3501                      ;Change animation (Def: no change)
poweradd = -30                    ;Power to add (Def: 0)
sprpriority = 2
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 5
[State 0, MakeDust]
type = MakeDust
trigger1 = animelem = 1
pos = -20,0
spacing = 3
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 40, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 1                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -20, -25             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s250, 0                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -6,-2            ;Velocity at which opponent is pushed
airguard.velocity = -6.9,-2     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = trip                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -6,-2           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time =15
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90


[State 200, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 240, 0
volume = 255

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 989, 26
volume = 255

[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;=====================================
[Statedef 3300]
type = S
movetype= A
physics= S
velset= 0,0
anim = 2200
ctrl= 0
[State 0, MakeDust]
type = MakeDust
trigger1 = 1
pos = -10,0
spacing = 1
[State 0]
type= PlaySnd
trigger1= AnimElem= 1
value= s100, 0
volume = 255
[State 0]
type= VelSet
trigger1= AnimElem= 1
x= 30
[State 0]
type = Explod
trigger1 = (time%4)=0
anim =101
facing = -1
pos = -25,-10
bindtime = 99
random = 0,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1

[State 0]
type = Explod
trigger1 = (time%4)=0
anim =101
facing = -1
pos = -45,-20
bindtime = 99
random = 0,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = (time%6)=0
anim =101
facing = -1
pos = -40,-30
bindtime = 99
random = 5,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = (time%3)=0
anim =101
facing = -1
pos = -35,-40
bindtime = 99
random = 10,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 0, Explod]
type = Explod
trigger1=animelem=1
anim =   30
pos = -65,5
postype = p1
facing = 0
vfacing = 0
bindtime = -1
;removetime = 10
scale = 1,1
sprpriority = 5
removeongethit = 1

[State 0]
type 			= AfterImage
trigger1 		= (!time)
time 			= 18
timegap		= 1
framegap 		= 2
length 		= 9
paladd 		= 0, 0, 0
palmul 		= 1, 1, 1
palcontrast 	= 110,110,110
trans 		= add
[State 0]
type= HitDef
trigger1 = AnimElem = 1
attr= S, NA
animtype= Medium
damage = 10,5
guardflag= MA
pausetime= 0,100
sparkxy= 0,-57
sparkno= -1
hitsound= -1
guardsound= 6,0
ground.type= High
ground.slidetime= 12
ground.hittime= 60
ground.velocity= 3
air.velocity= 3
p1stateno = 3301
[State 0]
type= ChangeState
trigger1= Time= 30
value= 0
ctrl= 1


;=================================
[Statedef 3301]
type = S
movetype = A
physics =S
velset = 0,0
juggle = 4
ctrl = 0
anim = 3300
poweradd = -200

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 3
x = p2bodydist x +60

[State 0, Turn]
type = Turn
trigger1 = time = 3
[State 0]
type= SuperPause
trigger1 =  animelem = 4
time= 23
pos= 23,-44
movetime= 23
darken = 0
[State 0]
type = PlaySnd
trigger1 =  animelem = 5
value = S989,30
volume = 255
channel = -1
[State 0]
type = PlaySnd
trigger1 =  time= 0
value = S500,1
volume = 255
channel = -1
[State 0]
type= AllPalFX
trigger1= AnimElem = 1
time= 15
add= 0,0,0
mul= 256,256,256
sinadd	= 0,0,0,1
invertall= 0
color= (Time*5)
[State 0]
type=EnvColor
trigger1=Time=0
value=0, 0, 0
time=10
under=1
[State 0]
type = Explod
trigger1 = AnimElem = 5
anim = 2009
postype = p1
pos = 25, -60
sprpriority = 3
bindtime = -1
removeongethit = 1
;scale = 0.3,0.3
[State 0]
type = Helper
trigger1 = animelem = 5
helpertype = Normal
pos= 25,-40
postype	= p1
facing = 1
stateno	= 3303
keyctrl	= 0
ownpal = 1
supermovetime = 200
pausemovetime = 200
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
[Statedef 3303]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 151515
[State 0]
type = Explod
trigger1 = movecontact = 1
anim = 3301
pos = 0,-30
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = 30
scale = 1,1
sprpriority = 8
removeongethit = 1
[State 0]
type= HitDef
trigger1= 1
attr= S, NA
hitflag	= MAFDP
guardflag= MA
animtype= Hard
priority= 7, Hit
damage	= 60,10
pausetime= 1,4
guard.pausetime	= 1,50
sparkno	= S1235
guard.sparkno= S1235
sparkxy	= 0,0
hitsound= S989,19
guardsound= S989,19
ground.type= Trip
air.type= Trip
ground.slidetime= 26
ground.hittime= 26
air.hittime= 26
yaccel	= 0.35
ground.velocity	= -5,-3
guard.velocity= -8
air.velocity= -5,-3
airguard.velocity= -5,-3
ground.cornerpush.veloff = 0
fall= 1
fall.recover = 0
Palfx.time = 20
palfx.add = 192,192,256
palfx.sinadd = 180,180,200,15
palfx.mul = 160,160,256
ownpal = 1
envshake.time = 30
envshake.freq = 120
envshake.ampl = -8
persistent= 0
down.bounce = 1
[State 0]
type = AfterImage
trigger1 = time = 0
time = -1
length = 50
palcontrast = 120+(var(25)=3)*50,120+(var(25)=3)*50,220-(var(25)=3)*100
paladd = -25+(var(25)=3)*15,-25+(var(25)=3)*15,-10-(var(25)=3)*15
palmul = .65+(var(25)=3)*.1,.65+(var(25)=3)*.1,.75-(var(25)=3)*.1
timegap = 2
framegap = 1
trans = add
[State 0]
type=AssertSpecial
trigger1=1
flag=NoShadow
ignorehitpause=1
[State 0]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA
ignorehitpause = 1
[State 0]
type = BgPalfx
trigger1 = movecontact = 1
time = 5
add = 256,256,256
[State 0]
type = DestroySelf
trigger1 = movecontact = 1
;=====================================
[Statedef 3400]
type = S
movetype= A
physics= S
velset= 0,0
anim = 2200
ctrl= 0
[State 0, MakeDust]
type = MakeDust
trigger1 = 1
pos = -10,0
spacing = 1
[State 0]
type = Explod
trigger1 = (time%4)=0
anim =101
facing = -1
pos = -25,-10
bindtime = 99
random = 0,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1

[State 0]
type = Explod
trigger1 = (time%4)=0
anim =101
facing = -1
pos = -45,-20
bindtime = 99
random = 0,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = (time%6)=0
anim =101
facing = -1
pos = -40,-30
bindtime = 99
random = 5,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = (time%3)=0
anim =101
facing = -1
pos = -35,-40
bindtime = 99
random = 10,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 0, Explod]
type = Explod
trigger1=animelem=1
anim =   30
pos = -65,5
postype = p1
facing = 0
vfacing = 0
bindtime = -1
;removetime = 10
scale = 1,1
sprpriority = 5
removeongethit = 1

[State 0]
type 			= AfterImage
trigger1 		= (!time)
time 			= 18
timegap		= 1
framegap 		= 2
length 		= 9
paladd 		= 0, 0, 0
palmul 		= 1, 1, 1
palcontrast 	= 110,110,110
trans 		= add

[State 0]
type= PlaySnd
trigger1= AnimElem= 1
value= s100, 0
volume = 255
[State 0]
type= VelSet
trigger1= AnimElem= 1
x= 30
[State 0]
type= HitDef
trigger1 = AnimElem = 1
attr= S, NA
animtype= Medium
damage = 10,5
guardflag= MA
pausetime= 0,100
sparkxy= 0,-57
sparkno= -1
hitsound= -1
guardsound= 6,0
ground.type= High
ground.slidetime= 12
ground.hittime= 60
ground.velocity= 3
air.velocity= 3
p1stateno = 3401
[State 0]
type= ChangeState
trigger1= Time= 25
value= 0
ctrl= 1

[Statedef 3401]
type = S
movetype = A
physics = S
ctrl = 0
anim = 3401
velset = 0,0
poweradd = -200


[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim =  3704
pos = 20,-30
postype = p1
facing = 1
vfacing = 1
bindtime = -1
random = 0,0
removetime = 60
scale = 1,1
sprpriority = 10
removeongethit = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 3
x = p2bodydist x -0
y = p2bodydist y -0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S989,12
volume = 255
channel = -1
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 5
x = p2bodydist x - 0
y = p2bodydist y - 0
[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
time = 3
add = 256,256,256
[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
x = 2
[State 0, VelSet]
type = VelSet
trigger1 = AnimElem = 6
x = 6
[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = hard
damage    = 30, 7
guardflag = MA
pausetime = 1,15
sparkno = s2009
guard.sparkno = 2
sparkxy = -20,-53
hitsound   = S333,5
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90
[State 0]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = light
damage    = 30, 7
guardflag = MA
pausetime = 1,15
sparkno = s2009
guard.sparkno = 2
sparkxy = -20,-37
hitsound   = S333,5
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90
[State 0]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
animtype  = light
damage    = 30, 7
guardflag = MA
pausetime = 1,100
sparkno = s2009
guard.sparkno = 2
sparkxy = -40,-30
hitsound   = S333,5
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 100
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90
p2stateno = 3402
[State 0]
type = HitDef
trigger1 = AnimElem = 7
attr = S, NA
animtype  = back
damage    = 50, 7
guardflag = MA
pausetime = 1,8
sparkno = s2009
guard.sparkno = 2
sparkxy = -40,-30
hitsound   = S333,5
guardsound = S6,0
ground.type = trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8,0
air.velocity = -8,0
envshake.time =30
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90
palfx.time= 30
palfx.mul= 256,256,256
palfx.add= 220,58,36
palfx.sinadd= -100,-100,-155,40
[State 0, Explod]
type = Explod
trigger1 = animelem = 7
anim = 20015
pos = 0,-30
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 10
removeongethit = 1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 7
time = 5
add = 256,256,256
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S800,0
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S989,31
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S989,19
volume = 255
channel = -1
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;==========================
[Statedef 3402]
type    = S
movetype= A
physics = S
velset = 0,0
juggle = 4
ctrl = 0
anim = 5090
[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 100
mul= 256,256,256
add= 220,58,36
sinadd= -100,-100,-155,40
[State 0, SprPriority]
type = SprPriority
trigger1  = time = 0
value = 2
[State 0, PosAdd]
type = PosAdd
trigger1  = time = 0
x =0
y = 4
[State 0]
type = changestate
trigger1 =time = 100
value = 0
ctrl = 1
;==========================
[Statedef 3200]
type    = S
movetype= A
physics = S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 3200
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S989,29
volume = 255
channel = 31
[State 0, PowerAdd]
type = PowerAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
trigger6 = AnimElem = 7
trigger7 = AnimElem = 8
trigger8 = AnimElem = 9
value = -30
[State 0]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
trigger6 = AnimElem = 7
trigger7 = AnimElem = 8
trigger8 = AnimElem = 9
value = 989,8
volume = 255
channel = -1
[State 0]
type= PalFX
trigger1= (!Time)
time= 10
add= 0,0,0
mul= 256,256,256
sinadd= -100,-100,-100, 10
invertall= 0
color= 256
[State 0]
type= BGPalFX
trigger1= ProjContact = 1
time= 5
add= 75,75,75
mul= 256,256,256
sinadd	= 80,80,80,4
invertall= 0
color	= 256
ignorehitpause= 1
[State 0]
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
trigger3 = AnimElem = 6
trigger4 = AnimElem = 8
anim = 2009
postype = p1
pos = 20, -48
sprpriority = 3
bindtime = -1
removeongethit = 1
scale = 0.3,0.3
[State 1514]
type = Projectile
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
trigger3 = AnimElem = 6
trigger4 = AnimElem = 8
projanim = 1515
projhitanim = 20029
projshadow = 0,0,0
projpriority = 4
projremovetime = 100
velocity = 8
offset = 20,-48
projid = 1515
attr = S, SP
damage   = 20,5
animtype = hard
guardflag = MA
hitflag = MAFPDP
pausetime = 1,3
hitsound = s989,9
guardsound = S989,9
sparkno = -1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.animtype = Low
air.velocity = -1,-1
air.juggle = 2
projscale = 0.6, 0.6
palfx.time= 12
palfx.mul= 256,256,256
palfx.add= 100,100,100
palfx.sinadd= 175,25,5,4
envshake.time = 12
envshake.freq = 120
envshake.ampl = -3
afterimage.time = 20
afterimage.length = 25
afterimage.palcontrast = 100,100,100
afterimage.paladd =  0,0,0
afterimage.palmul = .50, .50, .50
afterimage.framegap = 2
afterimage.trans = add
[State 0]
type = Explod
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
trigger4 = AnimElem = 9
anim = 2009
postype = p1
pos = 25, -40
sprpriority = 3
bindtime = -1
removeongethit = 1
scale = 0.3,0.3
[State 1514]
type = Projectile
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
trigger4 = AnimElem = 9
projanim = 1515
projhitanim = 20029
projshadow = 0,0,0
projpriority = 4
projremovetime = 100
velocity = 8
offset = 25,-40
projid = 1515
attr = S, SP
damage   = 20,5
animtype = hard
guardflag = MA
hitflag = MAFPDP
pausetime = 1,3
hitsound = s989,9
guardsound = S989,9
sparkno = -1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.animtype = Low
air.velocity = -1,-1
air.juggle = 2
projscale = 0.6, 0.6
palfx.time= 12
palfx.mul= 256,256,256
palfx.add= 100,100,100
palfx.sinadd= 175,25,5,4
envshake.time = 12
envshake.freq = 120
envshake.ampl = -3
afterimage.time = 20
afterimage.length = 25
afterimage.palcontrast = 100,100,100
afterimage.paladd =  0,0,0
afterimage.palmul = .50, .50, .50
afterimage.framegap = 2
afterimage.trans = add
[State 0]
type = ChangeState
triggerall = command = "lazer duplo"
triggerall = power >=200
trigger1 = Animelem = 9,[10,30]
value = 3201
ctrl = 0
[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;=================================
[Statedef 3201]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 3202
poweradd = -200
[State 0]
type= SuperPause
trigger1 = time = 0
time= 30
pos= 23,-44
movetime= 30
darken = 0
[State 0]
type = PlaySnd
trigger1 =  time= 0
value = S989,30
volume = 255
channel = -1
[State 0]
type= AllPalFX
trigger1= AnimElem = 1
time= 15
add= 0,0,0
mul= 256,256,256
sinadd	= 0,0,0,1
invertall= 0
color= (Time*5)
[State 0]
type=EnvColor
trigger1=Time=0
value=0, 0, 0
time=10
under=1
[State 0]
type = Explod
trigger1 = AnimElem = 2
anim = 2009
postype = p1
pos = 20, -48
sprpriority = 3
bindtime = -1
removeongethit = 1
scale = 0.3,0.3
[State 0]
type = Helper
trigger1 = animelem = 2
helpertype = Normal
pos= 20,-48
postype	= p1
facing = 1
stateno	= 3203
keyctrl	= 0
ownpal = 1
supermovetime = 200
pausemovetime = 200
[State 0]
type = Explod
trigger1 = AnimElem = 2
anim = 2009
postype = p1
pos = 25, -40
sprpriority = 3
bindtime = -1
removeongethit = 1
scale = 0.3,0.3
[State 0]
type = Helper
trigger1 = animelem = 2
helpertype = Normal
pos= 25,-40
postype	= p1
facing = 1
stateno	= 3203
keyctrl	= 0
ownpal = 1
supermovetime = 200
pausemovetime = 200
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
[Statedef 3203]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 1515
[State 0]
type = VelAdd
trigger1 = time >= 0
x = 3
[State 0]
type = Explod
trigger1 = movecontact = 1
anim = 20015
pos = 0,-60
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = 30
scale = 1,1
sprpriority = 8
removeongethit = 1
[State 0]
type= HitDef
trigger1= 1
attr= S, NA
hitflag	= MAFDP
guardflag= MA
animtype= Hard
priority= 7, Hit
damage	= 25,10
pausetime= 1,4
guard.pausetime	= 1,50
sparkno	= S1235
guard.sparkno= S1235
sparkxy	= 0,0
hitsound= S989,19
guardsound= S989,19
ground.type= Trip
air.type= Trip
ground.slidetime= 26
ground.hittime= 26
air.hittime= 26
yaccel	= 0.35
ground.velocity	= -25,-3
guard.velocity= -8
air.velocity= -25,-3
airguard.velocity= -25,-3
ground.cornerpush.veloff = 0
fall= 1
fall.recover = 0
Palfx.time = 20
palfx.add = 192,192,256
palfx.sinadd = 180,180,200,15
palfx.mul = 160,160,256
ownpal = 1
envshake.time = 30
envshake.freq = 120
envshake.ampl = -8
persistent= 0
down.bounce = 1
[State 0]
type = AfterImage
trigger1 = time = 0
time = -1
length = 50
palcontrast = 120+(var(25)=3)*50,120+(var(25)=3)*50,220-(var(25)=3)*100
paladd = -25+(var(25)=3)*15,-25+(var(25)=3)*15,-10-(var(25)=3)*15
palmul = .65+(var(25)=3)*.1,.65+(var(25)=3)*.1,.75-(var(25)=3)*.1
timegap = 2
framegap = 1
trans = add
[State 0]
type=AssertSpecial
trigger1=1
flag=NoShadow
ignorehitpause=1
[State 0]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA
ignorehitpause = 1
[State 0]
type = BgPalfx
trigger1 = movecontact = 1
time = 15
add = 256,256,256
[State 0]
type = DestroySelf
trigger1 = movecontact = 1


;=====================

[Statedef 3100]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 3100                       ;Change animation (Def: no change)
poweradd = -30                    ;Power to add (Def: 0)
sprpriority = 2
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
trigger2 = animelem = 3
x = 8
[State 0, MakeDust]
type = MakeDust
trigger1 = animelem = 1
trigger2 = animelem = 3
pos = -20,0
spacing = 3
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 16                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -10, -55             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s230, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = 0            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time =8
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 15                ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -10, -55             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s240, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = 0            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time =8
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
p1stateno = 3101


[State 200, 1]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
value = 240, 0
volume = 255

[State 0]
type = AfterImage
trigger1 = time = 0
time 	= 50
timegap	= 1
framegap = 2
length 	= 9
paladd 	= 0, 0, 0
palmul 	= 1, 1, 1
palcontrast = 110,110,110
trans = add
[State 0, BGPalFX]
type = BGPalFX
triggerall = movehit
trigger1 = animelem = 2 || animelem = 4
time = 4
add = 256,256,256
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 3101]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 3101
poweradd=-30                     ;Change animation (Def: no change)                 ;Power to add (Def: 0)
sprpriority = 2
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3102
pos = 120,120
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1.5
sprpriority = 10
removeongethit = 1


[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)                 ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 15                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -30, -50             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s250, 0                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -5,-3            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time =20
envshake.freq = 60
envshake.ampl = -5
envshake.phase = 90
palfx.time= 40
palfx.mul= 128,100,115
palfx.add= 132,88,135
palfx.sinadd= -100,-100,-155,100           ;Time before opponent regains control in air
[State 200, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 989, 28
volume = 255
[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 2
time = 10
add = 132,88,135
[State 0]
type = AfterImage
trigger1 = time = 0
time 	= 10
timegap	= 1
framegap = 2
length 	= 9
paladd 	= 0, 0, 0
palmul 	= 1, 1, 1
palcontrast = 110,110,110
trans = add
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = command = "x"
trigger1 = Animelem = 2,  [3,15]  && movehit
value = 3102
ctrl = 0


[Statedef 3102]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 3101
poweradd=-30                       ;Change animation (Def: no change)                 ;Power to add (Def: 0)
sprpriority = 2
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3102
pos = 120,120
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1.5
sprpriority = 10
removeongethit = 1


[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 20, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)                 ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 15                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -30, -50             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s250, 0                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -5,-3            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time =20
envshake.freq = 60
envshake.ampl = -5
envshake.phase = 90
palfx.time= 40
palfx.mul= 128,100,115
palfx.add= 132,88,135
palfx.sinadd= -100,-100,-155,100           ;Time before opponent regains control in air

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 989, 28
volume = 255

[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 2
time = 10
add = 132,88,135



[State 0]
type = AfterImage
trigger1 = time = 0
time 	= 10
timegap	= 1
framegap = 2
length 	= 9
paladd 	= 0, 0, 0
palmul 	= 1, 1, 1
palcontrast = 110,110,110
trans = add

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = command = "x"
trigger1 = Animelem = 2,  [3,15]  && movehit
value = 3103
ctrl = 0


[Statedef 3103]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 3101
poweradd=-30                        ;Change animation (Def: no change)                 ;Power to add (Def: 0)
sprpriority = 2
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 3102
pos = 120,120
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1.5
sprpriority = 10
removeongethit = 1


[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 30, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)                 ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 15                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -30, -50             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s250, 0                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -5,-3            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = trip                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time =20
envshake.freq = 60
envshake.ampl = -5
envshake.phase = 90
palfx.time= 40
palfx.mul= 128,100,115
palfx.add= 132,88,135
palfx.sinadd= -100,-100,-155,100           ;Time before opponent regains control in air

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 989, 28
volume = 255

[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 2
time = 10
add = 132,88,135



[State 0]
type = AfterImage
trigger1 = time = 0
time 	= 10
timegap	= 1
framegap = 2
length 	= 9
paladd 	= 0, 0, 0
palmul 	= 1, 1, 1
palcontrast = 110,110,110
trans = add

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;=================================
[Statedef 3000]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 3000
poweradd = -200
[State 0]
type = PlaySnd
trigger1 =  time= 20
value = S989,26
volume = 255
channel = -1
[State 0]
type = PlaySnd
trigger1 =  time= 20
value = S989,27
volume = 200
channel = -1


[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1033
pos = -8,-45
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 20
scale = 0.3,0.3
sprpriority = 5
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 20
anim = 1033
pos = 25,-50
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 30
scale = 0.6,0.6
sprpriority = 5
removeongethit = 1


[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1033
pos = 12,-50
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 20
scale = 0.3,0.3
sprpriority = 5
removeongethit = 1

[State 0]
type = Helper
trigger1 = animelem = 2
helpertype = Normal
pos= 22,-58
postype	= p1
facing = 1
stateno	= 3001
keyctrl	= 0
ownpal = 1
supermovetime = 200
pausemovetime = 200
[State 0]
type = ChangeState
trigger1 = AnimTime = 0 && BackEdgeBodyDist <= 0
value = 100
ctrl = 1
[State 0]
type = ChangeState
trigger1 = AnimTime = 0 && FrontEdgeBodyDist > 0
value = 0
ctrl = 1
[Statedef 3001]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 3001
[State 0]
type = Explod
trigger1 = movecontact = 1
anim = 20010
pos = 0,-50
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = 30
scale = 1,1
sprpriority = 8
removeongethit = 1
[State 0]
type= HitDef
trigger1= 1
attr= S, NA
hitflag	= MAFDP
guardflag= MA
animtype= Hard
priority= 7, Hit
damage	= 50,25
pausetime= 1,4
guard.pausetime	= 1,50
sparkno	= S1235
guard.sparkno= S1235
sparkxy	= 0,0
hitsound= S989,19
guardsound= S989,19
ground.type= Trip
air.type= Trip
ground.slidetime= 26
ground.hittime= 26
air.hittime= 26
yaccel	= 0.35
ground.velocity	= -25,-3
guard.velocity= -8
air.velocity= -25,-3
airguard.velocity= -25,-3
ground.cornerpush.veloff = 0
fall= 1
fall.recover = 0
Palfx.time = 20
palfx.add = 192,192,256
palfx.sinadd = 180,180,200,15
palfx.mul = 160,160,256
ownpal = 1
envshake.time = 40
envshake.freq = 120
envshake.ampl = -8
persistent= 0
down.bounce = 1
[State 0]
type = AfterImage
trigger1 = time = 0
time = -1
length = 50
palcontrast = 120+(var(25)=3)*50,120+(var(25)=3)*50,220-(var(25)=3)*100
paladd = -25+(var(25)=3)*15,-25+(var(25)=3)*15,-10-(var(25)=3)*15
palmul = .65+(var(25)=3)*.1,.65+(var(25)=3)*.1,.75-(var(25)=3)*.1
timegap = 2
framegap = 1
trans = add
[State 0]
type=AssertSpecial
trigger1=1
flag=NoShadow
ignorehitpause=1
[State 0]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA
ignorehitpause = 1
[State 0]
type = BgPalfx
trigger1 = movecontact = 1
time = 15
add = 256,256,256
[State 0]
type = DestroySelf
trigger1 = movecontact = 1


;=====================================
[Statedef 2500]
type = S
movetype= A
physics= S
velset= 0,0
anim = 2200
ctrl= 0
[State 0]
type = Explod
trigger1 = (time%4)=0
anim =101
facing = -1
pos = -25,-10
bindtime = 99
random = 0,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1

[State 0]
type = Explod
trigger1 = (time%4)=0
anim =101
facing = -1
pos = -45,-20
bindtime = 99
random = 0,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = (time%6)=0
anim =101
facing = -1
pos = -40,-30
bindtime = 99
random = 5,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = (time%3)=0
anim =101
facing = -1
pos = -35,-40
bindtime = 99
random = 10,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 0, Explod]
type = Explod
trigger1=animelem=1
anim =   30
pos = -65,5
postype = p1
facing = 0
vfacing = 0
bindtime = -1
;removetime = 10
scale = 1,1
sprpriority = 5
removeongethit = 1

[State 0]
type 			= AfterImage
trigger1 		= (!time)
time 			= 18
timegap		= 1
framegap 		= 2
length 		= 9
paladd 		= 0, 0, 0
palmul 		= 1, 1, 1
palcontrast 	= 110,110,110
trans 		= add

[State 0, MakeDust]
type = MakeDust
trigger1 = 1
pos = -10,0
spacing = 1
[State 0]
type= PlaySnd
trigger1= AnimElem= 1
value= s100, 0
volume = 255
[State 0]
type= VelSet
trigger1= AnimElem= 1
x= 25
[State 0]
type= HitDef
trigger1 = AnimElem = 1
attr= S, NA
animtype= Medium
damage = 10,5
guardflag= MA
pausetime= 0,100
sparkxy= 0,-57
sparkno= -1
hitsound= -1
guardsound= 6,0
ground.type= High
ground.slidetime= 12
ground.hittime= 60
ground.velocity= 3
air.velocity= 3
p1stateno = 2501
[State 0]
type= ChangeState
trigger1= Time= 25
value= 0
ctrl= 1
[Statedef 2501]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2500
velset = 0,0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 6
value = S989,21
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 27
value = S500,1
volume = 255
channel = -1

[State 0]
type = explod
trigger1 =time > 100
trigger1 =time < 400
trigger1 = timemod = 30,0
anim = 7032
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
scale = 0.8,0.8
sprpriority = 20
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =time > 100
trigger1 =time < 400
trigger1 = timemod = 30,0
value = S730,3
volume = 0
channel = -1


[State 3010, Turn]
Type = Turn
trigger1 = animelem = 1
trigger2 = animelem = 6
[State 2600,teleport]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x - 30
y = p2bodydist y - 30
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem =6
x = p2bodydist x -30
y = p2bodydist y -30
[State 0, PosAdd]
type = PosAdd
triggerALL = BackEdgeBodyDist > 50
trigger1 = animelem =9
x = p2bodydist x -80
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem =27
x = p2bodydist x +20
y = p2bodydist y +0
[State 0, PosSet]
type = PosSet
trigger1 = animelem = 9
y = 0
[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
time = 3
add = 256,256,256
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 25
value = S989,15
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 13
value = S989,22
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 27
value = S989,23
volume = 255
channel = -1
[State 0, EnvShake]
type = EnvShake
trigger1 = animelem =13
time = 370
freq = 60
ampl = -4
phase = 200
[State 2002, BGPalFX]
type = BGPalFX
trigger1 = Time >70
trigger1 = Time <450
time = 1
add = var(10),var(10),var(10)
color = 0
[State 2002, varrandom]
type = varrandom
trigger1 = time >= 0
v = 10
range = 0,255
[State 0, Explod]
type = Explod
trigger1 = animelem = 26
anim = 2501
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 6,0
accel = 0,0
removetime = 20
scale = 1,1
sprpriority = 1
removeongethit = 1
[State 0]
type = AfterImage
trigger1 = AnimElem = 27
time 	= 100
timegap	= 1
framegap = 2
length 	= 9
paladd 	= 0, 0, 0
palmul 	= 1, 1, 1
palcontrast = 110,110,110
trans = add
[State 0]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype  = light
damage    = 30, 7
guardflag = MA
pausetime = 1,15
sparkno = s2009
guard.sparkno = 2
sparkxy = -5,-17
hitsound   = S230,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =10
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90
[State 0]
type = HitDef
trigger1 = AnimElem = 7
attr = S, NA
animtype  = Hard
damage    = 50, 7
guardflag = MA
pausetime = 1,1
sparkno = S2009
guard.sparkno = S2
sparkxy = 0,-20
hitsound   = S230,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,-3
air.velocity = -0,-3
fall = 1
fall.recover = 0
envshake.time =10
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
[State 0]
type = HitDef
trigger1 = AnimElem = 27
attr = S, NA
animtype  = light
damage    = 30, 7
guardflag = MA
pausetime = 20,120
sparkno = s2009
guard.sparkno = 2
sparkxy = -20,-50
hitsound   = S230,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =50
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90
[State 0]
type = HitDef
trigger1 = AnimElem = 28
attr = S, NA
animtype  = Hard
damage    = 50, 7
guardflag = MA
pausetime = 1,1
sparkno = S2009
guard.sparkno = S2
sparkxy = -20,-50
hitsound   = S230,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -10,-4
air.velocity = -10,-4
fall = 1
fall.recover = 0
envshake.time =20
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90
[State 1703, 1]
type=Projectile
projscale = 1.3,1
trigger1=AnimElem =31
projanim=2502
projhitanim= 200151
projhits=99
projmisstime=2
projpriority=4
projremovetime=200
projid=1705
offset=15,-65
attr=S, HP
damage  =23,8
animtype=heavy
hitflag=MAFDP
pausetime=0,3
guard.pause ,50
hitsound=S99,3
projedgebound = 340
projstagebound = 340
projheightbound = 340
sparkno=20015
sparkxy=-50000,-50000
guardsound=6,0
ground.hittime = 35
ground.type = high
ground.slidetime = 20
ground.velocity = -1.5
air.velocity = -1,-1
air.fall = 1
fall = 1
fall.recover = 1
fall.recovertime = 200
air.juggle = 10
palfx.time = 20
palfx.add = 228,219,17
palfx.sinadd = 66,254,196,20
palfx.mul = 228,200,196
[State 0, NotHitBy]
type = NotHitBy
trigger1 = STATENO = 2500
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 600
[State 0, EnvShake]
type = EnvShake
trigger1 = ANIMELEM = 31
time = 200
freq = 60
ampl = -8
phase = 90
[State 0, EnvShake]
type = EnvShake
trigger1 = ANIMELEM = 32
time = 50
freq = 60
ampl = -18
phase = 90
[state 0]
type = allpalfx
trigger1 = ANIMELEM = 32
time = 20
add = 0,0,0
sinadd = 255,255,255,10
supermove= 9999
supermovetime	= 9999
pausemovetime	= 9999
[State 0, PowerAdd]
type = PowerAdd
trigger1 =  ANIMELEM = 31
value = -  2500
[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 32
value = S989,17
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 29
value = S989,24
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 31,10
value = S989,25
volume = 255
channel = -1
[State 0, TargetState]
type = TargetState
trigger1 = time =  37
value = 1233
[State 0, TargetState]
type = TargetState
trigger1 = animelem = 30
value = 1239
[State 0]
type= ScreenBound
trigger1= (P2MoveType = H) || (BackEdgeBodyDist < -1)
value= 0
movecamera= 0,0
[State 0]
type = ChangeState
trigger1 = AnimTime = 0 && BackEdgeBodyDist <= 0
value = 100
ctrl = 1
[State 0]
type = ChangeState
trigger1 = AnimTime = 0 && FrontEdgeBodyDist > 0
value = 0
ctrl = 1


;=================================
[Statedef 2400]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2400
poweradd = -1500
[State 0]
type= SuperPause
trigger1 = time = 0
time= 10
pos= 0,-70
movetime= 10
darken = 0
[State 0]
type = PlaySnd
trigger1 =  time= 0
value = S989,20
volume = 255
channel = -1
[State 0]
type= AllPalFX
trigger1= AnimElem = 1
time= 15
add= 0,0,0
mul= 256,256,256
sinadd	= 0,0,0,1
invertall= 0
color= (Time*5)
[State 0]
type=EnvColor
trigger1=Time=0
value=0, 0, 0
time=15
under=1
[State 0]
type = Helper
trigger1 = animelem = 2
helpertype = Normal
pos= 22,-66
postype	= p1
facing = 1
stateno	= 200122
keyctrl	= 0
ownpal = 1
supermovetime = 200
pausemovetime = 200
[State 0]
type = Helper
trigger1 = animelem = 2
helpertype = Normal
pos= 20,-64
postype	= p1
facing = 1
stateno	= 200122
keyctrl	= 0
ownpal = 1
supermovetime = 200
pausemovetime = 200
[State 0]
type= ScreenBound
trigger1= (P2MoveType = H) || (BackEdgeBodyDist < -1)
value= 0
movecamera= 0,0
[State 0]
type = ChangeState
trigger1 = AnimTime = 0 && BackEdgeBodyDist <= 0
value = 100
ctrl = 1
[State 0]
type = ChangeState
trigger1 = AnimTime = 0 && FrontEdgeBodyDist > 0
value = 0
ctrl = 1
[Statedef 200122]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 1515
[State 0]
type = VelAdd
trigger1 = time >= 0
x = 3
[State 0]
type = Explod
trigger1 = movecontact = 1
anim = 20015
pos = 0,-60
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = 30
scale = 1,1
sprpriority = 8
removeongethit = 1
[State 0]
type= HitDef
trigger1= 1
attr= S, NA
hitflag	= MAFDP
guardflag= MA
animtype= Hard
priority= 7, Hit
damage	= 250,50
pausetime= 1,4
guard.pausetime	= 1,50
sparkno	= S1235
guard.sparkno= S1235
sparkxy	= 0,0
hitsound= S989,19
guardsound= S989,19
ground.type= Trip
air.type= Trip
ground.slidetime= 26
ground.hittime= 26
air.hittime= 26
yaccel	= 0.35
ground.velocity	= -25,-3
guard.velocity= -8
air.velocity= -25,-3
airguard.velocity= -25,-3
ground.cornerpush.veloff = 0
fall= 1
fall.recover = 0
Palfx.time = 20
palfx.add = 192,192,256
palfx.sinadd = 180,180,200,15
palfx.mul = 160,160,256
ownpal = 1
envshake.time = 30
envshake.freq = 120
envshake.ampl = -8
persistent= 0
down.bounce = 1
[State 0]
type = AfterImage
trigger1 = time = 0
time = -1
length = 50
palcontrast = 120+(var(25)=3)*50,120+(var(25)=3)*50,220-(var(25)=3)*100
paladd = -25+(var(25)=3)*15,-25+(var(25)=3)*15,-10-(var(25)=3)*15
palmul = .65+(var(25)=3)*.1,.65+(var(25)=3)*.1,.75-(var(25)=3)*.1
timegap = 2
framegap = 1
trans = add
[State 0]
type=AssertSpecial
trigger1=1
flag=NoShadow
ignorehitpause=1
[State 0]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA
ignorehitpause = 1
[State 0]
type = BgPalfx
trigger1 = movecontact = 1
time = 15
add = 256,256,256
[State 0]
type = DestroySelf
trigger1 = movecontact = 1

;=====================================
[Statedef 2300]
type = S
movetype= A
physics= S
velset= 0,0
anim = 2200
ctrl= 0
[State 0, MakeDust]
type = MakeDust
trigger1 = 1
pos = -10,0
spacing = 1
[State 0]
type = Explod
trigger1 = (time%4)=0
anim =101
facing = -1
pos = -25,-10
bindtime = 99
random = 0,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1

[State 0]
type = Explod
trigger1 = (time%4)=0
anim =101
facing = -1
pos = -45,-20
bindtime = 99
random = 0,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = (time%6)=0
anim =101
facing = -1
pos = -40,-30
bindtime = 99
random = 5,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = (time%3)=0
anim =101
facing = -1
pos = -35,-40
bindtime = 99
random = 10,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 0, Explod]
type = Explod
trigger1=animelem=1
anim =   30
pos = -65,5
postype = p1
facing = 0
vfacing = 0
bindtime = -1
;removetime = 10
scale = 1,1
sprpriority = 5
removeongethit = 1

[State 0]
type 			= AfterImage
trigger1 		= (!time)
time 			= 18
timegap		= 1
framegap 		= 2
length 		= 9
paladd 		= 0, 0, 0
palmul 		= 1, 1, 1
palcontrast 	= 110,110,110
trans 		= add

[State 0]
type= PlaySnd
trigger1= AnimElem= 1
value= s100, 0
volume = 255
[State 0]
type= VelSet
trigger1= AnimElem= 1
x= 25
[State 0]
type= HitDef
trigger1 = AnimElem = 1
attr= S, NA
animtype= Medium
damage = 10,5
guardflag= MA
pausetime= 0,100
sparkxy= 0,-57
sparkno= -1
hitsound= -1
guardsound= 6,0
ground.type= High
ground.slidetime= 12
ground.hittime= 60
ground.velocity= 3
air.velocity= 3
p1stateno = 32013
[State 0]
type= ChangeState
trigger1= Time= 25
value= 0
ctrl= 1
[Statedef 32013]
type = S
movetype = A
physics = S
ctrl = 0
anim = 3201
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S989,12
volume = 255
channel = -1



[State 0, PosAdd]
type = PosAdd
trigger1 = time = 5
x = p2bodydist x - 0
y = p2bodydist y - 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
time = 3
add = 256,256,256

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = light
damage    = 30, 7
guardflag = MA
pausetime = 1,15
sparkno = s2009
guard.sparkno = 2
sparkxy = -20,-57
hitsound   = S333,5
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2
envshake.time =6
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = Hard
damage    = 50, 7
guardflag = MA
pausetime = 1,0
sparkno = S2009
guard.sparkno = S2
sparkxy = -80,-50
hitsound   = S220,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8,-3
air.velocity = -8,-3
fall = 1
fall.recover = 0
envshake.time =10
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
[State 0, TargetState]
type = TargetState
trigger1 = time = 70
value = 1239
[State 0]
type = changestate
trigger1 = animtime = 0
value = 2302
ctrl = 1



[Statedef 2302]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 2302
ctrl = 0


[State 0]
type = explod
trigger1 =time > 500
trigger1 =time < 1000
trigger1 = timemod = 100,0
anim = 7032
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
scale = 0.8,0.8
sprpriority = 20
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =time > 500
trigger1 =time < 1000
trigger1 = timemod = 100,0
value = S730,3
volume = 0
channel = -1

[State 0]
type = explod
trigger1 =time > 1300
trigger1 =time < 1600
trigger1 = timemod = 50,0
anim = 7032
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
scale = 0.8,0.8
sprpriority = 20
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =time > 1300
trigger1 =time < 1600
trigger1 = timemod = 50,0
value = S730,3
volume = 0
channel = -1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x -80
[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,1
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 49
value = S989,14
volume = 255
channel = -1
[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 50
time = 500
freq = 60
ampl = -4
phase = 90
[State 2002, BGPalFX]
type = BGPalFX
trigger1 = Time >500
trigger1 = Time <1000
time = 1
add = var(10),var(10),var(10)
color = 0
[State 2002, varrandom]
type = varrandom
trigger1 = time >= 0
v = 10
range = 0,255
[State 7003, 1]
type = assertspecial
trigger1 = time = [0, 2000]
flag = nomusic
flag2 = nobardisplay
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S989,13
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 61
value = S989,15
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 62
value = S500,0
volume = 255
channel = -1
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 62
x = p2bodydist x -160
y = p2bodydist y -70
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 66
value = S989,16
volume = 255
channel = -1
[State 0, Explod]
type = Explod
trigger1 = animelem = 66
anim =  2303
pos = -30,-180
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 300
scale = 1,1
sprpriority = -1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 1550
anim =  20015
pos = 0,0
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
scale = 5,5
sprpriority = 20
removeongethit = 1
[State 0, EnvShake]
type = EnvShake
trigger1 = Time =1100
time = 360
freq = 60
ampl = -4
phase = 90
[State 2002, BGPalFX]
type = BGPalFX
trigger1 = Time >1100
trigger1 = Time <1549
time = 1
add = var(10),var(10),var(10)
mul = 241,69,19
sinadd = 0,0,0,1
invertall = 0
color = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time =1400
value = S989,17
volume = 100
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time =1560
value = S989,19
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time =1420
value = S989,18
volume = 255
channel = -1

[state 0]
type = allpalfx
trigger1 =  time = 1550
time = 50
add = 0,0,0
sinadd = 255,255,255,10;60
supermove= 9999
supermovetime= 9999
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 1580
time = 80
freq = 60
ampl = -30
phase = 90


[State 0]
type	= Helper
trigger1= (Time > 1100) && ((GameTime%10) = 0) && (Random < 249) && (NumHelper(8200) < 5)
helpertype= Normal
name= "pedras"
id= 1230
pos= 0,0
postype= p1
facing	 = 0
stateno	 = 1230
keyctrl	 = 0
ownpal	 = 1
supermovetime= 9999
pausemovetime= 9999
size.xscale= (IfElse(Random <= 799,0.75,3))
size.yscale= (IfElse(Random <= 799,0.75,3))
[State 0]
type= Helper
trigger1= (Time > 1100) && ((GameTime%20) = 0) && (Random > 749) && (NumHelper(8210) < 5)
helpertype= Normal
name	= "pedras1"
id = 1231
pos = 0,0
postype	= p1
facing	= 0
stateno	= 1231
keyctrl	= 0
ownpal	 = 1
supermovetime= 9999
pausemovetime= 9999
size.xscale= (IfElse(Random <= 499,0.75,0.50))
size.yscale= (IfElse(Random <= 499,0.75,0.50))
[State 0]
type= Helper
trigger1= (Time > 1100) && ((GameTime%30) = 0) && (Random = [249,749]) && (NumHelper(8220) < 5)
helpertype= Normal
name= "pedras2"
id= 1232
pos= 0,0
postype	= p1
facing	 = 0
stateno = 1232
keyctrl	= 0
ownpal = 1
supermovetime= 9999
pausemovetime= 9999
size.xscale = (IfElse(Random <= 499,0.50,0.75))
size.yscale= (IfElse(Random <= 499,0.50,0.75))
[State 2002, varrandom]
type = varrandom
trigger1 = time >= 0
v = 10
range = 0,255
[State 7003, raio]
type = Projectile
;projscale = 1.3,1.3
trigger1 = AnimElem = 67
projanim = 2303
projhitanim = 853
ProjRemAnim = 853
projhits = 9999
projmisstime = 3
projpriority = 300
projremovetime = 300
projid = 7004
velocity = 1,1
offset = 30,-76
attr = S, NA
damage   = 100,100
animtype = hard
guardflag = -1
hitflag = MAFDP
pausetime = 1,1
hitsound   = S1792,0
sparkno = S7035
sparkxy = 0,70
guardsound = S1792,0
ground.type = Trip
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = 0, 0
fall = 1
fall.yvelocity = -4.5
fall.recover = 1
fall.recovertime = 200
air.velocity = 0, 0
palfx.time = 50
palfx.add = 176,0,0
palfx.mul = 300,192,192
envshake.time =8
envshake.freq = 60
envshake.ampl = -16
envshake.phase = 90


[State 0, PowerAdd]
type = PowerAdd
trigger1 = animelem = 81
value = -3000


[state 7003,fim]
type = changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;=====================================
[Statedef 2200]
type = S
movetype= A
physics= S
velset= 0,0
anim = 2200
ctrl= 0
[State 0]
type = Explod
trigger1 = (time%4)=0
anim =101
facing = -1
pos = -25,-10
bindtime = 99
random = 0,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1

[State 0]
type = Explod
trigger1 = (time%4)=0
anim =101
facing = -1
pos = -45,-20
bindtime = 99
random = 0,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = (time%6)=0
anim =101
facing = -1
pos = -40,-30
bindtime = 99
random = 5,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = (time%3)=0
anim =101
facing = -1
pos = -35,-40
bindtime = 99
random = 10,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 5
ownpal = 1
removeongethit = 1

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 0, Explod]
type = Explod
trigger1=animelem=1
anim =   30
pos = -65,5
postype = p1
facing = 0
vfacing = 0
bindtime = -1
;removetime = 10
scale = 1,1
sprpriority = 5
removeongethit = 1

[State 0]
type 			= AfterImage
trigger1 		= (!time)
time 			= 18
timegap		= 1
framegap 		= 2
length 		= 9
paladd 		= 0, 0, 0
palmul 		= 1, 1, 1
palcontrast 	= 110,110,110
trans 		= add

[State 0, MakeDust]
type = MakeDust
trigger1 = 1
pos = -10,0
spacing = 1
[State 0]
type= PlaySnd
trigger1= AnimElem= 1
value= s100, 0
volume = 255
[State 0]
type= VelSet
trigger1= AnimElem= 1
x= 20
[State 0]
type= HitDef
trigger1 = AnimElem = 1
attr= S, NA
animtype= Medium
damage = 10,5
guardflag= MA
pausetime= 0,100
sparkxy= 0,-57
sparkno= -1
hitsound= -1
guardsound= 6,0
ground.type= High
ground.slidetime= 12
ground.hittime= 60
ground.velocity= 3
air.velocity= 3
p1stateno = 2201
[State 0]
type= ChangeState
trigger1= Time= 20
value= 0
ctrl= 1
[Statedef 2201]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2201
velset = 0,0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 5
x = p2bodydist x - 0
y = p2bodydist y - 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = movehit = 1
time = 3
add = 256,256,256
[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Hard
damage    = 100, 7
guardflag = MA
pausetime = 1,0
sparkno = S2009
guard.sparkno = S2
sparkxy = -40,-60
hitsound   = S220,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-10
air.velocity = -3,-10
fall = 1
fall.recover = 0
envshake.time =10
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
[State 0]
type = changestate
trigger1 = animtime = 0
value = 2202
ctrl = 1

[Statedef 2202]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0
anim = 2202
sprpriority = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 10
anim =5455
movetime =10
darken = 0
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x - 10
y = p2bodydist y - 40
[State 610, 2]
type = PlaySnd
trigger1 = Time = 2
value = 220, 0
volume = 255

[State 610, 2]
type = PlaySnd
trigger1 = Time = 0
value = 500, 1
volume = 255

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 20010
pos = 0,0
postype = p2
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 10


[State 610, 3]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
damage = 72
guardflag = HA
priority = 4
pausetime = 10,1
sparkno = s2009
sparkxy = 0,-35
hitsound   = s220,1
guardsound = s6,0
animtype = Med
ground.type = trip
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5,16
air.velocity = -3,16
envshake.time = 13
envshake.freq = 120
envshake.ampl = 6
[State 0, TargetState]
type = TargetState
trigger1 = TIME = 15
value = 1239
[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 2203
ctrl = 1


[Statedef 2203]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 2203
ctrl = 0
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = stateno = 2203
flag = nomusic
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x -100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,1
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S989,10
volume = 255
channel = -1
[State 0, PosSet]
type = PosSet
trigger1 =time = 0
y = 0
[State 0, Explod]
type = explod
trigger1 = animelem = 32
anim = 7030
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 25
supermove = 1
pausemove = 1
scale = 0.7,0.7
sprpriority = 10
removeongethit = 1
[State 0]
type = ScreenBound
Trigger1 = Time >= 0
value = 1
movecamera = 1,1
[State 0]
type = PowerAdd
trigger1 = Time >110
value = -6
[State 3010, palfx]
type = BgPalfx
trigger1 = animelem = 17
trigger2 = animelem = 18
trigger3 = animelem = 19
trigger4 = animelem = 20
trigger5 = animelem = 21
trigger6 = animelem = 22
trigger7 = animelem = 23
trigger8 = animelem = 24
trigger9 = animelem = 25
trigger10 = animelem = 26
trigger11= animelem = 27
trigger12 = animelem = 28
trigger13 = animelem = 29
trigger14 = animelem = 30
trigger15 = animelem = 31
time = 3
color = 0

[State 3010, palfx]
type = BgPalfx
trigger1 = animelem = 32
time = 25
color = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 17
trigger2 = animelem = 18
trigger3 = animelem = 19
trigger4 = animelem = 20
trigger5 = animelem = 21
trigger6 = animelem = 22
trigger7 = animelem = 23
trigger8 = animelem = 24
trigger9 = animelem = 25
trigger10 = animelem = 26
trigger11= animelem = 27
trigger12 = animelem = 28
trigger13 = animelem = 29
trigger14 = animelem = 30
trigger15 = animelem = 31
value = S989,8
volume = 255
channel = -1
[State 0]
type = helper
trigger1 = animelem = 17
trigger2 = animelem = 18
trigger3 = animelem = 19
trigger4 = animelem = 20
trigger5 = animelem = 21
trigger6 = animelem = 22
trigger7 = animelem = 23
trigger8 = animelem = 24
trigger9 = animelem = 25
trigger10 = animelem = 26
trigger11= animelem = 27
trigger12 = animelem = 28
trigger13 = animelem = 29
trigger14 = animelem = 30
trigger15 = animelem = 31
helpertype = normal
name = "tiro"
ID = 20009
pos = 33,-61
postype = p1
stateno = 20019
ownpal = 1
[State 0]
type = PlaySnd
trigger1 = AnimElem = 32
value = 989,11
volume = 255
channel = -1
[State 0]
type= PalFX
trigger1 = AnimElem = 32
time= 30
add= 0,0,0
mul= 256,256,256
sinadd= -100,-100,-100, 10
invertall= 0
color= 256
[State 0, EnvShake]
type = EnvShake
trigger1 = AnimElem = 32
time = 20
freq = 60
ampl = -4
phase = 90
[State 0]
type= BGPalFX
trigger1= ProjContact = 1
time= 5
add= 75,75,75
mul= 256,256,256
sinadd	= 80,80,80,4
invertall= 0
color	= 256
ignorehitpause= 1
[State 0]
type = Explod
trigger1 = animelem = 32
anim = 2204
postype = p1
pos = 25, -65
sprpriority = 3
bindtime = -1
removetime = 25
removeongethit = 1
scale = 0.3,0.3
[State 1514]
type = Projectile
trigger1 = AnimElem = 33
projanim = 2204
projhitanim = 3301
projshadow = 0,0,0
projpriority = 4
projremovetime = 100
velocity = 8
accel = 1
offset = 30,-60
projid = 1515
attr = S, SP
damage   = 100,5
animtype = hard
guardflag = MA
hitflag = MAFPDP
pausetime = 1,10
hitsound = s989,9
guardsound = S989,9
sparkno = -1
ground.type = trip
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.animtype = Low
air.velocity = -5,-1
air.juggle = 2
projscale = 0.6, 0.6
palfx.time= 12
palfx.mul= 256,256,256
palfx.add= 100,100,100
palfx.sinadd= 175,25,5,4
envshake.time = 30
envshake.freq = 120
envshake.ampl = -8
afterimage.time = 30
afterimage.length = 25
afterimage.palcontrast = 100,100,100
afterimage.paladd =  0,0,0
afterimage.palmul = .50, .50, .50
afterimage.framegap = 2
afterimage.trans = add

[State 0]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

[Statedef 20019]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 20019
ctrl = 0
sprpriority = 3
[state 0]
type = Assertspecial
trigger1 = time >= 0
flag = noshadow

[State 0]
type = AfterImage
trigger1 = (!time)
time 	= 30
timegap	= 1
framegap = 2
length 	= 9
paladd 	= 0, 0, 0
palmul 	= 1, 1, 1
palcontrast = 110,110,110
trans = add
[State 0]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Hard
damage    = 20,20
guardflag = MA
numhits = 1
pausetime = 0, 200
sparkno = S200200
sparkxy = 50,-10
hitsound   = s2000,1
guardsound = s6,0
ground.type = hard
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,0
ground.cornerpush.veloff =0
air.cornerpush.veloff = 0
air.velocity = -10,0
palfx.time = 20
palfx.add = 70,5,0
palfx.mul = 70,9,0
palfx.sinadd = 70,55,85,10
envshake.time =30
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim =  2002
pos = 10,-60
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 1.3,1.3
sprpriority = 10

[State 0]
type = Destroyself
trigger1 = time = 20


[Statedef 1233]
type = S
movetype= A
physics= S
velset= 0,0
anim = 5110
ctrl= 0
[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
freq = 60
ampl = -18
phase = 90
[State 0]
type = PosSet
trigger1 = time =0
y = 0
[State 0]
type = changestate
trigger1 = life = 0
value = 5110
ctrl = 1
[State 0]
type = changestate
trigger1 = time = 50
value = 5711
ctrl = 1

[Statedef 5711]
type = S
movetype= A
physics= S
velset= 0,0
anim = 0
ctrl= 0

[State 0]
type = SelfState
trigger1 = time = 3000
value = 0
ctrl= 1


[Statedef 1239]
type = S
movetype= A
physics= S
velset= 0,0
anim = 5110
ctrl= 0
[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
freq = 60
ampl = -18
phase = 90
[State 0]
type = PosSet
trigger1 = time =0
y = 0
[State 0]
type = changestate
trigger1 = life = 0
value = 5110
ctrl = 1
[State 0]
type = changestate
trigger1 = time = 50
value = 571
ctrl = 1

[Statedef 571]
type = S
movetype= A
physics= S
velset= 0,0
anim = 5300
ctrl= 0

[State 0]
type = SelfState
trigger1 = time = 3000
value = 0
ctrl= 1


;==========================
[Statedef 15143]
type    = S
movetype= A
physics = S
velset = 0,0,0
juggle = 4
ctrl = 0
poweradd= -60
anim = 15143

[State 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 989,8
volume = 255
channel = -1

[State 0]
type= PalFX
trigger1= (!Time)
time= 10
add= 0,0,0
mul= 256,256,256
sinadd= -100,-100,-100, 10
invertall= 0
color= 256

[State 0]
type= BGPalFX
trigger1= ProjContact = 1
time= 5
add= 75,75,75
mul= 256,256,256
sinadd	= 80,80,80,4
invertall= 0
color	= 256
ignorehitpause= 1

[State 0]
type = Explod
trigger1 = animelem = 2
anim = 2009
postype = p1
pos = 38, -56
sprpriority = 3
bindtime = -1
removeongethit = 1
scale = 0.3,0.3
[State 1514]
type = Projectile
trigger1 = AnimElem = 2
projanim = 1515
projhitanim = 20029
projshadow = 0,0,0
projpriority = 4
projremovetime = 100
velocity = 8, IfElse(Random <= 499,-0.8,0.8)
accel = 1, IfElse(Random <= 799,-0.1,0.1)
offset = 30,-55
projid = 1515
attr = S, SP
damage   = 10,5
animtype = hard
guardflag = MA
hitflag = MAFPDP
pausetime = 1,3
hitsound = s989,9
guardsound = S989,9
sparkno = -1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.animtype = Low
air.velocity = -1,-1
air.juggle = 2
projscale = 0.6, 0.6
palfx.time= 12
palfx.mul= 256,256,256
palfx.add= 100,100,100
palfx.sinadd= 175,25,5,4
envshake.time = 12
envshake.freq = 120
envshake.ampl = -3
afterimage.time = 20
afterimage.length = 25
afterimage.palcontrast = 100,100,100
afterimage.paladd =  0,0,0
afterimage.palmul = .50, .50, .50
afterimage.framegap = 2
afterimage.trans = add



[State 0]
type = ChangeState
triggerall = command = "z"
triggerall = power >=100
trigger1 = time > 15
trigger1 = time < 30
value =   15144
ctrl = 0

[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;==========================
[Statedef 15144]
type    = S
movetype= A
physics = S
velset = 0,0,0
juggle = 4
ctrl = 0
poweradd= -60
anim = 15144

[State 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 989,8
volume = 255
channel = -1

[State 0]
type= PalFX
trigger1= (!Time)
time= 10
add= 0,0,0
mul= 256,256,256
sinadd= -100,-100,-100, 10
invertall= 0
color= 256

[State 0]
type= BGPalFX
trigger1= ProjContact = 1
time= 5
add= 75,75,75
mul= 256,256,256
sinadd	= 80,80,80,4
invertall= 0
color	= 256
ignorehitpause= 1

[State 0]
type = Explod
trigger1 = animelem = 2
anim = 2009
postype = p1
pos = 38, -56
sprpriority = 3
bindtime = -1
removeongethit = 1
scale = 0.3,0.3
[State 1514]
type = Projectile
trigger1 = AnimElem = 2
projanim = 1515
projhitanim = 20029
projshadow = 0,0,0
projpriority = 4
projremovetime = 100
velocity = 8, IfElse(Random <= 499,-0.8,0.8)
accel = 1, IfElse(Random <= 799,-0.1,0.1)
offset = 30,-59
projid = 1515
attr = S, SP
damage   = 10,5
animtype = hard
guardflag = MA
hitflag = MAFPDP
pausetime = 1,3
hitsound = s989,9
guardsound = S989,9
sparkno = -1
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.animtype = Low
air.velocity = -1,-1
air.juggle = 2
projscale = 0.6, 0.6
palfx.time= 12
palfx.mul= 256,256,256
palfx.add= 100,100,100
palfx.sinadd= 175,25,5,4
envshake.time = 12
envshake.freq = 120
envshake.ampl = -4
afterimage.time = 20
afterimage.length = 25
afterimage.palcontrast = 100,100,100
afterimage.paladd =  0,0,0
afterimage.palmul = .50, .50, .50
afterimage.framegap = 2
afterimage.trans = add

[State 0]
type = ChangeState
triggerall = command = "z"
triggerall = power >=100
trigger1 = time > 15
trigger1 = time < 30
value =   15143
ctrl = 0

[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
; CNS x: {
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
; CNS x: {
[Statedef 180]
type = S
[State 0]
type = ChangeState
trigger1 = random <= 449
value = 181
[State 0]
type = ChangeState
trigger1 = random <= 449
value = 182
[State 0]
type = ChangeState
trigger1 = random <= 449
value = 183
[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0,0
[State 2002, BGPalFX]
type = BGPalFX
trigger1 = Time >20
time = 1
add = var(10),var(10),var(10)
color = 0
[State 2002, varrandom]
type = varrandom
trigger1 = time >= 0
v = 10
range = 0,255
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 13
value = S989,15
volume = 255
channel = -1
[State 0, EnvShake]
type = EnvShake
trigger1 = time = 20
time = 450
freq = 60
ampl = -5
phase = 90
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S989,44
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S989,18
volume = 255
channel = -1
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time =[0,450]
flag = roundnotover
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0
[State 0, Explod]
type = Explod
trigger1 = animelem = 10
anim = 1822
pos = -50,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 1,1
sprpriority = 20
removeongethit = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S500,1
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 40
value = S989,43
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S989,42
volume = 255
channel = -1
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time =[0,650]
flag = roundnotover
;---------------------------------------------------------------------------
; Win pose 1 - Bow
; CNS difficulty: basic
; CNS x: {
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S989,7
volume = 255
channel = -1
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time =[0,200]
flag = roundnotover

[Statedef 193]
type = S
ctrl = 0
anim = 193
velset = 0,0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
trigger2 = time = 100
trigger3 = time = 150
value = S500,1
volume = 255
channel = 18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 700
trigger2 = time = 750
trigger3 = time = 800
value = S500,1
volume = 255
channel = 18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 190
value = S989,39
volume = 255
channel = 18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 57
value = S989,40
volume = 255
channel = 18

[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 58
time = 15
add = 178,0,0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 58
value = S989,41
volume = 255
channel = -1
[State 0, Explod]
type = Explod
trigger1 = animelem = 57
anim = 7030
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 120
scale = 1,1
sprpriority = 20
removeongethit = 1
[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 57
time = 120
freq = 60
ampl = -4
phase = 90
[State 0, Explod]
type = Explod
trigger1 = animelem = 57
anim = 7031
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 120
scale = 1,1
sprpriority = -1
removeongethit =1

[State 0, Explod]
type = Explod
trigger1 = time = 50
anim = 1931
pos = -60,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 670
scale = 1,1
sprpriority = 20
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time =100
anim = 1932
pos = 60,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 690
scale = 1,1
sprpriority = 20
removeongethit = 1


[State 0, Explod]
type = Explod
trigger1 = time = 150
anim = 1933
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 700
scale = 1,1
sprpriority = 20
removeongethit = 1


[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro
flag2 = nomusic
[State 191, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S989,35
volume = 255
channel = 18
[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 30
value = S989,38
volume = 255
channel = 18
[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 8
value = S989,36
volume = 255
channel = 18
[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM =13
value = S989,37
volume = 255
channel = 18
[State 0, PlaySnd]
type = PlaySnd
trigger1 = ANIMELEM = 2
value = S500,0
volume = 255
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 =time = 580
value = S500,1
volume = 255
channel = -1
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1922
pos = -60,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 630
scale = 1,1
sprpriority = 20
removeongethit = 1
[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro
flag2 = nomusic
[State 191, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0



;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
; CNS x: {
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = -20
y = -100
[State 0, Explod]
type = Explod
trigger1 = time = 320
anim = 20015
pos = 20,60
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 20
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = time = 345
anim = 20015
pos = 20,30
postype = p1
facing = 1
vfacing = 1
vel = 0,2
bindtime = 1
scale = 1,1
removetime = 100
sprpriority = 20
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = time = 300
anim = 2009
pos = 17,-36
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 15
scale = 0.4,0.4
sprpriority = 5
removeongethit = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 300
value = S989,5
volume = 255
channel = -1
[State 0, Explod]
type = Explod
trigger1 = time = 310
anim = 1911
pos = 17,-32
postype = p1
facing = 1
vfacing = 1
bindtime = -1
;scale = 0.4,0.7
sprpriority = 6
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = animelem =1
anim = 191
pos = -15,-23
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 750
scale = 1,1
sprpriority = 2
removeongethit = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S989,1
volume = 255
channel = 18
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 320
value = S989,4
volume = 255
channel = 18
[State 0, EnvShake]
type = EnvShake
trigger1 = time = 320
time = 60
freq = 60
ampl = -6
phase = 90
[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 320
time = 7
add = 256,256,256
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 220
value = S989,2
volume = 255
channel = 18
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 350
value = S989,6
volume = 200
channel = 18
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 21
value = S989,3
volume = 255
channel = 18
[State 0, PosSet]
type = PosSet
trigger1 = animelem = 26
y = 0
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 26
x = 20
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 22
value = S500,0
volume = 255
channel = 18
[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S195,0
volume = 255
channel = 31



[State 195, 1]
type = CtrlSet
trigger1 = Time = 350
value = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;========================================================================
;=======================================================================

[Statedef 2000]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 2000
ctrl = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 11
anim = 2009
pos = 25,-53
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
supermove = 1
pausemove = 1
scale = 0.5,0.5
sprpriority = 10
removeongethit = 1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 11
time = 3
add = 256,256,256

[State 0]
type = SuperPause
trigger1 = Time = 2
pos = 0, -60
anim = 30
movetime = 120
time = 120
darken = 0
[State 0]
type = ScreenBound
Trigger1 = Time >= 0
value = 1
movecamera = 1,1
[State 0]
type = Playsnd
trigger1 = animelem = 1
value = 2000,0
channel = 31
volume = 500
[State 0]
type = PowerAdd
trigger1 = Time = 5
value = -1000

[State 3010, palfx]
type = BgPalfx
trigger1 = Time = 0
time = 120
color = 0

[State 0]
type = helper
trigger1 = animelem = 12
helpertype = normal
name = "tiro"
ID = 2000
pos = 30,-57
postype = p1
stateno = 2001
ownpal = 1
[State 00]
type = ChangeState
trigger1 = Time = 200
value = 0
ctrl = 1

[Statedef 2001]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 2001
ctrl = 0
sprpriority = 3
[state 0]
type = Assertspecial
trigger1 = time >= 0
flag = noshadow

[State 0]
type = AfterImage
trigger1 = (!time)
time 	= 30
timegap	= 1
framegap = 2
length 	= 9
paladd 	= 0, 0, 0
palmul 	= 1, 1, 1
palcontrast = 110,110,110
trans = add
[State 0]
type = Playsnd
trigger1 = time = 0
value = 99,4
volume = 255
[State 0]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Hard
damage    = 300,20
guardflag = MA
numhits = 1
pausetime = 0, 20
sparkno = S200200
sparkxy = 50,-10
hitsound   = s2000,1
guardsound = s6,0
ground.type = trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -10, -4
ground.cornerpush.veloff =0
air.cornerpush.veloff = 0
air.velocity = -10,0
palfx.time = 20
palfx.add = 70,5,0
palfx.mul = 70,9,0
palfx.sinadd = 70,55,85,10
envshake.time =30
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim =  2002
pos = 0,-55
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 1.3,1.3
sprpriority = 10

[State 0]
type = Destroyself
trigger1 = time = 50

[Statedef 730]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = changeanim
trigger1 = time = 0
value = 730
[State 0]
type = playsnd
trigger1 = time =10
value = s730,1
channel =31
volume = 255
[State 0]
type = playsnd
trigger1 = time = 0
value = s730,0
channel =29
volume = 255


[State 0]
type = Explod
trigger1 = time = 0
anim = 7030
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.6,0.7
sprpriority = 6
removeongethit = 1
[State 0]
type = Explod
trigger1 = time = 0
anim = 30
pos = -30,10
postype = p1
facing = 1
vfacing = 1
bindtime = -1
;scale = 2.5,2.5
sprpriority = 9
removeongethit = 1
[State 0]
type = Explod
trigger1 = time = 0
anim = 30
pos = 30,10
postype = p1
facing = -1
vfacing = 1
bindtime = -1
;scale = 2.5,2.5
sprpriority = 9
removeongethit = 1
[State 0]
type = changestate
trigger1 = animtime = 0
value = 731
[Statedef 731]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = palfx
trigger1 = timemod = 2, 1
time = 1
add = 224,96,64
sinadd = 200,72,40,1
[State 0]
type  = Helper
trigger1 = (TimeMod = 30,0)
helpertype = normal
name = "efeito para empura"
id  = 989
pos = 0,0
postype  = p1
facing = 1
stateno = 989
keyctrl	 = 0
ownpal= 1
supermovetime= 0
pausemovetime= 0
size.xscale  = 1
size.yscale = 1
[State 0]
type = Explod
triggerall = var(1) = 0
trigger1 = timemod = 9,0
anim = 7030
pos = 0,5
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.6,0.7
ownpal = 1
sprpriority = 10
removeongethit = 1
[State 0]
type = Explod
trigger1 = timemod = 24,0
anim = 30
pos = -50,10
ID = 7030
postype = p1
facing = 1
vfacing = 1
bindtime = -1
ownpal = 1
sprpriority = 9
removeongethit = 1
[State 0]
type = Explod
trigger1 = timemod = 24,0
anim = 30
pos = 50,10
ID = 7030
postype = p1
facing = -1
vfacing = 1
bindtime = -1
sprpriority = 9
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
triggerall = var(1) = 0
trigger1 = timemod = 24,0
anim = 1034
pos = 0,5
ID = 7030
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 1.9,1
ownpal = 1
sprpriority = 20
removeongethit = 1
[State 0]
type = null
trigger1 = timemod = 100,0
anim = 7032
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
scale = 0.8,0.8
sprpriority = 20
ownpal = 1
removeongethit = 1

;[State 0, PlaySnd]
;type = PlaySnd
;trigger1 = timemod = 100,0
;value = S730,3
;volume = 255
;channel = -1



[State 0]
type = Explod
trigger1 = timemod= 18,0
anim = 7031
pos = 0,0
ID = 7030
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = -1
ownpal = 1
removeongethit = 1

[State 0]
type	= Helper
trigger1= (Time > 20) && ((GameTime%10) = 0) && (Random < 249) && (NumHelper(8200) < 5)
helpertype= Normal
name= "pedras"
id= 1230
pos= 0,0
postype= p1
facing	 = 0
stateno	 = 1230
keyctrl	 = 0
ownpal	 = 1
supermovetime= 9999
pausemovetime= 9999
size.xscale= (IfElse(Random <= 799,0.75,3))
size.yscale= (IfElse(Random <= 799,0.75,3))
[State 0]
type= Helper
trigger1= (Time > 20) && ((GameTime%20) = 0) && (Random > 749) && (NumHelper(8210) < 5)
helpertype= Normal
name	= "pedras1"
id = 1231
pos = 0,0
postype	= p1
facing	= 0
stateno	= 1231
keyctrl	= 0
ownpal	 = 1
supermovetime= 9999
pausemovetime= 9999
size.xscale= (IfElse(Random <= 499,0.75,0.50))
size.yscale= (IfElse(Random <= 499,0.75,0.50))
[State 0]
type= Helper
trigger1= (Time > 20) && ((GameTime%30) = 0) && (Random = [249,749]) && (NumHelper(8220) < 5)
helpertype= Normal
name= "pedras2"
id= 1232
pos= 0,0
postype	= p1
facing	 = 0
stateno = 1232
keyctrl	= 0
ownpal = 1
supermovetime= 9999
pausemovetime= 9999
size.xscale = (IfElse(Random <= 499,0.50,0.75))
size.yscale= (IfElse(Random <= 499,0.50,0.75))


[State 0]
type = changeanim
trigger1 = time = 0
value = 731
[State 0]
type = null
trigger1=time = 0
time = 3
add = 256,256,256
[State 0]
type= BGPalFX
trigger1= ((Time > 10) && ((GameTime%30) = 0))
time= 10
add= 92,78,244
mul= 256,256,256
sinadd	= 200,200,200,4
invertall= 1
color= 256
[State 0]
type = poweradd
triggerall = var(1) = 0
trigger1 = time > 0
value = 7
[State 0]
type = poweradd
triggerall = var(1) = 1
trigger1 = time > 0
value = 8
[State 0]
type = changestate
trigger1 = command != "carregar ki"
trigger1 = command != "carregar ki2"
trigger2 = power = 3000
value = 735
[State 0]
type = envshake
trigger1 = timemod = 6, 0
time = 6
freq = 20
ampl = -4
phase = 0
[Statedef 735]
type = S
physics = S
velset = 0,0,0
ctrl = 0
[State 0]
type = ChangeAnim
trigger1 = time = 0
value = 735
[State -2]
type=RemoveExplod
trigger1=time=1
ID=7030
[State -2]
type=RemoveExplod
trigger1=time=1
ID=7030
[State 0]
type = explod
trigger1 = time = 0
anim = 7030
pos = 0,0
scale = 0.5,0.6
removeongethit = 1
sprpriority = 20
[State -2]
type=RemoveExplod
trigger1=time=1
ID=730
[State 0]
type = playsnd
trigger1 = time = 0
value = s730,2
channel = 4
volume = 255
[State 0]
type = stopsnd
trigger1 = time = 0
channel = 31

[State 0]
type = stopsnd
trigger1 = time = 0
channel = 29

[State 0]
type = changestate
trigger1 = time = 6
value = 0
ctrl = 1
;==========================

[Statedef 989]
type  = S
movetype   = I
physics  = S
anim  = 989
ctrl   = 0
poweradd  = 0
juggle  = 0
facep2  = 1
hitdefpersist  = 0
movehitpersist  = 0
hitcountpersist = 0
sprpriority     = 0
[State 0 ]
type = VelSet
trigger1 = (!Time)
x  = 15
y  = 0
[State 0]
type   = PlayerPush
trigger1   = (1)
value  = 1
[State 0]
type  = NotHitBy
trigger1 = (1)
time  = 1
value = SCA
[State 0]
type = DestroySelf
trigger1= (Time = 20)
-----------------------

[Statedef 1230]
type = S
movetype= I
physics	= N
anim= 1230
ctrl= 0
poweradd= 0
juggle= 0
facep2	= 0
pausemove = 1
hitdefpersist= 0
movehitpersist= 0
hitcountpersist= 0
sprpriority= 0
[State 0]
type= SprPriority
trigger1= (!Time)
value= (IfElse(Random <= 499,3,-3))
[State 0]
type = VelAdd
trigger1  = (vel y < 0)
x = ifelse(parentdist x<=0,-3,3)
y = ifelse(random>500,-0.05,ifelse(random>500,-0.04,ifelse(random>500,-0.03,-0.02)))
[State 0]
type= VarRandom
trigger1= (!Time)
v= 0
range= -200,200
[State 0]
type= VarSet
trigger1= (!Time)
var(1) = (Parent, StateNo)
[State 0]
type= PosSet
trigger1= (!Time)
x= var(0)
y= 0
[State 0]
type= VelSet
trigger1= (Time = 1)
x  = (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y= (IfElse(Random <= 499,-.5,-1))
[State 0]
type= VelAdd
trigger1= (Parent, StateNo != Var(1))
y= .5
[State 0]
type= PlaySnd
trigger1= (!Time) && (Const(Size.XScale) <= 1)
value= S0,3
[State 0]
type= PlaySnd
trigger1= (!Time) && (Const(Size.XScale) > 1)
value= S0,1
[State 0]
type= PlaySnd
trigger1= (Pos Y >= 1)
value= S0,2
[State 0]
type= AfterImage
trigger1 = (!Time)
time = 15
timegap	 = 1
framegap = 2
length  = 10
paladd = 0, 0, 0
palmul 	= .50, .50, .50
palcontrast = 110,110,110
trans = add
[State 0]
type= DestroySelf
trigger1= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)
[Statedef 1231]
type = S
movetype= I
physics	 = N
anim= 1231
ctrl= 0
poweradd= 0
juggle = 0
facep2= 0
pausemove = 1
hitdefpersist= 0
movehitpersist= 0
hitcountpersist= 0
sprpriority= 0
[State 0]
type= SprPriority
trigger1= (!Time)
value= (IfElse(Random <= 499,3,-3))
[State Spinning the Rocks]
type = VelAdd
trigger1  = (vel y < 0)
x = ifelse(parentdist x<=0,-3,3)
y = ifelse(random>500,-0.05,ifelse(random>500,-0.04,ifelse(random>500,-0.03,-0.02)))
[State 0]
type= VarRandom
trigger1= (!Time)
v = 0
range= -200,200
[State 0]
type= VarSet
trigger1= (!Time)
var(1)= (Parent, StateNo)
[State 0]
type= PosSet
trigger1= (!Time)
x= var(0)
y= 0
[State 0]
type= VelSet
trigger1= (Time = 1)
x= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y= (IfElse(Random <= 499,-1.5,-2.5))
[State 0]
type= VelAdd
trigger1= (Parent, StateNo != Var(1))
y= .1
[State 0]
type= PlaySnd
trigger1= (!Time)
value= S2,2
[State 0]
type= PlaySnd
trigger1= (Pos Y >= 1)
value= S1,9
[State 0]
type= AfterImage
trigger1 = (!Time)
time = 15
timegap	= 1
framegap = 2
length = 10
paladd 	= 0, 0, 0
palmul 	= .50, .50, .50
palcontrast = 110,110,110
trans = add
[State 0]
type= DestroySelf
trigger1= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)
[Statedef 1232]
type = S
movetype= I
physics= N
anim= 1232
ctrl= 0
pausemove = 1
poweradd= 0
juggle = 0
facep2 = 0
hitdefpersist= 0
movehitpersist= 0
hitcountpersist	= 0
sprpriority= 0
[State 0]
type= SprPriority
trigger1= (!Time)
value= (IfElse(Random <= 499,3,-3))
[State 0]
type = VelAdd
trigger1= (vel y < 0)
x = ifelse(parentdist x<=0,-3,3)
y = ifelse(random>500,-0.05,ifelse(random>500,-0.04,ifelse(random>500,-0.03,-0.02)))
[State 0]
type= VarRandom
trigger1= (!Time)
v= 0
range= -200,200
[State 0]
type= VarSet
trigger1= (!Time)
var(1)= (Parent, StateNo)
[State 0]
type= PosSet
trigger1= (!Time)
x= var(0)
y= 0
[State 0]
type= PosSet
trigger1= (!Time)
y= 0
[State 0]
type= VelSet
trigger1= (Time = 1)
x= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y= (IfElse(Random <= 499,-2,-3))
[State 0]
type= VelAdd
trigger1= (Parent, StateNo != Var(1))
y= .1
[State 0]
type= PlaySnd
trigger1= (!Time)
value= S2,2
[State 0]
type	= PlaySnd
trigger1= (Pos Y >= 1)
value= S1,9
[State 0]
type= AfterImage
trigger1 = (!Time)
time = 15
timegap	= 1
framegap = 2
length 	= 10
paladd 	= 0, 0, 0
palmul 	= .50, .50, .50
palcontrast = 110,110,110
trans 	= add
[State 0]
type	= DestroySelf
trigger1= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)


;---------------------------------------------------------------------------
[Statedef 123]
type = S
movetype = I
physics = S
anim = 40
velset = 0, 0
sprpriority = 1
ctrl = 0
[State 0]
type = VarSet
trigger1 = time = 0
v = 2
value = 1
[State 0]
type = VarSet
trigger1 = time = 0
v = 4
value = 1
[State 0]
type = VarSet
trigger1 = time = 0
v = 1
value = ifelse(command = "holdfwd", 1, ifelse(command = "holdback", -1, 0))
[State 0]
type = Explod
trigger1 = AnimTime = 0
anim = 30
postype = p1
pos = -35, 15
bindtime = 1
removetime = -2
ownpal = 1
scale = 0.7,0.7
sprpriority = 10

[State 0]
type = Explod
trigger1 = AnimTime = 0
anim = 30
facing = -1
postype = p1
pos = 35, 15
bindtime = 1
removetime = -2
ownpal = 1
scale = 0.7,0.7
sprpriority = 10


[State 0]
type = Explod
trigger1 = time >2
anim =102
facing = -1
pos = 0,10
bindtime = 99
random = 0,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 20
ownpal = 1
removeongethit = 1

[State 0]
type = Explod
trigger1 = time >2
anim =102
facing = -1
pos = -5,20
bindtime = 99
random = 0,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 20
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = time >2
anim =102
facing = -1
pos = -10,30
bindtime = 99
random = 5,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 20
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = time >2
anim =102
facing = -1
pos = -15,30
bindtime = 99
random = 5,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 20
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = time >2
anim =102
facing = -1
pos = 5,40
bindtime = 99
random = 10,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime = 20
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = time >2
anim =102
facing = -1
pos = 10,50
bindtime = 99
random = 10,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime =20
ownpal = 1
removeongethit = 1
[State 0]
type = Explod
trigger1 = time >2
anim =102
facing = -1
pos = 15,60
bindtime = 99
random = 0,15
scale = .8-((random%5)/10),1
sprpriority = 0
removetime =20
ownpal = 1
removeongethit = 1
[State 0]
type = PlaySnd
trigger1 = AnimTime = 0
value = 40, 1
volume = 255

[State 0]
type = VelSet
trigger1 = AnimTime = 0
x = 2.25 * var(1)
y = -12.5

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 124
ctrl = 1
[Statedef 124]
type = A
movetype = I
physics = A
[State 0]
type = ChangeAnim
trigger1 = time = 0
trigger1 = PrevStateNo = 123 || PrevStateNo = 125
value = 41

[State 0]
type = ChangeAnim
trigger1 = time = 0
trigger1 = PrevStateNo = 123 || PrevStateNo = 125
trigger1 = Vel X > 0
value = 50

[State 0]
type = ChangeAnim
trigger1 = time = 0
trigger1 = PrevStateNo != 123 && PrevStateNo != 125
trigger2 = Anim = 41 && AnimTime = 0
value = 44

[State 0]
type = VelAdd
trigger1 = command = "holdfwd"
x = .1

[State 0]
type = VelAdd
trigger1 = command = "holdback"
x = -.1

[State 0]
type = ChangeState
triggerall = var(2) > 0
trigger1 = command = "paracima"
value = 125

[Statedef 125]
type    = A
physics = N
ctrl = 0
velset = 0,0

[State 0]
type = VarAdd
trigger1 = time = 0
v = 2
value = -1



[State 0]
type = ChangeAnim
trigger1 = SelfAnimExist(44)
value = 44

[State 0]
type = ChangeAnim
trigger1 = !SelfAnimExist(44)
value = 41

[State 0]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 0]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 0]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 0]
type = VelSet
trigger1 = Time = 2
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x) + 1.5))
y = const(velocity.airjump.y)



[State 0]
type = ChangeState
trigger1 = Time = 2
value = 124
ctrl = 1


;=================================
[Statedef 1510]
type = A
movetype = A
physics = A
velset = 0,-4
anim = 1510
ctrl = 0
[State 0]
type = PlaySnd
trigger1 = time = 0
value = S1500,0
volume = 255
channel = -1
[State 0]
type = Explod
trigger1 = TIME  = 0
anim = 30
pos = -30,10
postype = p1
facing = 1
bindtime = 1
removetime = -2
ontop = 1
shadow = 0,0,0
Scale = 0.5, 0.5
sprpriority = 5
[State 0]
type = Explod
trigger1 = TIME  = 0
anim = 30
pos = 30,10
postype = p1
facing = -1
bindtime = 1
removetime = -2
ontop = 1
shadow = 0,0,0
Scale = 0.5, 0.5
sprpriority = 5

[State 0]
type = changestate
trigger1 = animtime = 0
value = 1500
ctrl = 1


;-----------
[Statedef 1500]
type = S
movetype = I
physics = N
ctrl = 0
velset = 0,0
[State 0]
type = VarSet
Trigger1 = Time = 0
var(3) = 1
[State 0]
type = ReversalDef
Trigger1 = command = "holdback"
reversal.attr = SCA, NA, SA, HA
pausetime = 0,15
hitsound = S6, 0
p1stateno = 150
[State 0]
type = VelSet
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
Trigger1 = var(2) = 0
Trigger2 = Pos Y < -405
x = 0
y = 0
[State 0]
type = ChangeAnim
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
Trigger1 = Anim != 1500
value = 1500
[State 0]
type = VarSet
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
Trigger1 = var(2) != 2
Trigger2 = var(2) = 2
Trigger2 = Vel Y >= 1.3
v = 2
value = 1
[State 0]
type = VarSet
Triggerall = var(2) = 1
Trigger1 = Vel Y <= -1.3
Trigger2 = P2BodyDist Y > 250
Trigger2 = Vel Y < 0
v = 2
value = 2
[State 0]
type = VelAdd
Trigger1 = var(2) = 1
y = -0.1
[State 0]
type = VelAdd
Trigger1 = var(2) = 2
y = 0.1
[State 0]
type = VelSet
Triggerall = var(2) != 0
Trigger1 = command = "holdfwd"
Trigger2 = command = "holdback"
Trigger3 = command = "holdup"
Trigger4 = command = "holddown"
y = 0
[State 0]
type = VarSet
Trigger1 = command = "holdfwd"
Trigger2 = command = "holdback"
Trigger3 = command = "holdup"
Trigger4 = command = "holddown"
v = 2
value = 0
[State 0]
type = PosSet
Trigger1 = Pos Y < -400
y = -400
[State 0]
type = PosAdd
Trigger1 = P2BodyDist Y > 250
Trigger1 = Vel Y < 0
y = 1
[State 0]
type = VelSet
Trigger1 = P2BodyDist Y > 250
Trigger1 = Vel Y < 0
y = 0
[State 0]
type = VelAdd
Trigger1 = command = "holddown"
y = 0.4
[State 0]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = Vel Y < 0
y = 0
[State 0]
type = VelAdd
Trigger1 = command = "holdup"
y = -0.3
[State 0]
type = VelSet
Trigger1 = command = "holdup"
Trigger1 = Vel Y > 0
y = 0
[State 0]
type = ChangeAnim
Trigger1 = Anim != 1504
Trigger1 = command = "holdup"
value = 1504
[State 0]
type = VelAdd
Trigger1 = command = "holdback"
x = -0.3
[State 0]
type = VelSet
Trigger1 = command = "holdback"
Trigger1 = Vel X > 0
x = 0
[State 0]
type = ChangeAnim
Triggerall = Anim != 1502
Trigger1 = command = "holdback"
Trigger2 = command = "holddown"
value = 1502
[State 0]
type = VelAdd
Trigger1 = command = "holdfwd"
x = 0.4
[State 0]
type = VelSet
Trigger1 = command = "holdfwd"
Trigger1 = Vel X < 0
x = 0
[State 0]
type = ChangeAnim
Trigger1 = Anim != 1501
Trigger1 = command = "holdfwd"
value = 1501
[State 0]
type = ChangeAnim
triggerall = Anim != 1503
trigger1 = command = "holddown"
value = 1503
[State 0]
type = Turn
Trigger1 = P2Dist X < 0
[State 0]
type = ChangeState
Trigger1 = Pos Y >= 0
value = 52
ctrl = 1
[State 0]
type = ChangeState
Trigger1 = command = "voar"
Trigger1 = command = "holddown"
value = 50
ctrl = 1
[State 0]
type = ChangeState
trigger1 = Win = 1
trigger2 = Lose = 1
value = 1512

;--;-------------------------------------------------------------------------
[Statedef 1512]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1512
[State 0]
type = VelAdd
trigger1 = AnimElem = 1
trigger1 = AnimElem <= 2
x = -0.3
[State 0]
type = VelSet
trigger1 = AnimElem = 3
x = 0
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State ]
type = ChangeState
trigger1 = time = 60
value = 1513
;---------------------------------------------------------------------------
[Statedef 1513]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0
[State 0]
type = PlaySnd
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
persistent = 0
value = 21,4
[State 0]
type = PosSet
trigger1 = Vel Y = 0
y = 0
[State 0]
type = ChangeAnim
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 1513
[State 0]
type = Velset
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
y = 0
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 78963]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0,0,0
poweradd = -300
[State 0]
type = AfterImage
trigger1 = Time = 3
time = 5
length = 20
palbright = 10,10,-40
palcontrast = 190,190,210
palpostbright = -5,-5,-10
timegap = 2
flamegap = 1
trans = add1
[State 0]
type = changeanim
triggerall = var (5) = 0
trigger1 = time = 0
value = 20008
[State 0]
type = changeanim
triggerall = var (5) = 1
trigger1 = time = 0
value = 200089
[State 0]
type = playsnd
trigger1 = animelem = 3
value = 500, 1
volume= 255
[State 0]
type = changestate
trigger1 = animtime = 0
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = command != "ufire"
trigger1 = command != "dfire"
trigger1 = command != "bufire"
trigger1 = command != "bdfire"
value = 20018
ctrl = 0
[State 0]
type = changestate
trigger1 = animtime = 0
trigger1 = command = "holdfwd"
trigger1 = command != "ufire"
trigger1 = command != "dfire"
value = 20028
[State 0]
type = changestate
trigger1 = animtime = 0
trigger1 = command = "holdback"
trigger1 = command != "bufire"
trigger1 = command != "bdfire"
value = 20038
[State 0]
type = changestate
trigger1 = animtime = 0
trigger1 = command = "holdup"
trigger1 = command != "ufire"
trigger1 = command != "bufire"
value = 20048
[State 0]
type = changestate
trigger1 = animtime = 0
trigger1 = command = "holddown"
trigger1 = command != "dfire"
trigger1 = command != "bdfire"
value = 20058
[State 0]
type = changestate
trigger1 = animtime = 0
trigger1 = command = "ufire"
value = 20068
[State 0]
type = changestate
trigger1 = animtime = 0
trigger1 = command = "bufire"
value = 20078
[State 0]
type = changestate
trigger1 = animtime = 0
trigger1 = command = "dfire"
value = 20088
[State 0]
type = changestate
trigger1 = animtime = 0
trigger1 = command = "bdfire"
value = 20098
[Statedef 20018]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = changeanim
triggerall = var (5) = 0
trigger1 = time = 0
value = 20018
[State 0]
type = changeanim
triggerall = var (5) = 1
trigger1 = time = 0
value = 200189
[State 0]
type = posadd
trigger1 = time = 0
x = P2Dist X+30
y = p2bodydist y - 0
[State 0]
type = posset
trigger1 = time = 0
y = 0
[State 0]
Type = Turn
Trigger1 = P2Dist X < 0
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
[Statedef 20028]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = posadd
trigger1 = time = 0
x = 300
[State 0]
type = changeanim
triggerall = var (5) = 0
trigger1 = time = 0
value = 20018
[State 0]
type = changeanim
triggerall = var (5) = 1
trigger1 = time = 0
value = 200189
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
[Statedef 20038]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = posadd
trigger1 = time = 0
x = -300
[State 0]
type = changeanim
trigger1 = time = 0
triggerall = var (5) = 0
value = 20018
[State 0]
type = changeanim
triggerall = var (5) = 1
trigger1 = time = 0
value = 200189
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
[Statedef 20048]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 2004, 3]
type = posadd
trigger1 = time = 0
y = -200
[State 0]
type = changeanim
trigger1 = time = 0
triggerall = var (5) = 0
value = 20018
[State 0]
type = changeanim
triggerall = var (5) = 1
trigger1 = time = 0
value = 200189
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
[Statedef 20058]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = posset
trigger1 = time = 0
y = 0
[State 0]
type = changeanim
trigger1 = time = 0
triggerall = var (5) = 0
value = 20018
[State 0]
type = changeanim
triggerall = var (5) = 1
trigger1 = time = 0
value = 200189
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
[Statedef 20068]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = posadd
trigger1 = time = 0
x = 300
y = -200
[State 0]
type = changeanim
trigger1 = time = 0
triggerall = var (5) = 0
value = 20018
[State 0]
type = changeanim
triggerall = var (5) = 1
trigger1 = time = 0
value = 200189
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
[Statedef 20078]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = posadd
trigger1 = time = 0
x = -300
y = -200
[State 0]
type = changeanim
trigger1 = time = 0
triggerall = var (5) = 0
value = 20018
[State 0]
type = changeanim
triggerall = var (5) = 1
trigger1 = time = 0
value = 200189
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
[Statedef 20088]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = posadd
trigger1 = time = 0
x = 300
[State 0]
type = posset
trigger1 = time = 0
y = 0
[State 0]
type = changeanim
trigger1 = time = 0
triggerall = var (5) = 0
value = 20018
[State 0]
type = changeanim
triggerall = var (5) = 1
trigger1 = time = 0
value = 200189
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
[Statedef 20098]
type = S
physics = S
ctrl = 0
velset = 0,0,0
[State 0]
type = posadd
trigger1 = time = 0
x = -300
[State 0]
type = posset
trigger1 = time = 0
y = 0
[State 0]
type = changeanim
trigger1 = time = 0
triggerall = var (5) = 0
value = 20018
[State 0]
type = changeanim
triggerall = var (5) = 1
trigger1 = time = 0
value = 200189
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stand Light Punch
; CNS difficulty: easy
[Statedef 200]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 200                       ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 8                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -5, -55             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s200, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = 0            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0
volume = 255

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = command = "x"
trigger1 = Animelem = 2, > 1 && Animelem = 3, <= 20  && movecontact
ignorehitpause
value = 201
ctrl = 0

[Statedef 201]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 400                       ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -5, -30            ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s200, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = 0            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0
volume = 255

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = command = "x"
trigger1 = Animelem = 2, > 1 && Animelem = 3, <= 20  && movehit
ignorehitpause
value = 202
ctrl = 0


[Statedef 202]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 440                      ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -10, -15             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s230, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = 0            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time =15
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90                 ;Time before opponent regains control in air

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0
volume = 255

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Standing strong punch
; CNS difficulty: easy
; Note the width controller. It makes KFM's push box larger, so he doesn't
; stand so close to the opponent. Hit Ctrl-C and look at the red bar at his
; feet.
; The sprpriority for this state is at -1, instead of the usual 2 for
; attacks. This makes KFM appear behind the opponent initially.
; The SprPriority controller in [State 210, 4] brings KFM to the front when
; his arm has swung over.
; To stop KFM from pausing in his swing frame, there is a ChangeAnim in
; [State 210, 3] that detects if the hit has come in contact with the
; opponent during that frame, and switches to the next animation element
; (notice the elem=6 parameter). If you don't see what I mean, try commenting
; out that controller, then hit someone with this attack.
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 210
sprpriority = -1


[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 3
y = 0


[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0
volume = 255

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 57
guardflag = MA
pausetime = 10,12
sparkno = s2009
sparkxy = -5,-55
hitsound   = s210,1
guardsound = s6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = 0
air.velocity = -2.5,-4



[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = command = "y"
trigger1 = Animelem = 2, > 1 && Animelem = 3, <= 20  && movecontact
ignorehitpause
value = 211
ctrl = 0

[Statedef 211]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 211                       ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 3

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 6                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -30, -55             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s230, 2                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 10            ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -12,0            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time =12
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
[State 0, BGPalFX]
type = BGPalFX
trigger1 =   animelem = 2
time = 5
add = 256,256,256
[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0
volume = 255
[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
[State 0]
type = ChangeState
triggerall = command = "y"
trigger1 = Animelem = 2, > 2 && Animelem = 3, <= 20  && movehit
ignorehitpause
value = 212
ctrl = 0
[Statedef 212]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 212
sprpriority = -1

[State 0, PosAdd]
type = PosAdd
trigger1 =animelem = 3
x = p2bodydist x +50

[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 3
time = 5
anim =225625
pos = -1
movetime = 5
darken = 0

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 500, 1
volume = 255

[State 0, Turn]
type = Turn
trigger1 =animelem = 3
[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 6, 6                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -20, -55             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s230, 2                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 10             ;Time that the opponent slides back
ground.hittime  = 15             ;Time opponent is in hit state
ground.velocity = -12,0            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time =12
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 5
time = 5
add = 256,256,256
[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2
[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
[State 0]
type = ChangeState
triggerall = command = "y"
trigger1 = Animelem = 5,  [2,15]  && movehit
value = 213
ctrl = 1
[Statedef 213]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 213
sprpriority = -1
[State 0, PosAdd]
type = PosAdd
trigger1 =animelem = 3
x = p2bodydist x +50
[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 3
time = 5
anim =225625
pos = -1
movetime = 5
darken = 0
[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 500, 1
volume = 255
[State 0, Turn]
type = Turn
trigger1 =animelem = 3
[State 220]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Heavy
fall.animtype = diagUp
priority = 5,Hit
damage = 55
pausetime = 12,12
sparkno = S2009
sparkxy = -20,-65
hitsound = S230,1
guardsound = S6,0
ground.type = low
air.type = Low
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
air.hittime = 20
ground.velocity = -1,-9
air.velocity = -1,3.2
envshake.time = 13
envshake.freq = 120
envshake.ampl = 6
fall = 1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 5
time = 5
add = 256,256,256
[State 0, MakeDust]
type = MakeDust
triggerall = pos y = 0
trigger1 = time > 0
trigger1 = time < 12
pos = -10,0
spacing = 3
[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2
[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing light kick
; CNS difficulty: easy
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 200, 0
volume = 255

[State 230, 2]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Medium
damage    = 26
guardflag = MA
pausetime = 6,12
sparkno = s2009
sparkxy = -10,-47
hitsound   = s200,1
guardsound = s6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 11
ground.velocity = 0
air.velocity = -2.5,-3.5

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = command = "a"
trigger1 = Animelem = 2, > 1 && Animelem = 3, <= 20  && movecontact
ignorehitpause
value = 231
ctrl = 0

[Statedef 231]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 3,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 231                       ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -10, -40            ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s210, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = 0            ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0
volume = 255

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = command = "a"
trigger1 = Animelem = 2, > 1 && Animelem = 3, <= 20  && movehit
ignorehitpause
value = 232
ctrl = 0


[Statedef 232]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 232                    ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 4                 ;Time attacker pauses, time opponent shakes
sparkno = s2009                      ;Spark anim no (Def: set above)
sparkxy = -40, -10             ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = s230, 1                  ;Sound to play on hit
guardsound = s6, 0                ;Sound to play on guard
ground.type = trip               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -3,-3            ;Velocity at which opponent is pushed
airguard.velocity = -3.9,-3     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -3.4,-5           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12
envshake.time =15
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90                 ;Time before opponent regains control in air

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 220, 0
volume = 255

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 989, 21
volume = 255

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing strong kick
; CNS difficulty: easy
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 210, 0
volume = 255

[State 240, 2]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Medium
damage    = 63
guardflag = MA
pausetime = 12,12
sparkno = s2009
sparkxy = -10,-60
hitsound   = s210,1
guardsound = s6,0
ground.type = trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-4
air.velocity = -6.2,-8.2


[State 0]
type = ChangeState
triggerall = command = "b"
trigger1 = Animelem = 2,  [5,15]  && movehit
value = 241
ctrl = 0

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Standing strong kick
; CNS difficulty: easy
[Statedef 241]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 241
sprpriority = 2


[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 5
anim = 25552
movetime = 5
darken = 0


[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 500, 1
volume = 255

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 210, 0
volume = 255

[State 0, Turn]
type = Turn
trigger1 =  time = 1
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x +80
y = p2bodydist y - 0
[State 240, 2]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
animtype  = Medium
damage    = 63
guardflag = MA
pausetime = 12,12
sparkno = s2009
sparkxy = -10,-60
hitsound   = s210,1
guardsound = s6,0
ground.type = trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2



[State 0]
type = ChangeState
triggerall = command = "b"
trigger1 = Animelem = 2,  [5,15]  && movehit
value = 242
ctrl = 0

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Standing strong kick
; CNS difficulty: easy
[Statedef 242]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 241
sprpriority = 2


[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 5
anim = 25552
movetime = 5
darken = 0


[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 500, 1
volume = 255

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 210, 0
volume = 255

[State 0, Turn]
type = Turn
trigger1 =  time = 1
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x +80
y = p2bodydist y - 0
[State 240, 2]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
animtype  = Medium
damage    = 63
guardflag = MA
pausetime = 12,12
sparkno = s2009
sparkxy = -10,-60
hitsound   = s210,1
guardsound = s6,0
ground.type = trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2



[State 0]
type = ChangeState
triggerall = command = "b"
trigger1 = Animelem = 2,  [5,15]  && movehit
value = 243
ctrl = 0

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Standing strong kick
; CNS difficulty: easy
[Statedef 243]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 241
sprpriority = 2


[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 5
anim = 25552
movetime = 5
darken = 0


[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 500, 1
volume = 255

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 210, 0
volume = 255

[State 0, Turn]
type = Turn
trigger1 =  time = 1
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x +80
y = p2bodydist y - 0
[State 240, 2]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
animtype  = Medium
damage    = 63
guardflag = MA
pausetime = 12,12
sparkno = s2009
sparkxy = -10,-60
hitsound   = s210,1
guardsound = s6,0
ground.type = trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2




[State 0]
type = ChangeState
triggerall = command = "b"
trigger1 = Animelem = 2,  [5,15]  && movehit
value = 244
ctrl = 0

[State 0]
type = ChangeState
triggerall = command = "y"
trigger1 = Animelem = 2,  [5,15]  && movehit
value = 245
ctrl = 0


[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Standing strong kick
; CNS difficulty: easy
[Statedef 244]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 630
sprpriority = 2

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 5
anim = 25552
movetime = 5
darken = 0


[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x =6
y = 6

[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 500, 1
volume = 255

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 210, 0
volume = 255

[State 0, Turn]
type = Turn
trigger1 =  time = 1
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x +60
y = p2bodydist y -30
[State 240, 2]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Medium
damage    = 63
guardflag = MA
pausetime = 1,1
sparkno = s20095
sparkxy = -10,-25
hitsound   = s210,1
guardsound = s6,0
ground.type = trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -4.2,3.2
envshake.time =8
envshake.freq = 60
envshake.ampl = -6
envshake.phase = 90

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 20010
pos = 0,-30
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 5
removeongethit = 1



[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Standing strong kick
; CNS difficulty: easy
[Statedef 245]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 610
sprpriority = 2

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 5
anim = 25552
movetime = 5
darken = 0


[State 240, 1]
type = PlaySnd
trigger1 = Time = 1
value = 500, 1
volume = 255

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 220, 0
volume = 255

[State 0, Turn]
type = Turn
trigger1 =  time = 1
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x +60
y = p2bodydist y -30
[State 610, 3]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
damage = 72
guardflag = HA
priority = 4
pausetime = 10,1
sparkno = s2009
sparkxy = 0,-35
hitsound   = s220,1
guardsound = s6,0
animtype = Med
ground.type = trip
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -10,16
air.velocity = -10,16
envshake.time = 13
envshake.freq = 120
envshake.ampl = 6



[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Crouching light punch
; CNS difficulty: easy
; Description: Simple crouching attack. The HitDef's guardflag parameter
;     is set to "L", meaning that the move can only be guarded low
;     (crouching), and not by standing or jumping opponents.
;     Like for all light attacks, it's a good idea to keep the slidetime
;     and hittime parameters at a smaller number, so the opponent isn't
;     stunned for too long. For all crouching attacks you have to
;     remember to set the attr parameter to indicate that it is crouching
;     attack. In this case, "C, NA" stands for "crouching, normal attack".
;     The HitDef's priority is set at 3, instead of the default of 4,
;     so this attack has a lower priority than most others, meaning
;     KFM will get hit instead of trading hits with his opponent if
;     their attack collision boxes (Clsn1) intersect each other's Clsn2
;     boxes at the same time.
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15
ctrl = 0
anim = 400
sprpriority = 1

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0
volume = 255

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 23
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 6,8
sparkno = s2009
sparkxy = -10,-33
hitsound   = s200,1
guardsound = s6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 10
ground.velocity = -1
air.velocity = -1.5,-3

[State 400, 3]
type = CtrlSet
trigger1 = Time = 5
value = 1

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
;Crouching strong punch
; CNS difficulty: easy
; Description: This is a 2-hit move. It is done by having two HitDefs
;     triggered, one for each frame of animation that hits.
;     Notice how the first hit cannot be guarded by an opponent in the
;     air, because of the "M" in the guardflag, meaning it can only
;     be guarded "middle". The second hit has an "MA" guardflag, so
;     it can be guarded both on the ground and in the air.
; CNS x: 
; : UB
; Aj[VXHitDefo^B
; UHitDefguardflaguMvimiddleiK[hj
; ZbgAK[hB
; UguardflaguMAvimiddle+airi{K[hjA
; nAK[hB
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 410
sprpriority = 1

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0
volume = 255

;This is the first hit, triggered on the 3rd element of animation.
[State 410, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 37
animtype  = Medium
hitflag = MAF
guardflag = M
pausetime = 7,7
sparkno = s2009
sparkxy = -10,-33
hitsound   = s210,1
guardsound = s6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1
air.velocity = -3,-4

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1








;---------------------------------------------------------------------------
;Crouching light kick
; CNS difficulty: easy
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 22
ctrl = 0
anim = 430
sprpriority = 0

[State 430, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0
volume = 255

[State 430, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 28
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 6,8
sparkno = s2009
sparkxy = -5,-25
hitsound   = s200,1
guardsound = s6,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -1
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouch Strong Kick
; CNS difficulty: easy
; Description: This move uses "Trip" for the "ground.type" parameter in
;     its HitDef. It's a special type that puts the opponent in a tripped
;     animation as he falls. Also, the hitflag parameter in the HitDef
;     is set to "MAFD". The "D" indicates that a downed opponent can be
;     hit by the attack.
; CNS x: 
; :
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 440
sprpriority = 2

[State 440, 2]
type = PlaySnd
trigger1 = Time = 2
value = 220, 0
volume = 255

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 12
[State 0, MakeDust]
type = MakeDust
trigger1 = time > 4
trigger1 = time <15
pos = -10,0
spacing = 3



[State 440, 3]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 72
hitflag = MAFD
guardflag = L
pausetime = 12,5
sparkno = s2009
sparkxy = -5,-5
hitsound   = s220,1
guardsound = s6,0
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5,-2
air.velocity = -1.2,-3
guard.velocity = -5
fall = 1
envshake.time = 10
envshake.freq = 140
envshake.ampl = 4




[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Jump Light Punch
; CNS difficulty: easy
;---------------------------------------------------------------------------
;Jump Light Punch
; CNS difficulty: easy
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 600
sprpriority = 1

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0
volume = 255

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 20
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = s2009
sparkxy = -3,-45
hitsound   = s200,1
guardsound = s6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -1
air.velocity = -1,-1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Jump Strong Punch
; CNS difficulty: easy
;---------------------------------------------------------------------------
;Jump Strong Punch
; CNS difficulty: easy
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 610
sprpriority = 1

[State 610, 2]
type = PlaySnd
trigger1 = Time = 2
value = 220, 0
volume = 255

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 20010
pos = 0,0
postype = p2
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 10


[State 610, 3]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
damage = 72
guardflag = HA
priority = 4
pausetime = 10,1
sparkno = s2009
sparkxy = 0,-35
hitsound   = s220,1
guardsound = s6,0
animtype = Med
ground.type = trip
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5,16
air.velocity = -3,16
envshake.time = 13
envshake.freq = 120
envshake.ampl = 6


[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Jump Light Kick
; CNS difficulty: easy
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 20
ctrl = 0
anim = 630
sprpriority = 0

[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0
volume = 255

[State 630, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 26
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = s2009
sparkxy = -10,-20
hitsound   = s200,1
guardsound = s6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -2
air.velocity = -2,-1


[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Jump Strong Kick
; CNS difficulty: easy
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 640
sprpriority = 2

[State 610, 2]
type = PlaySnd
trigger1 = Time = 2
value = 220, 0
volume = 255

[State 610, 3]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
damage = 72
guardflag = HA
priority = 4
pausetime = 12,3
sparkno = s2009
sparkxy = -0,-40
hitsound   = s220,1
guardsound = s6,0
ground.type = trip
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -8,1
air.velocity = -8,1
envshake.time = 13
envshake.freq = 120
envshake.ampl = 6


[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 20010
pos = 0,0
postype = p2
facing = 1
vfacing = 1
bindtime = -1
scale = 1,1
sprpriority = 10

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Kung Fu Throw - Attempt
; CNS difficulty: medium-advanced
; Description: Throws are not difficult to make, although then can be
;     tedious at times. Throw attempt states have a HitDef of a
;     special format. The key parameters in a throw are p1stateno
;     and p2stateno. If the HitDef successfully connects, then
;     the attacker will change to the state number specified by
;     p1stateno, and the opponent will be change to the state
;     number assigned to p2stateno. The special thing about p2stateno
;     is that the opponent will be temporarily brought into the
;     attacker's state file. In this case, no matter who the
;     opponent is, he will be taken to state 820 of this file (kfm.cns)
;     and remain here until the end of the throw (look at his debug
;     information when he is being thrown; the text changes to yellow
;     to mean that he is in another player's state file).

[Statedef 12393]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1239
[State 0]
type = HitDef
trigger1 = p2bodydist Y = 0
trigger1 = AnimElem = 1
attr = S, NT
snap = 30,-3
hitsound   = S800,0
p2stateno = 12391
sparkno = s2009
sparkxy = -10,-30
[State 0]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
hitsound   = S230,1
p2stateno = 12391
sparkno = s2009
sparkxy = -15,-40
envshake.time =5
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
[State 0]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
hitsound   = S230,1
p2stateno = 12391
sparkno = s2009
sparkxy = -15,-40
envshake.time =5
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
[State 0]
type = HitDef
trigger1 = AnimElem = 7
attr = S, NA
damage = 30
sparkno = s2009
sparkxy = -15,-40
hitsound   = S230,1
guardsound = S6,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
p2stateno = 12391
ground.velocity = -1,-1
fall = 1
envshake.time =5
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
[State 0]
type = HitDef
trigger1 = AnimElem = 10
attr = S, NA
damage = 30
sparkno = s2009
sparkxy = -25,-20
hitsound   = S230,1
guardsound = S6,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -2,-1
fall = 1
envshake.time =15
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90

[State 0, BGPalFX]
type = BGPalFX
trigger1 = animelem = 10
time = 5
add = 256,256,256



[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9
value = S240,0
volume = 255
channel = -1

[State 0]
type = changestate
trigger1 = MoveHit = 0
trigger1 = Time > 3
value = 0
ctrl = 1
[State 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
[Statedef 12391]
type    = S
movetype= H
physics = S
ctrl = 0
facep2 = 1
anim = 5002
[state 0]
type = lifeadd
trigger1 = time = 1
value = -30
[State 0]
type = changestate
trigger1 = time = 113
value = 5050
ctrl = 1


;------------------
; Hit by Fast Kung Fu Palm - shaking from the hit
; (a custom gethit state)
; See State 1020 for details
[Statedef 1025]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1025, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 1025

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 1026

;------------------
; Hit by Fast Kung Fu Palm - flying through the air
; (a custom gethit state)
[Statedef 1026]
type    = A
movetype= H
physics = N

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 1027

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;------------------
; Hit by Fast Kung Fu Palm - hit wall
; (a custom gethit state)
[Statedef 1027]
type    = A
movetype= H
physics = N

[State 1027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 1027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1027

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 1028
[Statedef 1028]
type    = A
movetype= H
physics = N
[State 1028, 1]
type = NotHitBy
trigger1 = 1
value = , NA, NP
[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6
[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6
[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)
[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35
[State 1028, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050
[State 1028, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052
[State 1028, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060
[State 1028, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062
[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
[Statedef -3]
[State -3]
type = StopSnd
trigger1 = stateno = [5000,5200]
channel = 31
[State -3]
type = StopSnd
trigger1 = stateno = [5000,5200]
channel = 29
[State -3]
type = StopSnd
trigger1 = stateno = 0
channel = 18
[State -3]
type = afterimage
trigger1 = anim = 1510
time = 5
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add
[State -3]
type = afterimage
trigger1 = anim = 1500
time = 25
palcolor = 256
palbright = 30,30,30
palcontrast = 248,232,120
framegap = 1
timegap = 1
trans = add
[State -3]
type = SuperPause
trigger1 = P1name != "coola by Franciynaldo"
time = 999999
[State -3]
type = explod
trigger1 = life = 2700
trigger1 = roundstate != 0
trigger1 = numexplod(753) = 0
trigger1 = stateno = 180
anim = 753
id = 753
ignorehitpause = 1
bindtime = -1
postype = left
pos = 160,80
scale = 0.5,0.5
sprpriority = 20
[State -3]
type = PlaySnd
trigger1 = roundstate != 0
trigger1 = stateno = 180
trigger1 = life = 2700
value = S989,0
volume = 0
channel = -1
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52
trigger2 = stateno = 106
value = 40, 0
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = numproj = 0
triggerall = power > 1000
trigger1 = p2movetype = I
value = 2000
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = numproj = 0
triggerall = power > 1500
trigger1 = p2movetype = I
value = 2400
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = numproj = 1
triggerall = power > 2000
trigger1 = p2movetype = I
value =  2200
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = numproj = 0
triggerall = power >=2500
trigger1 = p2movetype = I
value = 2500
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = numproj = 0
triggerall = power >=3000
trigger1 = p2movetype = I
value = 2300
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
trigger1 = p2movetype = I
value = 15143
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = P2BodyDist X >150
triggerall = StateType = S
trigger1 = p2movetype = I
value = 3000
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = StateType = S
trigger1 = p2movetype = I
value = 3100
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = StateType = S
trigger1 = p2movetype = I
value = 3200
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = StateType = S
trigger1 = p2movetype = I
value = 3300
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = StateType = S
trigger1 = p2movetype = I
value = 3400
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = StateType = S
trigger1 = p2movetype = I
value = 3500
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = StateType = S
trigger1 = p2movetype = I
value = 3600
[State -3]
type = ChangeState
triggerall = Ctrl
triggerall = Random <= 300
triggerall = var(6) = 1
triggerall = StateType = S
trigger1 = p2movetype = I
value = 3700
[State -3]
type = ChangeState
triggerall = Var(6)= 1
triggerall = Random <= 300
triggerall =ctrl = 1
triggerall = StateType != A
triggerall = EnemyNear, StateType != C
triggerall = EnemyNear, MoveType = A
trigger1 = ctrl = 1 && (P2Movetype = A)
value = 150
[State -3]
type = ChangeState
triggerall = RoundState = 2
triggerall = Random <= 300
triggerall = Var(6)= 1 && Life != 0 && P2Life != 0
triggerall = statetype = S
triggerall = ctrl = 1
trigger1 = p2movetype = A
value = 130
[State -3]
type = ChangeState
triggerall = Var(6)= 1 && Life != 0 && P2Life != 0  && Random < 300
triggerall = statetype != A && p2stateno != 403 || p2stateno != 503 && p2stateno != [5110,5150]
triggerall = ctrl = 1 && stateno!=900 && stateno!=501
triggerall =prevstateno!=900 && prevstateno!=501 && p2bodydist Y =0 && movetype != A
trigger1 = p2movetype != A
trigger1 =p2bodydist x > 0 && p2bodydist x < 22
value = 800
[State -3]
type = ChangeState
triggerall = Var(6)= 1
triggerall = stateno =1510
triggerall = p2bodydist Y > 40
trigger1 = p2bodydist Y > 40
value = 50
[State -3]
type = ChangeState
triggerall = Var(6)= 1
triggerall = stateno =1500
triggerall = p2bodydist Y > 40
trigger1 = p2bodydist Y > 40
value = 50
[State -3]
type = ChangeState
triggerall = Var(6)= 1 && Life != 0 && P2Life != 0 && ctrl = 1
trigger1 = p2bodydist x > 200 && p2bodydist x < 260 && p2movetype = A
trigger2 = p2bodydist x < 30 && p2bodydist y < -30 && p2movetype = A
trigger3 = p2bodydist x < 50 && p2movetype = A && p2stateno = [600,799]
value = 78963
[State -3]
type = ChangeState
triggerall = Var(6)= 1 && Life != 0 && P2Life != 0 && ctrl = 1
trigger1 = p2bodydist x < 30 && p2bodydist y < -50 && p2movetype = A
value = 78963
[State -1]
type = changestate
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)
triggerall = Ctrl
triggerall = P2BodyDist X <= 30
trigger1 = p2movetype = I
trigger1 = Random <= 50
value = 200
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 200  && movehit
value = 201
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 201  && movehit
value = 202
[State -1]
type = changestate
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)
triggerall = Ctrl
triggerall = P2BodyDist X <= 30
trigger1 = p2movetype = I
trigger1 = Random <= 50
value = 230
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 230  && movehit
value = 231
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 231  && movehit
value = 232
[State -1]
type = changestate
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)
triggerall = Ctrl
triggerall = P2BodyDist X <= 50
trigger1 = p2movetype = I
trigger1 = Random <= 50
value = 240
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 240  && movehit
value = 241
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 241  && movehit
value = 242
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 242  && movehit
value = 243
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 243  && movehit
value = 244
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 243  && movehit
value = 245
[State -1]
type = changestate
triggerall = var(6) = 1
triggerall = StateType = S
triggerall = (p2statetype = S) || (p2statetype = C)
triggerall = Ctrl
triggerall = P2BodyDist X <= 30
trigger1 = p2movetype = I
trigger1 = Random <= 50
value = 210
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 210  && movehit
value = 211
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 211  && movehit
value = 212
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 212  && movehit
value = 213
[State -3]
type = changestate
triggerall = var(6) = 1
trigger1 = stateno = 213  && movehit
value = 123



